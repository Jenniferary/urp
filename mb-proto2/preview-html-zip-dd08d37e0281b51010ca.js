(()=>{var mi={99099:(se,q,i)=>{"use strict";i.d(q,{lQ:()=>Cn,Qb:()=>An,od:()=>$t});var f=i(87587),b=i(71114),L=i(17200),u=i(4978),o=i(35433),E=i(71101);const B={};function y(U,_e){typeof U=="object"&&(_e=U,U=void 0),_e=_e||{};const ye=(0,L.H)(U,_e.path||"/socket.io"),Be=ye.source,Ae=ye.id,$e=ye.path,Qe=B[Ae]&&$e in B[Ae].nsps,qe=_e.forceNew||_e["force new connection"]||_e.multiplex===!1||Qe;let tt;return qe?tt=new u.d(Be,_e):(B[Ae]||(B[Ae]=new u.d(Be,_e)),tt=B[Ae]),ye.query&&!_e.query&&(_e.query=ye.queryKey),tt.socket(ye.path,_e)}Object.assign(y,{Manager:u.d,Socket:o.s,io:y,connect:y});var k=i(63828),_=i(81697),d=i(60074),m=i(71090);const g=2*1e3,D=24*1e3,N=48*1e3,Z=()=>{},G=U=>{(0,d.Q)("SKT-QUE",U)},p=()=>({destroy:Z,reset:Z,emitAsync:a,emitLossy:Z,reqRoomAsync:()=>Promise.resolve(),getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),a=async(U,_e)=>({type:U,payload:_e,isDummy:!0}),P=U=>{let{query:{uId:_e,fURL:ye=globalThis.location.href.slice(0,128),uTag:Be=_.ck,vTag:Ae=m.i},lossyListenerMap:$e={},queueListenerMap:Qe={},socketUrl:qe=globalThis.location.origin,socketPath:tt=_.z3,usePolling:Ye=!1}=U;const Re=(0,k.hF)();let Ue,ge=(0,f.vH)(),Me=0,Te=O,Ke=null;const rt=()=>{Ue!==void 0&&(Ue.close(),Ue=void 0,ge=(0,f.vH)(),mt=!1,Ke&&clearTimeout(Ke),Ke=null)},vt=()=>{rt();const S=new u.d(qe,{path:tt,query:{uId:_e,fURL:ye,uTag:Be,vTag:Ae},transports:Ye?["polling","websocket"]:["websocket"],timeout:N,reconnectionDelay:Math.round((g+D)/2),reconnectionDelayMax:N,randomizationFactor:(D-g)/(D+g),closeOnBeforeunload:!1}).socket(_.Or);S.on("connect_error",F=>{console.log("[socket] connect_error",F),F.message.includes(_.Jc)&&(rt(),Re.dispatchEvent({type:_.E$,payload:{error:F}})),Re.dispatchEvent({type:_.Rm,payload:{error:F}})}),S.on("connect",async()=>{console.log("[socket] connect");{const F=Date.now(),v=await Bt(_.hD),ne=Date.now();Me=v-(F+ne)*.5}Te!==O&&await Bt(_.Cu,Te),Ke=(0,b.Q3)(()=>{!Ue||!Ue.connected||mt||vt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Re.dispatchEvent({type:_.FC}),ge.resolve()});{let F=Promise.resolve();const v=ne=>{const Pe=F.then(ne);return F=Pe.then(Z,G),Pe};Re.clear();for(const[ne,Pe]of Object.entries($e))S.on(ne,ze=>Pe({type:ne,payload:ze})),Re.addEventListener(ne,ze=>{let{payload:it}=ze;return Pe({type:ne,payload:it})});for(const[ne,Pe]of Object.entries(Qe))S.on(ne,ze=>v(()=>Pe({type:ne,payload:ze}))),Re.addEventListener(ne,ze=>{let{payload:it}=ze;return v(()=>Pe({type:ne,payload:it}))})}Ue=S};let mt=!1;const Bt=(A,S)=>new Promise(F=>{Ue.emit(A,S,F),mt=!0}).then(F=>{mt=!1;const{error:v,result:ne}=F;if(v!==void 0)throw Object.assign(new Error(typeof v=="object"&&v.message||"SKT-USR error"),v);return ne}),At=(A,S)=>{Ue.volatile.emit(A,S)},M=async A=>{await Bt(_.Cu,A),Te=A};return vt(),{destroy:rt,reset:vt,emitAsync:Bt,emitLossy:At,reqRoomAsync:M,getIsConnected:()=>Ue&&Ue.connected||!1,getSocketId:()=>Ue&&Ue.id||"",getReadyPromise:()=>ge.promise,getOffsetMsec:()=>Me}},O=[[],[],[]];var R=i(4423),K=i(6515),Q=i(77101),V=i(91320),ee=i(66234),W=i(76336),H=i(21630);const I=0,X={cDebugMin:I,cCmtPack:I+1,cCmtThread:I+2,cCmtContent:I+3,cDebugMax:35},Ee=(0,H.$)("cmt-type",X),te=Ee.pack("cCmtPack"),pe=Ee.pack("cCmtThread"),he=Ee.pack("cCmtContent"),oe=new Set(["cCmtPack","cCmtThread","cCmtContent"]),me=new Set([te,pe,he]);var Oe=i(80693);const we={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},Ce=(0,H.$)("DraftBlockType",we),et={left:0,center:1,right:2,justify:3},De=(0,H.$)("DraftAlignment",et),ve={LINK:0,IMAGE:1},xe=(0,H.$)("DraftEntityMapType",ve),je={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},We=(0,H.$)("DraftEntityMapMutability",je),Ne={_blank:0,_self:1},He=(0,H.$)("DraftLinkTargetOption",Ne),ke=U=>{const _e={};return Object.keys(U).forEach(ye=>{const{type:Be,mutability:Ae,data:$e}=U[ye],Qe=[xe.pack(Be),We.pack(Ae)],qe=[];Be==="LINK"?(Qe.push(He.pack($e.targetOption)),qe.push($e.url||"")):Be==="IMAGE"&&(Qe.push((0,ee.xd)($e.width),De.pack($e.alignment)),qe.push($e.src||"",$e.alt||"")),_e["e/"+ye]=[Qe.join(W.Kt),...qe]}),_e},ae=U=>{const _e={};for(const ye of Object.keys(U)){if(!ye.startsWith("e/"))continue;const Be=ye.split("e/")[1],[Ae,...$e]=U[ye],[Qe,qe,tt,Ye]=Ae.split(W.Kt),Re=xe.parse(Qe),Ue=We.parse(qe);_e[Be]=Re==="LINK"?{type:Re,mutability:Ue,data:{url:$e[0],targetOption:He.parse(tt)}}:{type:Re,mutability:Ue,data:{src:$e[0],alt:$e[1],width:(0,ee.nZ)(tt),alignment:De.parse(Ye)}}}return _e},Ze=U=>{const _e={};return Object.keys(U).forEach(ye=>{const{text:Be,type:Ae,depth:$e,inlineStyleRanges:Qe,entityRanges:qe,data:{textAlign:tt,textIndent:Ye,paraSpacing:Re}}=U[ye],Ue=[Ce.packDef(Ae,"unstyled"),(0,ee.xd)($e),tt?De.pack(tt):"",Ye!==void 0?(0,ee.xd)(Ye):"",Re!==void 0?(0,V.DF)(Re):""];_e["b/"+ye]=[Ue.join(W.Kt),Be,Qe.map(ge=>{let{offset:Me,length:Te,style:Ke}=ge;return Ie(Me,Te,Ke)}),qe.map(ge=>{let{offset:Me,length:Te,key:Ke}=ge;return ct(Me,Te,Ke)})]}),_e},ct=(U,_e,ye)=>""+(0,ee.xd)(U)+W.Kt+(0,ee.xd)(_e)+W.Kt+(0,ee.xd)(ye),at=U=>{const _e=U.indexOf(W.Kt),ye=U.indexOf(W.Kt,_e+1);return[(0,ee.nZ)(U.slice(0,_e)),(0,ee.nZ)(U.slice(_e+1,ye)),(0,ee.nZ)(U.slice(ye+1))]},Ie=(U,_e,ye)=>""+(0,ee.xd)(U)+W.Kt+(0,ee.xd)(_e)+W.Kt+ye,yt=U=>{const _e=U.indexOf(W.Kt),ye=U.indexOf(W.Kt,_e+1);return[(0,ee.nZ)(U.slice(0,_e)),(0,ee.nZ)(U.slice(_e+1,ye)),U.slice(ye+1)]},xt=U=>{const _e={};for(const ye of Object.keys(U)){if(!ye.startsWith("b/"))continue;const Be=ye.split("b/")[1],[Ae,$e,Qe,qe]=U[ye],[tt,Ye,Re,Ue,ge]=Ae.split(W.Kt),Me={};Re!==""&&(Me.textAlign=De.parse(Re)),Ue!==""&&(Me.textIndent=(0,ee.nZ)(Ue)),ge!==""&&ge!==void 0&&(Me.paraSpacing=(0,V.Ci)(ge)),_e[Be]={text:$e,type:Ce.parse(tt),depth:(0,ee.nZ)(Ye),inlineStyleRanges:Qe.map(Te=>{const[Ke,rt,vt]=yt(Te);return{offset:Ke,length:rt,style:vt}}),entityRanges:qe.map(Te=>{const[Ke,rt,vt]=at(Te);return{offset:Ke,length:rt,key:vt}}),data:Me}}return _e},Tt=U=>{let{message:_e}=U;const{blocks:ye={},entityMap:Be={}}=_e;return{...Ze(ye),...ke(Be)}},ie=U=>({message:{blocks:xt(U),entityMap:ae(U)}}),ue=U=>({T:Ee.pack(U.type),IC:[(0,ee.xd)(U.index),(0,ee.hc)(U.ctime)].join(W.Kt)}),be=U=>{const[_e,ye]=U.IC.split(W.Kt);return{type:Ee.parse(U.T),index:(0,ee.nZ)(_e),ctime:(0,ee.sO)(ye)}},Je=U=>({...ue(U),R:U.refKey}),ft=U=>({...be(U),refKey:U.R}),It=U=>({...ue(U),...Tt(U),xy:(0,V.jq)(U.x,U.y),wh:(0,V.jq)(U.w,U.h),z:(0,V.DF)(U.z),userInfo:U.userInfo,userId:(0,V.DF)(U.userId),mtime:(0,ee.hc)(U.mtime),isCompleted:(0,Oe.aY)(U.isCompleted),canvasVec2:U.canvasVec2?{x:(0,V.DF)(U.canvasVec2.x),y:(0,V.DF)(U.canvasVec2.y)}:U.canvasVec2,canvasCid:U.canvasCid,threadType:U.threadType}),Jt=U=>{const[_e,ye]=(0,V.dn)(U.xy),[Be,Ae]=(0,V.dn)(U.wh),$e=U.canvasVec2?(0,V.Ci)(U.canvasVec2.x):void 0,Qe=U.canvasVec2?(0,V.Ci)(U.canvasVec2.y):void 0,qe=(0,V.Ci)(U.z);return{...be(U),...ie(U),x:_e,y:ye,w:Be,h:Ae,z:qe,mtime:(0,ee.sO)(U.mtime),userInfo:U.userInfo,userId:(0,V.Ci)(U.userId),isCompleted:(0,Oe.YI)(U.isCompleted),canvasCid:U.canvasCid,threadType:U.threadType,canvasVec2:$e&&Qe?{x:$e,y:Qe}:void 0}},rn=U=>({...ue(U),...Tt(U),mtime:(0,ee.hc)(U.mtime),userInfo:U.userInfo}),Bn=U=>({...be(U),...ie(U),mtime:(0,ee.sO)(U.mtime),userInfo:U.userInfo}),Rn=U=>{try{switch(U.T){case void 0:return U;case te:return ft(U);case pe:return Jt(U);case he:return Bn(U);default:throw new Error("invalid attr: "+U.T+" -> "+Ee.parse(U.T))}}catch(_e){throw(0,d.Q)("toP2CHA badDat",_e,U),_e}},On=U=>{try{switch(U.type){case void 0:return U;case"cCmtPack":return Je(U);case"cCmtThread":return It(U);case"cCmtContent":return rn(U);default:throw new Error("invalid attr: "+U.type)}}catch(_e){throw(0,d.Q)("toP2CCA badDat",_e,U),_e}};var Mt=i(9390);const Dn=(U,_e)=>{const ye=qe=>{const tt=U(qe);return tt===void 0?[]:tt.sub.map(Ye=>U(Ye))},Be=(0,Mt.Ir)(qe=>qe.sub.map(tt=>U(tt))),Ae=(qe,tt)=>{const Ye=U(qe);Ye!==void 0&&(tt(Ye)||Ye.sub.length!==0&&Be(Ye,tt))};return{getHotItem:U,getSubHotItemList:ye,walkHotItemSubtree:Ae,isTrashed:qe=>(0,K.z4)(qe,_e.getFlatTree()),__devHotTree:function(qe){qe===void 0&&(qe=K.$3);const tt=new Map,Ye=Re=>{let Ue=tt.get(Re);return Ue===void 0&&tt.set(Re,Ue={}),Ue};return Ae(qe,Re=>{Ye(Re.sup)[Re.key]=Re.hotAttr,Re.sub.length!==0&&(Ye(Re.sup)[Re.key+" SUB"]=Ye(Re.key))}),Ye(U(qe).sup)}}};var Pt=i(53705),En=i(93834),vn=i(96293),Et=i(2150),Fn=i(60264);const Qt=(U,_e,ye)=>{const Be=ge=>{if(ge===void 0||ge.length===0)return;const Me=new Set;for(const Ke of ge)Me.add(Ke.key),Ke.type==="I"&&Me.add(Ke.keySup);const Te=(0,K.O2)([...Me].filter(K.w3),ye.getFlatTree());U({type:Fn.K,payload:Te})},Ae=ge=>{const Me=[],Te=ge(Me);return Be(ye.applyDiff(Me)),Te},$e=ge=>Ae(Me=>{const Te=[],Ke=ge(Te);for(const rt of Te)rt.type==="update"?Ye(rt.hotItem,Me):rt.type==="delete"&&Re(rt.key,Me);return Ke}),Qe=function(){const ge=[],Me=[];let Te,Ke=!1;for(var rt=arguments.length,vt=new Array(rt),mt=0;mt<rt;mt++)vt[mt]=arguments[mt];for(const Bt of vt){Te=Bt(ge);const At=ye.applyDiff(ge);At!==void 0&&(Me.push(...At),Ke?ye.combineLastUndo():Ke=!0)}return Be(Me),Te},qe=function(){for(var ge=arguments.length,Me=new Array(ge),Te=0;Te<ge;Te++)Me[Te]=arguments[Te];const Ke=Me.map(rt=>vt=>{const mt=[],Bt=rt(mt);for(const At of mt)At.type==="update"?Ye(At.hotItem,vt):At.type==="delete"&&Re(At.key,vt);return Bt});return Qe(...Ke)},tt=(ge,Me)=>{for(const Te of Object.keys(ge)){const Ke=ge[Te],rt=Me[Te];Ke!==rt&&(0,Pt.$N)(Ke)&&(0,Pt.$N)(rt)&&JSON.stringify(Ke)===JSON.stringify(rt)&&(ge[Te]=rt)}},Ye=(ge,Me)=>{const Te=(0,K.c6)(ge.key,ye.getFlatTree());if(Te===void 0)Me.push({type:Et.P6,key:ge.key,keySup:ge.sup}),Me.push({type:Et.q$,key:ge.key,attrDiff:On(ge.hotAttr)});else{Te.sup!==ge.sup&&Me.push({type:Et.P6,key:ge.key,keySup:ge.sup});const Ke=On(ge.hotAttr);tt(Ke,Te.attr);const rt=(0,vn.O)(Ke,Te.attr);rt!==void 0&&Me.push({type:Et.q$,key:ge.key,attrDiff:rt})}},Re=(ge,Me)=>{ye.getFlatItem(ge)&&Me.push({type:Et.P6,key:ge,keySup:K.bx})},Ue=(ge,Me,Te)=>{ye.getFlatItem(ge)&&ye.getFlatItem(Me)&&Te.push({type:Et.P6,key:ge,keySup:Me})};return{_edit:Ae,_editAction:$e,_editBatch:Qe,_editActionBatch:qe,onRemotePatchList:ge=>{const Me=[];for(const Te of ge){const Ke=ye.applyDiffRemote(Te.diffList,Te.clock);Ke!==void 0&&Me.push(...Ke)}Be(Me)},updateHotItem:ge=>Ae(Me=>{Ye(ge,Me)}),updateHotItemBatch:ge=>Ae(Me=>{for(const Te of ge)Ye(Te,Me)}),deleteHotItem:ge=>Ae(Me=>{Re(ge,Me)}),deleteHotItemBatch:ge=>Ae(Me=>{for(const Te of ge)Re(Te,Me)}),moveHotItem:(ge,Me)=>Ae(Te=>{Ue(ge,Me,Te)}),moveHotItemBatch:ge=>Ae(Me=>{for(const[Te,Ke]of ge)Ue(Te,Ke,Me)}),editHotItemBatch:ge=>Ae(Me=>{for(const Te of ge)Te.type==="update"?Ye(Te.hotItem,Me):Te.type==="delete"&&Re(Te.key,Me)}),updateHotAttrMerge:(ge,Me)=>Ae(Te=>{const Ke=_e(ge);if(Ke===void 0)throw new Error("no item: "+ge);Ye((0,En.iA)(Ke,"hotAttr",{...Ke.hotAttr,...Me}),Te)}),updateHotAttrKV:(ge,Me,Te)=>Ae(Ke=>{const rt=_e(ge);if(rt===void 0)throw new Error("no item: "+ge);Ye((0,En.iA)(rt,"hotAttr",(0,En.iA)(rt.hotAttr,Me,Te)),Ke)}),canUndo:ye.canUndo,canRedo:ye.canRedo,combineMergeMark:ye.combineMergeMark,combineMerge:ye.combineMerge,undo:()=>{Be(ye.undo())},redo:()=>{Be(ye.redo())}}};var on=i(50436);const dn=U=>{const _e=(0,k.Dt)(),ye=_e.subscribe,Be=_e.unsubscribe,Ae=bn(U),$e=Dn(Ae,U),Qe=()=>sn(U.getFlatTree),qe=Qt(_e.send,Ae,U),{_edit:tt,_editAction:Ye,_editBatch:Re,_editActionBatch:Ue,...ge}=qe;return{subscribe:ye,unsubscribe:Be,...$e,createRoCmtStore:Qe,...ge}},bn=U=>_e=>{const ye=U.getFlatTree().get(_e);if(ye===void 0)return;const Be=U.getOCI(ye);return Be.hotItem===void 0&&(Be.hotItem={key:ye.key,sup:ye.sup,sub:ye.sub,hotAttr:Rn(ye.attr)}),Be.hotItem},sn=U=>{const _e=(0,on.$H)(U(),(0,R.LQ)({})),ye=()=>_e.getFlatTree()!==U(),Be=()=>_e.sync(U()),Ae=bn(_e),$e=Dn(Ae,_e);return{hasUpdate:ye,syncUpdate:Be,...$e}};var xn=i(20100),Nt=i(30388),cn=i(58161),hn=i(82940);const Kn=U=>{const[_e,ye,Be]=U,Ae=()=>(0,K.Z0)((0,hn.rm)(_e.tre)),$e=function(Re){Re===void 0&&(Re=-1);const Ue=[];for(const{pbx:ge,t10s:Me}of ye){if(Me<Re)continue;const Te=(0,hn.rm)(ge);for(const Ke of(0,cn.sd)(Te))Ue.push(Ke)}for(const{pch:ge,t10s:Me}of Be)Me<Re||Ue.push(ge);return Ue},Qe=function(Re){Re===void 0&&(Re=-1);const Ue=[];for(const ge of $e(Re))Ue.push((0,Et.G8)(ge));return Ue},qe=function(Re){Re===void 0&&(Re=-1);const Ue=[];for(const ge of $e(Re)){const{clock:Me,diffList:Te}=(0,Et.G8)(ge);Ue.push([(0,R.I_)(Me).slice(5),Te,ge])}return Ue};return{getParsedTre:Ae,getPchList:$e,getPatchList:Qe,getReadablePatchList:qe,filterReadablePatchList:function(Re,Ue){return Ue===void 0&&(Ue=-1),qe(Ue).filter(ge=>{let[,Me,Te]=ge;return Te.includes(Re)})},getMergedReadablePatchList:function(Re,Ue){Re===void 0&&(Re=-1),Ue===void 0&&(Ue=16);const ge=[];let Me={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Te=Ke=>{Me.timePrefix!==Ke&&(Me.timePrefix!==""&&ge.push(Me.timePrefix.slice(5)+"..Z I*"+(Me.countDI||"-")+" A*"+(Me.countDA||"-")+" ["+[...Me.userIdSet].join(",")+"]"),Me={timePrefix:Ke,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Ke,rt],diffList:vt}of Qe(Re)){const mt=new Date(Ke).toISOString().slice(0,Ue);Te(mt),Me.userIdSet.add(rt);for(const{type:Bt}of vt)Bt===Et.P6?Me.countDI++:Me.countDA++}return Te(""),ge},flpak:U}},Ln=U=>Math.floor(U/10/1e3),zn=U=>{const[_e]=(0,Et.$i)(U);return Ln(_e)},Gn=U=>{let[_e,ye,Be]=U;return Be.length!==0?Be[Be.length-1].t10s:ye.length!==0?ye[ye.length-1].t10s:_e.t10s};var Yt=i(50781),Sn=i(67833),qt=i(71902);const Ht=(U,_e)=>{let ye=!1,Be=0,Ae=0;const $e=new Map;let Qe=[],qe,tt,Ye,Re;const Ue=()=>{tt===void 0&&console.log("sync|onSocketConnect")},ge=S=>{let[F,,v]=S;if(F!==U)return!1;const ne=(0,cn.Ue)(v);for(const Pe of ne)Qe.push([Pe,zn(Pe),!1]);return Ye!==void 0&&Ye(ne.map(Pe=>(0,Et.G8)(Pe))),!0},Me=async(S,F)=>{if(tt!==void 0)throw new Error("no re-init flatStore");qe=S,Re=F;const v=await Re(U);{const nt="INSP-INIT-FLPAK";location.hash.includes(nt)&&Object.assign(globalThis,{[nt+"/"+U]:{...Kn(v),__flpakKey:U,__name:_e}})}Be=Gn(v);const ne=(0,on.XD)(),Pe=await(0,Sn.Ys)(qt.V,v,ne.mutateTFAAFNB);let ze=K.DO;{const nt="BYPASS-FLPAK";location.hash.includes(nt)&&(ze=fe=>console.warn("["+nt+"|vFT]",fe))}for(const[nt,fe,Fe]of Qe)!Fe&&Be>=fe||(0,cn.kA)(Pe,nt,ne.mutateTFAAFNB);tt=(0,on.$H)(Pe,S,(nt,fe,Fe)=>{if(ye&&console.log("flat|onPatch",{diffList:nt,clock:fe,isLocal:Fe}),Qe.push([(0,Et.ZC)({diffList:nt,clock:fe}),Ln(fe[0]),Fe]),Fe)return;const[pt,St,Dt,Wt]=fe;Ae=Math.max(Ae,pt);const Rt=(0,R.kY)(St,Dt);if(qe.selfCCK===Rt)throw new Error("unexpected selfCck: "+Rt);const Xt=$e.get(Rt)||-1;if(Xt>Wt)throw new Error("bad editId for cck: "+Rt+", last: "+Xt+", new: "+Wt);$e.set(Rt,Wt)},(nt,fe)=>{console.warn("flat|requestResync",{error:nt,message:fe})}),Ye=nt=>{for(const fe of nt)tt.applyDiffRemote(fe.diffList,fe.clock)};const it=ne.getFixDiffList(Pe);it.length&&(tt.applyDiff(it),tt.resetUndo()),ze(Pe)},Te=S=>{Ye=S},Ke=()=>qe,rt=()=>tt,vt=async function(S){S===void 0&&(S="");try{if(!tt||!Be||!At())return;const F=tt.getFlatTree(),[v,ne]=await(0,Sn.TC)(qt.V,F);await(0,Yt.au)("//FSS/"+_e+"/"+U,new Blob([ne],{type:"application/octet-stream"}),{message:S,treRawSize:v,treSize:ne.byteLength})}catch(F){console.warn("saveSOS",S,F)}},mt=async()=>{try{const S=await(0,Yt.IF)("//FSS/"+_e+"/"+U);if(S.length){console.warn("[loadSOS] found "+S.length+" record");const{data:F,extra:v}=S[0];console.warn("[loadSOS] load record from "+new Date(v.time).toISOString());const ne=await(0,Nt.H)(F),Pe=await(0,Sn.$U)(qt.V,ne);return console.warn("[loadSOS] record tree: "+Pe.size),{tree:Pe,...v}}}catch(S){console.warn("loadSOS",S)}},Bt=async()=>{try{return await(0,Yt.Af)("//FSS/"+_e+"/"+U)}catch(S){console.warn("freeSOS",S)}},At=()=>{for(const[,,S]of Qe)if(S)return!0;return!1};return{flpakKey:U,name:_e,__setIsDev:S=>{ye=S},onSocketConnect:Ue,onRemotePayloadSave:ge,bind:Me,useExtORPL:Te,getClockStore:Ke,getFlatStore:rt,saveSOS:vt,loadSOS:mt,freeSOS:Bt,hasPatch:At,preSettlePatch:()=>{const S=[];for(const[F,,v]of Qe)v&&S.push(F);return S},postSettlePatch:S=>{Qe=Qe.filter(F=>{let[v,ne,Pe]=F;return!Pe||!S.includes(v)})}}},Wn=(U,_e)=>{let ye,Be;return{flpakKey:U,name:"[DUMMY]"+_e,__setIsDev:Ae=>{},onSocketConnect:()=>{},onRemotePayloadSave:Ae=>{let[$e,,Qe]=Ae;return!1},bind:async(Ae,$e)=>{if(Be!==void 0)throw new Error("no re-init flatStore");ye=Ae,Be=(0,on.$H)((0,K.ZR)(),Ae)},useExtORPL:Ae=>{},getClockStore:()=>ye,getFlatStore:()=>Be,saveSOS:async Ae=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:Ae=>{}}};var Vn=i(91458);const In=V.jq,jn=V.dn,zt=U=>{const _e=new Map;let ye=!1,Be=!1,Ae,$e=()=>"";const Qe=()=>{_e.clear(),Ye()};let qe=0;const tt=M=>{const A={socketId:M,index:qe++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return _e.set(M,A),ye=!0,A},Ye=(0,f.My)(async()=>{if(await(0,b.Kb)(2*1e3),Ae===void 0)return;const M=[];for(const{socketId:S,lastStatAt:F}of _e.values())F!==0&&M.push(S);const A=await Ae([U,M]);for(const[S,F,v]of A){const ne=_e.get(S)||tt(S);ne.lastStatAt=Date.now(),ne.stat=[F,v]}Me=3,await(0,b.Kb)(8*1e3)},M=>{console.warn("_tPS",M)}).trigger,Re=M=>{let[A,S,F]=M;const[v,ne]=jn(F),Pe=[v,ne,S],ze=_e.get(A)||tt(A);ze.lastCurAt=Date.now(),ze.cur=Pe,ze.lastStatAt===0?Ye():Be=!0},Ue=M=>{let[A,S]=M;const F=_e.has(S);A===0&&F?(_e.delete(S),ye=!0):A===1&&!F&&(tt(S),Ye())};let ge=["",NaN,NaN],Me=0;const Te=function(M){M===void 0&&(M=ge[0]);const A=$e();if(A==="")return!1;for(const{socketId:S,cur:F}of _e.values())if(F&&F[2]===M&&S!==A)return!0;return!1},Ke=function(M,A,S){if(A===void 0&&(A=V.nl),S===void 0&&(S=V.nl),!(_e.size<2)){if(ge[0]!==M)Me=3;else if(!Me&&ge[0]===M&&ge[1]===A&&ge[2]===S)return;if(ge=[M,A,S],!(!Te(M)&&!Me))return Me&&Me--,[U,M,In(A,S)]}},rt=async(M,A)=>{if(Ae!==void 0)throw new Error("no re-init flatStore");Ae=M,$e=A,Ye()},vt=()=>{const M=$e(),A=[];if(M==="")return A;for(const{socketId:S,stat:F}of _e.values()){if(F===void 0)continue;const[v,ne]=F;M===S?A.unshift([S,v,ne]):A.push([S,v,ne])}return A},mt=M=>{const A=$e(),S=[];if(A==="")return S;for(const{socketId:F,index:v,cur:ne,stat:Pe}of _e.values()){if(A===F||ne===void 0||Pe===void 0)continue;const[ze,it,nt]=ne;if(nt!==M||ze===V.nl)continue;const[fe,Fe]=Pe;S.push([v,ze,it,fe,Fe])}return S},Bt=()=>ye?(ye=!1,!0):!1,At=()=>Be?(Be=!1,!0):!1;return{flpakKey:U,__curStatMap:_e,onSocketConnect:Qe,onRemoteCur:Re,onRemoteSocket:Ue,hasOtherUser:Te,tryPackCur:Ke,bind:rt,getRoomStat:vt,getSocketStat:vt,getCurStat:mt,pollRoomChg:Bt,pollCurChg:At,pollChange:At}},dt=U=>{const _e=()=>{},ye=Re=>{let[Ue,ge,Me]=Re},Be=Re=>{let[Ue,ge]=Re},Ae=Re=>!1,$e=(Re,Ue,ge)=>{},Qe=async(Re,Ue)=>{},qe=()=>[],tt=Re=>[],Ye=()=>!1;return{flpakKey:U,onSocketConnect:_e,onRemoteCur:ye,onRemoteSocket:Be,hasOtherUser:Ae,tryPackCur:$e,bind:Qe,getRoomStat:qe,getSocketStat:qe,getCurStat:tt,pollRoomChg:Ye,pollCurChg:Ye,pollChange:Ye}},Gt=function(U,_e){_e===void 0&&(_e=250);let ye=null,Be=null;return function(){for(var Ae=arguments.length,$e=new Array(Ae),Qe=0;Qe<Ae;Qe++)$e[Qe]=arguments[Qe];Be=$e,!ye&&(ye=(0,b.Q3)(()=>{ye=null,U.apply(null,Be),Be=null},_e))}},Mn=()=>{};let ut=!1;const Cn=U=>{ut=U},ln="dat",mn="cmt",an="mkt:dat",$t=async U=>{let{flpakKey:_e,userId:ye,uTag:Be,token:Ae,passwd:$e,isDummyCmt:Qe=!1,isAllowDat:qe=!1,isAllowCmt:tt=!1,isAllowCur:Ye=!1,afterStoreCreate:Re=Mn,__fetchFlpakAsync:Ue=xn.WD,onTransferError:ge=Mn,onReadOnlyError:Me=function(fe,Fe){return Fe===void 0&&(Fe=""),console.warn(fe,Fe)}}=U;const Te=Ht(_e,ln),Ke=(Qe?Wn:Ht)((0,Vn.a6)(_e),mn),rt=(Ye?zt:dt)(_e);await Re({fssDat:Te});const vt=async(fe,Fe)=>{await Te.saveSOS("OTE|"+fe+"|"+Fe),await ge(fe,Fe)},mt=ye?P({query:{uId:String(ye),uTag:Be},usePolling:ut,lossyListenerMap:{[_.GF]:fe=>{const{payload:Fe}=fe;rt.onRemoteCur(Fe)}},queueListenerMap:{[_.E$]:fe=>{const{error:Fe}=fe;console.log("flat-ws drop-client",Fe),vt("4XX",Fe)},[_.Rm]:fe=>{const{error:Fe}=fe;console.log("flat-ws error",Fe),vt("5XX",Fe)},[_.FC]:()=>{console.log("flat-ws (re)connected"),Te.onSocketConnect(),Ke.onSocketConnect(),rt.onSocketConnect()},[_.nB]:fe=>{const{payload:Fe}=fe;Te.onRemotePayloadSave(Fe)||Ke.onRemotePayloadSave(Fe)||console.warn("drop save payload:",Fe)},[_.FK]:fe=>{const{payload:Fe}=fe;console.log("flat-ws room cursor:",Fe),rt.onRemoteSocket(Fe)}}}):p();await Promise.all([(async()=>{await mt.getReadyPromise()})(),(async()=>{await mt.reqRoomAsync([qe?[_e]:[],tt?[_e]:[],Ye?[_e]:[]])})()]);const Bt=async(fe,Fe,pt)=>{try{return await Ue(fe,{token:Ae,passwd:$e,skipTTre:String(Fe||""),skipTPbxList:(pt||[]).join("")})}catch(St){const Dt=wn(St);throw(0,d.Q)("fFS "+Dt,St),await vt(Dt,St),St}};await Promise.all([Te.bind((0,R.LQ)({userId:ye,mtimeOffset:mt.getOffsetMsec()}),Bt).catch(fe=>{throw(0,d.Q)("bindDat",fe),fe}),Ke.bind((0,R.LQ)({userId:ye,mtimeOffset:mt.getOffsetMsec()}),Bt).catch(fe=>{throw(0,d.Q)("bindCmt",fe),fe}),rt.bind(async fe=>{try{if(mt.getIsConnected())return await mt.emitAsync(_.tE,fe)}catch(Fe){await(0,b.Kb)(42*1e3)}return[]},mt.getSocketId).catch(fe=>{throw(0,d.Q)("bindCur",fe),fe})]);const At=new Error("[tracked-error]"),M=async(fe,Fe)=>{if(!fe.hasPatch())return;const pt=fe.preSettlePatch(),St=(0,cn.S0)((0,cn.Mg)(pt));Fe!==!0&&(Me(fe.name===ln?"Dat":"Cmt","RO|"+fe.name+"|"+fe.flpakKey+" #"+pt.length),St.length=0);for(let Dt=0,Wt=St.length;Dt<Wt;Dt++){const Rt=St[Dt];try{await mt.emitAsync(_.Tm,[fe.flpakKey,Rt.length,(0,cn.Cd)(Rt)])}catch(Xt){const un=wn(Xt);throw(0,d.Q)("saveFss "+un,Xt,fe.name,fe.flpakKey,Dt+1+"/"+Wt,Rt),await vt(un,Xt),At}}fe.postSettlePatch(pt)},A=(0,f.My)(async()=>(0,f.n7)(async()=>{await M(Te,qe),await M(Ke,tt),await Te.freeSOS()},42*1e3),fe=>{if(fe===At)return;const Fe=wn(fe);Fe!=="Tot"&&(0,d.Q)("lFFss "+Fe,fe),Promise.resolve(vt(Fe,fe)).catch(pt=>{(0,d.Q)("lFFss "+Fe+" Err",pt)})}),S=(0,f.My)(async()=>{!rt.hasOtherUser()&&await(0,b.Kb)(3*1e3),!rt.hasOtherUser()&&await(0,b.Kb)(3*1e3),A.trigger(),await A.getRunningPromise(),!rt.hasOtherUser()&&await(0,b.Kb)(3*1e3),!rt.hasOtherUser()&&await(0,b.Kb)(3*1e3)});setInterval(S.trigger,2*1e3),Ye&&setInterval(()=>rt.onSocketConnect(),20*60*1e3);const F=Te.getFlatStore(),v=(0,Q.p)(Te.getFlatStore());Te.useExtORPL(v.onRemotePatchList);const ne=dn(Ke.getFlatStore());Ke.useExtORPL(ne.onRemotePatchList);const Pe=()=>Te.hasPatch()||Ke.hasPatch(),ze=(0,f.zH)(async()=>(0,f.rP)(async()=>{let fe=0;for(;Pe();)await(0,b.Kb)(Math.min(fe,5)*1e3),A.trigger(),await A.getRunningPromise(),fe++})),it=()=>globalThis.MB.getSelectionItems()[0].key,nt=Gt((fe,Fe,pt)=>{const St=rt.tryPackCur(fe,Fe,pt);St&&mt.getIsConnected()&&mt.emitLossy(_.sv,St)},125);return{fssDat:Te,fssCmt:Ke,cssCur:rt,flatSocket:mt,flatStore:F,sdkStore:v,cmtStore:ne,sendCur:(fe,Fe,pt)=>{Ye===!0?nt(fe,Fe,pt):Ye==="RO"&&Me("Cur","")},hasSave:Pe,saveAsync:ze,triggerSave:fe=>{A.trigger(),fe&&ze().then(fe)},triggerFlushLocalPatch:A.trigger,theTree:function(fe){return fe===void 0&&(fe=K.$3),console.log((0,K.im)(F.getFlatTree(),fe))},hotTree:function(fe){return fe===void 0&&(fe=K.$3),console.log(v.__devHotTree(fe))},slctTree:function(fe){return fe===void 0&&(fe=it()),console.log(v.__devHotTree(fe))},upTree:function(fe,Fe){return fe===void 0&&(fe=it()),Fe===void 0&&(Fe=K.$3),console.log(v.findUpHotItemList(fe,Fe))},cmtTree:function(fe){return fe===void 0&&(fe=K.$3),console.log(ne.__devHotTree(fe))}}},wn=U=>{const _e=U&&U.status;return _e>=400&&_e<500?"4XX":String(U).toLowerCase().includes("timeout")?"Tot":"5XX"},An=async U=>{let{flpakKey:_e,token:ye,passwd:Be}=U;const Ae=Ht(_e,an),$e=async(tt,Ye,Re)=>(0,xn.WD)(tt,{token:ye,passwd:Be,skipTTre:String(Ye||""),skipTPbxList:(Re||[]).join("")});await Ae.bind((0,R.LQ)({}),$e);const Qe=Ae.getFlatStore(),qe=(0,Q.p)(Ae.getFlatStore());return{fssDat:Ae,flatStore:Qe,sdkStore:qe}}},19786:(se,q,i)=>{"use strict";i.d(q,{O:()=>b,q:()=>L});var f=i(4423);const b=(u,o,E)=>{const B=new Set(Object.keys(u));for(const y of Object.keys(o)){B.delete(y);const k=u[y];if(k===void 0&&Object.prototype.hasOwnProperty.call(u,y))throw new Error('attr "'+y+'" value: undefined'+(E?" | "+E:""));if(k===null)throw new Error('attr "'+y+'" value: null'+(E?" | "+E:""));const _=o[y];(0,f.W_)(_,E)}if(B.size!==0)throw new Error('extra attr: "'+[...B].join(",")+'"'+(E?" | "+E:""))},L=(u,o)=>{const E={};for(const B of Object.keys(u))E[B]=o;return E}},14501:(se,q,i)=>{"use strict";i.d(q,{Qf:()=>L});var f=i(11972);const b=G=>{let[p,a,P,O]=G;return{tre:p?p.size:0,treGz:p?p.tre.byteLength:0,flpbx:a.reduce((R,K)=>{let{size:Q}=K;return R+Q},0),flpbxGz:a.reduce((R,K)=>{let{pbx:Q}=K;return R+Q.byteLength},0),flpbxC:a.length,flpch:P.reduce((R,K)=>{let{pch:Q}=K;return R+Q.length},0),flpchC:P.length,timeISO:O.toISOString()}},L=G=>{const p=b(G);return"@"+p.timeISO+", tre: "+(0,f.Ec)(p.treGz)+"B/"+(0,f.Ec)(p.tre)+", pbx#"+p.flpbxC+": "+(0,f.Ec)(p.flpbxGz)+"B/"+(0,f.Ec)(p.flpbx)+", pch#"+p.flpchC+": "+(0,f.Ec)(p.flpch)},u=G=>{let[p,a,P]=G;return{treGz:p?p.tre.byteLength:0,flpbxGz:a.reduce((O,R)=>{let{pbx:K}=R;return O+K.byteLength},0),flpbxC:a.length,flpch:P.reduce((O,R)=>{let{pch:K}=R;return O+K.length},0),flpchC:P.length}},o=G=>{let[{tre:p},a,P]=G;return[p.length,a.reduce((O,R)=>{let{pbx:K}=R;return O+K.length},0),P.reduce((O,R)=>{let{pch:K}=R;return O+K.length},0)]},E=function(G,p){p===void 0&&(p="");const[a,P,O]=o(G);return"sTreGz: "+a+", sPbxGz: "+P+", sPch: "+O+" "+p},B=12,y=24,k=G=>G?y:B,_=function(G,p){p===void 0&&(p=G*.75);const a=Math.ceil(G*1024*1024),P=Math.ceil(p*1024*1024);return O=>{const R=u(O);return R.treGz>=P||R.treGz+R.flpbxGz+R.flpch>=a}},d=_(15,B),m=_(30,y),g=(G,p)=>(p?m:d)(G),D=_(25,20),N=_(45,36),Z=(G,p)=>(p?N:D)(G)},37697:(se,q,i)=>{"use strict";i.d(q,{R1:()=>D,_m:()=>d,dL:()=>m,zS:()=>g});var f=i(80693),b=i(34596),L=i(66234),u=i(76336),o=i(49651),E=i(21630);const B={default:0,fill:1},y=(0,E.$)("SlideFill",B),k=N=>N.map(Z=>[Z.asset,Z.linkCids,y.packDef(Z.fillType,"default")]),_=N=>N.map(Z=>{let[G,p,a]=Z;return{asset:G,linkCids:p,fillType:a?y.parse(a):"default"}}),d=N=>{var Z;let{carousel:G}=N;return{crsS:k(G.slides),crsP:[(0,f.J1)(G.autoShift,G.vertical,G.showPointers),(0,L.xd)(G.interval),(0,o.MS)(G.radius),(0,b.my)(G.pointerBg),(0,b.my)(G.pointerFg),(0,L.xd)((Z=G.displayIndex)!=null?Z:0)].join(u.jN)}},m=N=>{let{crsS:Z,crsP:G}=N;const[p,a,P,O,R,K]=G.split(u.jN),[Q,V,ee]=(0,f.nq)(p);return{carousel:{slides:_(Z),autoShift:Q,vertical:V,showPointers:ee,interval:(0,L.nZ)(a),radius:(0,o.g9)(P),pointerBg:(0,b.Wp)(O),pointerFg:(0,b.Wp)(R),displayIndex:K?(0,L.nZ)(K):0}}},g=(N,Z)=>{N.crsS.forEach(G=>{let[p,a]=G;p&&Z(p,"rResExtImage"),a&&Z(a,"interactionSubKeyRef")})},D=(N,Z)=>N.crsS.length?{...N,crsS:N.crsS.map(G=>{let[p,a]=G;return[p,a&&Z(a)]})}:N},98336:(se,q,i)=>{"use strict";i.d(q,{FI:()=>te,JY:()=>Q,Xq:()=>Ee,cL:()=>X,nD:()=>he,tK:()=>V,vH:()=>pe});var f=i(21630),b=i(91320),L=i(66234),u=i(76336);const o={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},E=(0,f.$)("DraftBlockType",o),B={left:0,center:1,right:2,justify:3},y=(0,f.$)("DraftAlignment",B),k={LINK:0,IMAGE:1},_=(0,f.$)("DraftEntityMapType",k),d=_.pack("IMAGE"),m={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},g=(0,f.$)("DraftEntityMapMutability",m),D={_blank:0,_self:1},N=(0,f.$)("DraftLinkTargetOption",D),Z=oe=>{const me={};return Object.keys(oe).forEach(Oe=>{const{type:we,mutability:Ce,data:et}=oe[Oe],De=[_.pack(we),g.pack(Ce)],ve=[];we==="LINK"?(De.push(N.pack(et.targetOption)),ve.push(et.url||"")):we==="IMAGE"&&(De.push((0,L.xd)(et.width),y.pack(et.alignment)),ve.push(et.src||"",et.alt||"")),me["e/"+Oe]=[De.join(u.Kt),...ve]}),me},G=oe=>{const me={};for(const Oe of Object.keys(oe)){if(!Oe.startsWith("e/"))continue;const we=Oe.split("e/")[1],[Ce,...et]=oe[Oe],[De,ve,xe,je]=Ce.split(u.Kt),We=_.parse(De),Ne=g.parse(ve);me[we]=We==="LINK"?{type:We,mutability:Ne,data:{url:et[0],targetOption:N.parse(xe)}}:{type:We,mutability:Ne,data:{src:et[0],alt:et[1],width:(0,L.nZ)(xe),alignment:y.parse(je)}}}return me},p=oe=>{const me={};return Object.keys(oe).forEach(Oe=>{const{text:we,type:Ce,depth:et,inlineStyleRanges:De,entityRanges:ve,data:{textAlign:xe,textIndent:je,paraSpacing:We}}=oe[Oe],Ne=[E.packDef(Ce,"unstyled"),(0,L.xd)(et),xe?y.pack(xe):"",je!==void 0?(0,L.xd)(je):"",We!==void 0?(0,b.DF)(We):""];me["b/"+Oe]=[Ne.join(u.Kt),we,De.map(He=>{let{offset:ke,length:ae,style:Ze}=He;return O(ke,ae,Ze)}),ve.map(He=>{let{offset:ke,length:ae,key:Ze}=He;return a(ke,ae,Ze)})]}),me},a=(oe,me,Oe)=>""+(0,L.xd)(oe)+u.Kt+(0,L.xd)(me)+u.Kt+(0,L.xd)(Oe),P=oe=>{const me=oe.indexOf(u.Kt),Oe=oe.indexOf(u.Kt,me+1);return[(0,L.nZ)(oe.slice(0,me)),(0,L.nZ)(oe.slice(me+1,Oe)),(0,L.nZ)(oe.slice(Oe+1))]},O=(oe,me,Oe)=>""+(0,L.xd)(oe)+u.Kt+(0,L.xd)(me)+u.Kt+Oe,R=oe=>{const me=oe.indexOf(u.Kt),Oe=oe.indexOf(u.Kt,me+1);return[(0,L.nZ)(oe.slice(0,me)),(0,L.nZ)(oe.slice(me+1,Oe)),oe.slice(Oe+1)]},K=oe=>{const me={};for(const Oe of Object.keys(oe)){if(!Oe.startsWith("b/"))continue;const we=Oe.split("b/")[1],[Ce,et,De,ve]=oe[Oe],[xe,je,We,Ne,He]=Ce.split(u.Kt),ke={};We!==""&&(ke.textAlign=y.parse(We)),Ne!==""&&(ke.textIndent=(0,L.nZ)(Ne)),He!==""&&He!==void 0&&(ke.paraSpacing=(0,b.Ci)(He)),me[we]={text:et,type:E.parse(xe),depth:(0,L.nZ)(je),inlineStyleRanges:De.map(ae=>{const[Ze,ct,at]=R(ae);return{offset:Ze,length:ct,style:at}}),entityRanges:ve.map(ae=>{const[Ze,ct,at]=P(ae);return{offset:Ze,length:ct,key:at}}),data:ke}}return me},Q=oe=>{let{textV1:me}=oe;const{blocks:Oe={},entityMap:we={}}=me;return{dtV:1,...p(Oe),...Z(we)}},V=oe=>({textV1:{blocks:K(oe),entityMap:G(oe)}}),ee=oe=>oe!==null&&typeof oe=="object"&&!Array.isArray(oe),W=(oe,me)=>oe===me?!0:Array.isArray(oe)?Array.isArray(me)&&H(oe,me):ee(oe)?ee(me)&&I(oe,me):!1,H=(oe,me)=>{if(oe.length!==me.length)return!1;for(let Oe=0,we=oe.length;Oe<we;Oe++)if(!W(oe[Oe],me[Oe]))return!1;return!0},I=(oe,me)=>{const Oe=Object.keys(oe),we=new Set(Object.keys(me));if(Oe.length!==we.size)return!1;for(const Ce of Oe)if(!we.has(Ce)||!W(oe[Ce],me[Ce]))return!1;return!0},X=(oe,me)=>W(oe,me),Ee=(oe,me)=>{if(oe.dtV){for(const Oe of Object.keys(oe))if(Oe.startsWith("e/")){const[we,Ce]=oe[Oe];if(Ce){const[et]=we.split(u.Kt);et===d&&me(Ce,"rResExtImage")}}}},te=(oe,me)=>(oe.dtV,oe),pe=function(oe){return oe===void 0&&(oe="\u53CC\u51FB\u7F16\u8F91\u6587\u672C"),{blocks:{"#000000":{text:oe,type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}},entityMap:{}}},he=function(oe,me){me===void 0&&(me=!1);const{textV1:{blocks:Oe}}=oe,we={};let Ce=!1;for(const[ve,xe]of Object.entries(Oe))if((xe==null?void 0:xe.type)==="atomic"){var et,De;xe!=null&&(et=xe.entityRanges)!=null&&et.length?(xe==null||(De=xe.entityRanges[0])==null?void 0:De.offset)!==0?(Ce=!0,we[ve]={...xe,entityRanges:[{...xe==null?void 0:xe.entityRanges[0],offset:0}]}):we[ve]={...xe}:Ce=!0}else we[ve]={...xe};return Ce?me?{...oe,textV1:{...oe.textV1,blocks:we}}:void 0:oe}},93008:(se,q,i)=>{"use strict";i.d(q,{Fj:()=>k,UE:()=>_,dJ:()=>d,qV:()=>y});var f=i(91320),b=i(21630),L=i(76336);const u={none:0,square:1,circular:2},o=(0,b.$)("ImgFilter",u),E={default:0,stretch:1,fill:2},B=(0,b.$)("ImgFill",E),y=m=>{let{image:{imageFilter:g,imageClipType:D,imageRectAspectRatio:N,imageRef:Z,imageRectR:G,imageRectCenterX:p,imageRectCenterY:a,imageRectWidth:P,imageRectHeight:O,imageRectOriginalWidth:R,imageRectOriginalHeight:K,imageFillType:Q}}=m;return{imgP:[o.packDef(D,"none"),(0,f.RC)(G),(0,f.LU)([N,p,a,P,O,R,K]),B.packDef(Q,"default")].join(L.Kt),imgF:g,imgR:Z}},k=m=>{let{imgP:g,imgF:D,imgR:N}=m;const[Z,G,p,a]=g.split(L.Kt),[P,O,R,K,Q,V,ee]=(0,f.VC)(p);return{image:{imageFilter:D,imageClipType:o.parse(Z),imageRef:N,imageRectAspectRatio:P,imageRectR:(0,f.DD)(G),imageRectCenterX:O,imageRectCenterY:R,imageRectWidth:K,imageRectHeight:Q,imageRectOriginalWidth:V,imageRectOriginalHeight:ee,imageFillType:a?B.parse(a):"default"}}},_=(m,g)=>{m.imgR&&g(m.imgR,"rResExtImage")},d=(m,g)=>m},45404:(se,q,i)=>{"use strict";i.d(q,{H2:()=>Ce,Oh:()=>ee,RA:()=>K,SC:()=>P,Xu:()=>et,d7:()=>we,fP:()=>p,fX:()=>Q,g6:()=>Z,gH:()=>V,gQ:()=>Oe,hI:()=>N,iW:()=>X,jI:()=>te,kD:()=>W,m8:()=>G,rC:()=>a,xc:()=>Ee});var f=i(34596),b=i(6013),L=i(49651),u=i(8248),o=i(80693),E=i(66234),B=i(21630),y=i(76336);const k=De=>{let{data:ve,children:xe}=De;return[[ve.name,ve.linkCids,(0,o.J1)(ve.expanded,ve.selected,ve.designExpanded),ve.icon===void 0||ve.icon===null?"":[ve.icon.path,ve.icon.viewBox]],xe.map(k)]},_=De=>{let[[ve,xe,je,We],Ne]=De;const[He,ke,ae]=(0,o.nq)(je),Ze={name:ve,linkCids:xe,expanded:He,selected:ke,designExpanded:ae};return Array.isArray(We)&&(Ze.icon={path:We[0],viewBox:We[1]}),{data:Ze,children:Ne.map(_)}},d=De=>De.map(k),m=De=>De.map(_),g=De=>{const{optionBgColor:ve,optionHoverBgColor:xe,optionSelectTextColor:je}=De;return[(0,f.my)(ve),(0,f.my)(xe),(0,f.my)(je)].join(y.Kt)},D=De=>{const[ve,xe,je]=De.split(y.Kt).map(f.Wp);return{optionBgColor:ve,optionHoverBgColor:xe,optionSelectTextColor:je}},N=De=>{let{segmentedControl:ve,optionData:xe}=De;const{isBackgroundVisible:je,backgroundColor:We,isCheckedBackgroundVisible:Ne,checkedBackgroundColor:He,textColor:ke,fontSize:ae,checkedTextColor:Ze,checkedFontSize:ct}=ve;return{odSGC:[(0,o.J1)(je,Ne),(0,f.my)(We),(0,f.my)(He),(0,f.my)(ke),(0,E.xd)(ae),(0,f.my)(Ze),(0,E.xd)(ct)].join(y.Kt),od:d(xe)}},Z=De=>{let{odSGC:ve,od:xe}=De;const[je,We,Ne,He,ke,ae,Ze]=ve.split(y.Kt),[ct,at]=(0,o.nq)(je);return{segmentedControl:{isBackgroundVisible:ct,backgroundColor:(0,f.Wp)(We),isCheckedBackgroundVisible:at,checkedBackgroundColor:(0,f.Wp)(Ne),textColor:(0,f.Wp)(He),fontSize:(0,E.nZ)(ke),checkedTextColor:(0,f.Wp)(ae),checkedFontSize:(0,E.nZ)(Ze)},optionData:m(xe)}},G=De=>{let{tabs:ve,optionData:xe}=De;return{odT:[(0,E.xd)(ve.fontSize),(0,f.my)(ve.textColor),(0,E.xd)(ve.checkedFontSize),(0,f.my)(ve.checkedTextColor),(0,E.xd)(ve.checkedBoldType),b.kb.packDef(ve.checkedFontStyle,"normal"),b.r3.packDef(ve.checkedTextDecoration,"normal")].join(y.Kt),odTb:(0,L.U7)(ve.checkedBorder),od:d(xe)}},p=De=>{let{odT:ve,odTb:xe,od:je}=De;const[We,Ne,He,ke,ae,Ze,ct]=ve.split(y.Kt);return{tabs:{fontSize:(0,E.nZ)(We),textColor:(0,f.Wp)(Ne),checkedFontSize:(0,E.nZ)(He),checkedTextColor:(0,f.Wp)(ke),checkedBorder:(0,L.i8)(xe),checkedBoldType:(0,E.nZ)(ae),checkedFontStyle:b.kb.parse(Ze),checkedTextDecoration:b.r3.parse(ct)},optionData:m(je)}},a=De=>{let{mobileTabBars:ve,optionData:xe}=De;const{fontSize:je,textColor:We,checkedTextColor:Ne,checkedIconColor:He,iconSize:ke,iconColor:ae,isShowSelectedText:Ze,isShowSelectedIcon:ct,isShowText:at,isShowIcon:Ie}=ve;return{odMTB:[(0,o.J1)(Ze,ct,at,Ie),(0,E.xd)(je),(0,E.xd)(ke),(0,f.my)(We),(0,f.my)(Ne),(0,f.my)(He),(0,f.my)(ae)].join(y.Kt),od:d(xe)}},P=De=>{let{odMTB:ve,od:xe}=De;const[je,We,Ne,He,ke,ae,Ze]=ve.split(y.Kt),[ct,at,Ie,yt]=(0,o.nq)(je);return{mobileTabBars:{isShowSelectedText:ct,isShowSelectedIcon:at,isShowText:Ie,isShowIcon:yt,fontSize:(0,E.nZ)(We),iconSize:(0,E.nZ)(Ne),textColor:(0,f.Wp)(He),checkedTextColor:(0,f.Wp)(ke),checkedIconColor:(0,f.Wp)(ae),iconColor:(0,f.Wp)(Ze)},optionData:m(xe)}},O={right:0,left:1},R=(0,B.$)("markerPosition",O),K=De=>{let{collapse:ve,optionData:xe}=De;const{canExpandOneMenu:je,markerPosition:We,isTitleBackgroundVisible:Ne,titleBackground:He,titleTextColor:ke,titleTextSize:ae,isContentBackgroundVisible:Ze,isContentBackground:ct,contentTextColor:at,contentTextSize:Ie}=ve;return{odCL:[(0,o.J1)(je,Ne,Ze),R.packDef(We,"left"),(0,f.my)(He),(0,f.my)(ke),(0,E.xd)(ae),(0,f.my)(ct),(0,f.my)(at),(0,f.my)(Ie)].join(y.Kt),od:d(xe)}},Q=De=>{let{odCL:ve,od:xe}=De;const[je,We,Ne,He,ke,ae,Ze,ct]=ve.split(y.Kt),[at,Ie,yt]=(0,o.nq)(je);return{collapse:{canExpandOneMenu:at,markerPosition:R.parse(We),isTitleBackgroundVisible:Ie,titleBackground:(0,f.Wp)(Ne),titleTextColor:(0,f.Wp)(He),titleTextSize:(0,E.nZ)(ke),isContentBackgroundVisible:yt,isContentBackground:(0,f.Wp)(ae),contentTextColor:(0,f.Wp)(Ze),contentTextSize:(0,f.Wp)(ct)},optionData:m(xe)}},V={navigationMenu:0,navigationMenuV:1,navigationMenuH:2},ee=De=>{let{navigationMenu:ve,optionData:xe}=De;const{isShowIcon:je,navigationMenuType:We,canExpandOneMenu:Ne,isMenuBackgroundVisible:He,menuBackground:ke,menuBorder:ae,menuShadow:Ze,menuTextSize:ct,menuTextColor:at,menuHeight:Ie,isSubMenuBackground:yt,subMenuBackground:xt,subMenuTextSize:Tt,isSubMenuTextVisible:ie,subMenuTextColor:ue,subMenuHeight:be,isActiveMenuItemBackgroundVisible:Je,activeMenuItemBackground:ft,activeMenuItemTextSize:It,activeMenuItemTextColor:Jt}=ve;return{odNM:[(0,o.J1)(je,Ne,He,yt,ie,Je),(0,E.xd)(We),(0,f.my)(ke),(0,E.xd)(ct),(0,f.my)(at),(0,E.xd)(Ie),(0,f.my)(xt),(0,E.xd)(Tt),(0,f.my)(ue),(0,E.xd)(be),(0,f.my)(ft),(0,E.xd)(It),(0,f.my)(Jt)].join(y.Kt),odNMb:(0,L.U7)(ae),odNMs:(0,u.wX)(Ze),od:d(xe)}},W=De=>{let{odNM:ve,odNMb:xe,odNMs:je,od:We}=De;const[Ne,He,ke,ae,Ze,ct,at,Ie,yt,xt,Tt,ie,ue]=ve.split(y.Kt),[be,Je,ft,It,Jt,rn]=(0,o.nq)(Ne);return{navigationMenu:{isShowIcon:be,navigationMenuType:(0,E.nZ)(He),canExpandOneMenu:Je,isMenuBackgroundVisible:ft,menuBackground:(0,f.Wp)(ke),menuBorder:(0,L.i8)(xe),menuShadow:(0,u.hy)(je),menuTextSize:(0,E.nZ)(ae),menuTextColor:(0,f.Wp)(Ze),menuHeight:(0,E.nZ)(ct),isSubMenuBackground:It,subMenuBackground:(0,f.Wp)(at),subMenuTextSize:(0,E.nZ)(Ie),isSubMenuTextVisible:Jt,subMenuTextColor:(0,f.Wp)(yt),subMenuHeight:(0,E.nZ)(xt),isActiveMenuItemBackgroundVisible:rn,activeMenuItemBackground:(0,f.Wp)(Tt),activeMenuItemTextSize:(0,E.nZ)(ie),activeMenuItemTextColor:(0,f.Wp)(ue)},optionData:m(We)}},H={click:0,hover:1},I=(0,B.$)("MutualWay",H),X={optionBgColor:4294967295,optionHoverBgColor:4126537215,optionSelectTextColor:522792703},Ee=De=>{let{dropMenu:ve,optionData:xe,optionColor:je}=De;return{odDM:[I.packDef(ve.mutualWay,"click"),(0,o.J1)(ve.dropMenuEcho,ve.isMultiple)].join(y.Kt),od:d(xe),oc:g(je)}},te=De=>{let{odDM:ve,od:xe,oc:je}=De;const[We,Ne]=ve.split(y.Kt),[He,ke]=(0,o.nq)(Ne);return{dropMenu:{mutualWay:I.parse(We),dropMenuEcho:He,isMultiple:ke},optionData:m(xe),optionColor:je?D(je):X}},pe={row:0,column:1},he={radio:0,checkbox:1},oe=(0,B.$)("LayoutType",pe),me=(0,B.$)("SelectionControlType",he),Oe=De=>{let{selectionControl:ve,optionData:xe}=De;const{layout:je,type:We,gap:Ne,fontSize:He,textColor:ke,checkedTextColor:ae,borderColor:Ze,checkedBorderColor:ct,isCheckedTextVisible:at,isBorderVisible:Ie,isCheckedBorderVisible:yt,isTextVisible:xt,isDisabled:Tt}=ve;return{odSLC:[oe.packDef(je,"row"),me.packDef(We,"checkbox"),(0,E.xd)(Ne),(0,E.xd)(He),(0,f.my)(ke),(0,f.my)(ae),(0,f.my)(Ze),(0,f.my)(ct),(0,o.J1)(at,Ie,yt,xt,Tt)].join(y.Kt),od:d(xe)}},we=De=>{let{odSLC:ve,od:xe}=De;const[je,We,Ne,He,ke,ae,Ze,ct,at]=ve.split(y.Kt),[Ie,yt,xt,Tt,ie]=(0,o.nq)(at);return{selectionControl:{layout:oe.parse(je),type:me.parse(We),gap:(0,E.nZ)(Ne),fontSize:(0,E.nZ)(He),textColor:(0,f.Wp)(ke),checkedTextColor:(0,f.Wp)(ae),borderColor:(0,f.Wp)(Ze),checkedBorderColor:(0,f.Wp)(ct),isCheckedTextVisible:Ie,isBorderVisible:yt,isCheckedBorderVisible:xt,isTextVisible:Tt,isDisabled:ie},optionData:m(xe)}},Ce=(De,ve)=>{const xe=je=>{ve(je[0][1],"interactionSubKeyRef"),je[1].forEach(We=>{xe(We)})};De.od.forEach(je=>xe(je))},et=(De,ve)=>{const xe=je=>[[je[0][0],je[0][1]?ve(je[0][1]):je[0][1],je[0][2],Array.isArray(je[0][3])?[...je[0][3]]:je[0][3]],[...je[1].map(We=>xe(We))]];return{...De,od:De.od.map(je=>xe(je))}}},74516:(se,q,i)=>{"use strict";i.d(q,{Ak:()=>_,Y5:()=>y,dK:()=>k,tM:()=>B});var f=i(49651),b=i(91320),L=i(66234),u=i(76336);const o=d=>{let{cellStyles:m,columns:g,rows:D,data:N,links:Z,mergeCells:G}=d;const p={};return p.css=m,p.col=g.map(a=>{const P={};return a.type&&(P.t=a.type),P.w=a.width,P}),p.row=D.map(a=>{const P={};return a.type&&(P.t=a.type),P.h=a.height,P}),p.da=N,p.lk=Z,p.mc=G,p},E=d=>{let{css:m,col:g,row:D,da:N,lk:Z,mc:G}=d;const p={};return p.cellStyles=m,p.columns=g.map(a=>{const P={};return a.t&&(P.type=a.t),P.width=a.w,P}),p.rows=D.map(a=>{const P={};return a.t&&(P.type=a.t),P.height=a.h,P}),p.data=N,p.links=Z,p.mergeCells=G,p},B=d=>{let{tableConfig:m,tableData:g}=d;const{innerBorderH:D,innerBorderV:N,outerBorder:Z,rowCount:G,colCount:p,styleType:a,heightProportion:P,widthProportion:O}=m;return{tblP:[(0,L.xd)(G),(0,L.xd)(p),(0,L.xd)(a),(0,b.LU)(P),(0,b.LU)(O)].join(u.Kt),tblIBH:(0,f.vn)(D),tblIBV:(0,f.vn)(N),tblOB:(0,f.vn)(Z),tblD:o(g)}},y=d=>{let{tblP:m,tblIBH:g,tblIBV:D,tblOB:N,tblD:Z}=d;const[G,p,a,P,O]=m.split(u.Kt);return{tableConfig:{innerBorderV:(0,f.Ej)(D),innerBorderH:(0,f.Ej)(g),outerBorder:(0,f.Ej)(N),rowCount:(0,L.nZ)(G),colCount:(0,L.nZ)(p),styleType:(0,L.nZ)(a),heightProportion:(0,b.VC)(P),widthProportion:(0,b.VC)(O)},tableData:E(Z)}},k=(d,m)=>{d.tblD.lk.forEach(g=>{g.forEach(D=>m(D,"interactionSubKeyRef"))})},_=(d,m)=>({...d,tblD:{...d.tblD,lk:d.tblD.lk.map(g=>g.map(D=>D&&m(D)))}})},36831:(se,q,i)=>{"use strict";i.d(q,{LP:()=>N,Zr:()=>p,_Q:()=>G,i$:()=>D,uL:()=>Z});var f=i(52787),b=i(66234),L=i(80693),u=i(6013),o=i(98336),E=i(52730),B=i(49651),y=i(21630),k=i(91320);const _={left:0,right:1},d=(0,y.$)("placement",_),m=a=>{let{image:{imageRef:P,imageRectWidth:O,imageRectHeight:R}}=a;return{imgP:(0,k.jq)(O,R),imgR:P}},g=a=>{let{imgP:P,imgR:O}=a;const[R,K]=(0,k.dn)(P);return{image:{imageRef:O,imageRectWidth:R,imageRectHeight:K}}},D=(a,P)=>{a.imgR&&P(a.imgR,"rResExtImage")},N=(a,P)=>a,Z=a=>({...(0,f.om)(a),exp:(0,L.aY)(a.expand),od:(0,b.xd)(a.order),icn:a.icon,ir:(0,L.aY)(a.isRoot),...(0,o.JY)(a),...(0,u.WW)(a),fill:(0,E.Wl)(a.fill),...(0,B.fh)(a),pla:d.pack(a.placement),...m(a)}),G=a=>({...(0,f.BV)(a),type:"wMindNode",expand:(0,L.YI)(a.exp),order:(0,b.nZ)(a.od),icon:a.icn,isRoot:(0,L.YI)(a.ir),...(0,o.tK)(a),...(0,u.T7)(a),...(0,B.m7)(a),fill:(0,E.ie)(a.fill),placement:d.parse(a.pla),...g(a)}),p=function(a,P,O,R,K,Q,V,ee,W,H,I,X,Ee,te){return P===void 0&&(P=""),O===void 0&&(O=!1),R===void 0&&(R=0),K===void 0&&(K=4294967295),Q===void 0&&(Q="#000000"),V===void 0&&(V=5),ee===void 0&&(ee=!0),W===void 0&&(W=""),H===void 0&&(H="right"),I===void 0&&(I=0),X===void 0&&(X=0),Ee===void 0&&(Ee=0),te===void 0&&(te=0),{type:"wMindNode",name:a,zIndex:V,x:I,y:X,r:0,w:0,h:0,opacity:1,isLock:!1,isVisible:!0,isLockAspect:!1,fixPosTo:"none",interactions:[],expand:ee,order:R,icon:W,isRoot:O,richTextV1:{...u.yI,textColor:"",verticalAlign:"flex-start",horizontalAlign:"left",sizeType:0},textV1:{blocks:{[""+Q]:{text:P,type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}},entityMap:{}},fill:{fillIsVisible:!1,fill:"solid",solidColor:K},border:{bdrIsVisible:!1,bdrColor:3149642751,bdrWidth:1,bdrStyle:"solid"},placement:H,image:{imageRef:"",imageRectWidth:0,imageRectHeight:0}}}},28415:(se,q,i)=>{"use strict";i.d(q,{Uk:()=>y,Yq:()=>E,bf:()=>k,y6:()=>B});var f=i(52787),b=i(52730),L=i(49651),u=i(74516),o=i(6013);const E=_=>({...(0,f.om)(_),fill:(0,b.Wl)(_.fill),...(0,L.TG)(_),...(0,o.UX)(_),...(0,u.tM)(_)}),B=_=>({...(0,f.BV)(_),fill:(0,b.ie)(_.fill),...(0,L.JJ)(_),...(0,o.KC)(_),...(0,u.Y5)(_),type:"wTable"}),y=function(_,d,m,g,D,N,Z){return d===void 0&&(d=10),m===void 0&&(m=160),g===void 0&&(g=60),D===void 0&&(D=320),N===void 0&&(N=120),Z===void 0&&(Z={columns:Array(4).fill({type:"text",width:80}),rows:Array(4).fill({height:30}),cellStyles:Array(4).fill(Array(4).fill("")),mergeCells:{},data:Array(4).fill(Array(4).fill("")),links:Array(4).fill(Array(4).fill(""))}),{type:"wTable",name:_,zIndex:d,x:m,y:g,r:0,w:D,h:N,opacity:1,isLock:!1,isVisible:!0,isLockAspect:!1,fixPosTo:"none",interactions:[],textV0:{text:"",textColor:269488383,italic:!1,bold:!1,textDecoration:"normal",verticalAlign:"center",horizontalAlign:"center",fontSize:14,lineHeight:20,padding:8},borderRadius:0,border:{bdrIsVisible:!0,bdrColor:3149642751,bdrWidth:1,bdrStyle:"solid"},borderVisibility:{bdrIsVisibleT:!0,bdrIsVisibleL:!0,bdrIsVisibleB:!0,bdrIsVisibleR:!0},fill:{fillIsVisible:!0,fill:"solid",solidColor:4294967295},tableData:Z,tableConfig:{innerBorderV:{bdrIsVisible:!0,bdrColor:3149642751,bdrWidth:1},innerBorderH:{bdrIsVisible:!0,bdrColor:3149642751,bdrWidth:1},outerBorder:{bdrIsVisible:!0,bdrColor:3149642751,bdrWidth:1},rowCount:4,colCount:4,styleType:0,...k({height:N,width:D,columns:Z.columns,rows:Z.rows})}}},k=_=>{let{height:d,width:m,columns:g,rows:D}=_;const N=[],Z=[];return g.forEach(G=>Z.push(G.width/m)),Object.values(D).forEach(G=>N.push(G.height/d)),{widthProportion:Z,heightProportion:N}}},39472:(se,q,i)=>{"use strict";i.d(q,{cQ:()=>b});const f="_cmt",b=k=>k.endsWith(f),L=k=>{if(b(k))throw new Error("bad datKey: "+k);return""+k+f},u=k=>{if(!b(k))throw new Error("bad cmtKey: "+k);return k.slice(0,-f.length)},o="_cur",E=k=>k.endsWith(o),B=k=>{if(E(k))throw new Error("bad datKey: "+k);return""+k+o},y=k=>{if(!E(k))throw new Error("bad curKey: "+k);return k.slice(0,-o.length)}},7106:(se,q,i)=>{"use strict";i.d(q,{Lp:()=>N,Vv:()=>p,_M:()=>d,gG:()=>m,hc:()=>D,lD:()=>g,mb:()=>Z,xK:()=>y});var f=i(34596),b=i(68822),L=i(67173),u=i(1372),o=i(49548);const E={"text-align":["textAlign","center"],"vertical-align":["verticalAlign","middle"],"align-items":["alignItems","center"],"justify-content":["justifyContent","center"],"font-size":["fontSize",14],color:["color","#101010"],"font-weight":["fontWeight","normal"],"font-style":["fontStyle","normal"],"text-decoration":["textDecoration","normal"],"line-height":["lineHeight","20px"],padding:["padding",4],"white-space":["whiteSpace","per-line"]},B={center:"center",left:"flex-start",right:"flex-end",justify:"space-between"},y=["default","noBorderInterlacing","hasBorderInterlacing","topBg","leftBg","topLeftBg"],k={ha:"left",va:"middle","font-size":14,color:"#101010",boldType:0,"font-style":"normal","text-decoration":"normal","line-height":20,padding:4,background:"#FFFFFF"},_={"flex-start":"top",center:"middle","flex-end":"bottom"},d=(a,P)=>{const O=a.tableData&&a.tableData.links,R=a.tableData.mergeCells;if(!O)return"";const K=[],{selectionLeftTopInfo:{x:Q,y:V},selectionRightBottomInfo:{x:ee,y:W}}=P;for(let X=Q;X<=ee;X++)for(let Ee=V;Ee<=W;Ee++)K.push(O[Ee][X]);if(R[Q+"-"+V]){const[X,Ee]=R[Q+"-"+V];if(Q+X-1===ee&&V+Ee-1===W)return K[0]}return(K.length>1?"":K[0]||"").split(",").map(X=>{var Ee;return((Ee=a.interactions.find(te=>te.subKey===X))==null?void 0:Ee.key)||""})},m=a=>{const{tableConfig:{innerBorderV:P,innerBorderH:O,outerBorder:R}}=a;return{innerBorderV:(0,L.O_)(P),innerBorderH:(0,L.O_)(O),outerBorder:(0,L.O_)(R)}},g=a=>{const P=[];return Object.entries(a).forEach(O=>{let[R,K]=O;const[Q,V]=K,[ee,W]=R.split("-");for(let H=0;H<Q;H++)for(let I=0;I<V;I++){const X=Number(ee)+H+"-"+(Number(W)+I);X!==R&&P.push(X)}}),P},D=(a,P,O,R)=>{let K={selectArea:{width:0,height:0,top:-3e3,left:-3e3,display:"none"},copyArea:{width:0,height:0,top:-3e3,left:-3e3,display:"none"},firstCell:{width:0,height:0,background:"#fff"}};if(!a)return K;try{const{selectionLeftTopInfo:{x:Q,y:V},selectionRightBottomInfo:{x:ee,y:W}}=a,{top:H,left:I}=b.R.tableHandle.el.querySelector(".jexcel_content").getBoundingClientRect();let X={top:0,left:0,height:0,width:0};try{X=b.R.tableHandle.el.querySelector('[data-xy="'+Q+"-"+V+'"]').getBoundingClientRect()}catch(we){let Ce=0,et=0;for(let ve=0;ve<Q;ve++)Ce=Ce+O[ve].width;for(let ve=0;ve<V;ve++)et=et+P[ve].height;const De=MB.getScale()/100;X={left:Ce*De+I,top:et*De+H,width:O[Q].width,height:P[V].height}}const{top:Ee,left:te,height:pe,width:he}=X;let oe=1,me=1;for(let we=Q;we<=ee;we++)oe+=O[we].width;for(let we=V;we<=W;we++)me+=P[we].height;let Oe=null;if(R){const{start:we,end:Ce,isV:et,isToTopOrLeft:De}=R;let ve=-2,xe=-2;const{x:je,y:We}=Ce,{x:Ne,y:He}=we;for(let Ze=Ne;Ze<=je;Ze++)ve+=O[Ze].width;for(let Ze=He;Ze<=We;Ze++)xe+=P[Ze].height;let ke,ae;De&&({top:ke,left:ae}=b.R.tableHandle.el.querySelector('[data-xy="'+Ne+"-"+He+'"]').getBoundingClientRect()),Oe={width:et?ve+1:ve+oe+1,height:et?xe+me:xe,top:((De&&et?ke:Ee)-H+2)/MB.getScale()*100,left:((De&&!et?ae:te)-I+2)/MB.getScale()*100}}K={firstCell:{width:he/MB.getScale()*100,height:pe/MB.getScale()*100},copyArea:Oe,selectArea:{width:oe,height:me,top:(Ee-H)/MB.getScale()*100,left:(te-I)/MB.getScale()*100}}}catch(Q){console.error("gJSBS",Q)}return K},N=a=>{const P={};return Z(a).forEach((R,K)=>{const Q=E[K]&&E[K][0]||K;if(Q==="alignItems")P.justifyContent=R;else if(Q==="justifyContent")P.alignItems=R;else if(Q==="background"){const V=(0,f.Gd)(R);P[Q]=V}else P[Q]=R}),P.alignItems=P.textAlign?B[P.textAlign]:"flex-start",P},Z=a=>{const P=new Map;return a&&a.split(";").filter(O=>O).forEach(O=>{const[R,K]=O.split(":");P.set(R.trim(),K.trim())}),P},G=a=>{const P=(0,u.OI)(a);return(0,o.Qq)({isEnable:!0,color:(0,u.ls)(P)})},p=a=>{const P=Z(a),O={...k};return P.forEach((R,K)=>{["font-size","line-height","padding"].includes(K)?O[K]=parseInt(R.replace("px","")):K==="font-weight"?O.boldType=+(R==="bold"):K==="text-align"?O.ha=R:K==="align-items"?O.va=_[R]:O[K]=R}),{appearance:{background:G(O.background)},text:{boldType:O.boldType,color:O.color,fontSize:O["font-size"],fontStyle:O["font-style"],lineHeight:O["line-height"],textDecoration:O["text-decoration"],ha:O.ha,va:O.va,padding:O.padding}}}},67173:(se,q,i)=>{"use strict";i.d(q,{CA:()=>N,Hd:()=>m,K3:()=>V,KY:()=>k,O_:()=>d,RJ:()=>H,UK:()=>W,bv:()=>a,cT:()=>O,dR:()=>B,fg:()=>Q,g4:()=>R,gU:()=>g,lk:()=>ee,pO:()=>K,q7:()=>G,qQ:()=>D,vi:()=>p,wK:()=>y,xn:()=>_});var f=i(7485),b=i(27319),L=i(13806),u=i(78321),o=i(34596),E=i(35269);const B=I=>{var X;return(X=I.border)!=null&&X.bdrIsVisible?{borderColor:(0,o.Gd)(I.border.bdrColor),borderWidth:I.borderVisibility?(I.borderVisibility.bdrIsVisibleT?I.border.bdrWidth:0)+"px "+(I.borderVisibility.bdrIsVisibleR?I.border.bdrWidth:0)+"px "+(I.borderVisibility.bdrIsVisibleB?I.border.bdrWidth:0)+"px "+(I.borderVisibility.bdrIsVisibleL?I.border.bdrWidth:0)+"px":I.border.bdrWidth+"px",borderStyle:I.border.bdrStyle}:{border:"none"}},y=I=>({borderRadius:I.borderRadius?typeof I.borderRadius=="number"?I.borderRadius+"px":I.borderRadius.radiusTL+"px "+I.borderRadius.radiusTR+"px "+I.borderRadius.radiusBR+"px "+I.borderRadius.radiusBL+"px":void 0}),k=I=>I.bdrIsVisible?{borderColor:(0,o.Gd)(I.bdrColor),borderWidth:I.bdrWidth+"px",borderStyle:I.bdrStyle}:{border:"none"},_=I=>I.bdrIsVisible?I.bdrWidth+"px "+I.bdrStyle+" "+(0,o.Gd)(I.bdrColor):"",d=I=>I.bdrIsVisible?{borderColor:(0,o.Gd)(I.bdrColor),borderWidth:I.bdrWidth+"px",bdrIsVisible:I.bdrIsVisible}:{border:"none",bdrIsVisible:I.bdrIsVisible},m=I=>I&&I.shadowIsVisible?I.offsetX+"px "+I.offsetY+"px "+I.blurRadius+"px "+I.spreadRadius+"px "+(0,o.Gd)(I.shadowColor):"none",g=I=>({boxShadow:m(I.shadow),...y(I),overflow:"hidden",width:"100%",height:"100%",position:"absolute"});function D(I){var X,Ee,te,pe,he,oe,me,Oe;let we="none";return I.textV0&&I.textV0.textDecoration&&I.textV0.textDecoration!=="normal"&&(we=I.textV0.textDecoration),{width:"100%",height:"100%",zIndex:I.zIndex,...B(I),...y(I),boxShadow:m(I.shadow),fontSize:(X=I.textV0)==null?void 0:X.fontSize,lineHeight:((Ee=I.textV0)==null?void 0:Ee.lineHeight)+"px",padding:(te=I.textV0)==null?void 0:te.padding,fontWeight:(pe=I.textV0)!=null&&pe.bold?"bold":"normal",fontStyle:(he=I.textV0)!=null&&he.italic?"italic":"normal",textDecoration:we,display:"flex",color:(0,o.Gd)((oe=I.textV0)==null?void 0:oe.textColor),alignItems:(me=I.textV0)==null?void 0:me.verticalAlign,textAlign:(Oe=I.textV0)==null?void 0:Oe.horizontalAlign}}const N=I=>{if(!I||!I.flip)return"";const{flip:{flipH:X,flipV:Ee}}=I;return(X?"scaleX(-1)":"")+" "+(Ee?"scaleY(-1)":"")},Z=/^(fa|md|mb|ci|fa5|antOutline|antFill)-/;function G(I){const X=Z.test(I.icon),Ee=(I.icon||"").replace(Z,""),te=X?I.icon.split("-")[0]:"fa",he=(te==="mb"?"icon":te)+"-"+Ee,oe=te+" "+he,me={fontSize:I.w+"px"};return(0,E.jsx)("span",{className:"icon "+oe,style:me,children:te==="md"?Ee:null})}function p(I){const{border:{bdrWidth:X}}=I,{bdrIsVisibleT:Ee,bdrIsVisibleR:te,bdrIsVisibleB:pe,bdrIsVisibleL:he}=I.borderVisibility;return(Ee?X:"0")+"px "+(te?X:"0")+"px "+(pe?X:"0")+"px "+(he?X:"0")+"px"}const a=I=>{let X=0,Ee=0,te=0,pe=0;if(I){const{border:he,borderVisibility:oe}=I;if(he){const{bdrIsVisible:me,bdrWidth:Oe}=he,we=Oe||0;if(me)if(oe){const{bdrIsVisibleT:Ce,bdrIsVisibleR:et,bdrIsVisibleB:De,bdrIsVisibleL:ve}=oe;X=ve?we:0,Ee=Ce?we:0,te=et?we:0,pe=De?we:0}else X=Ee=te=pe=we}}return{borderLeft:X,borderTop:Ee,borderRight:te,borderBottom:pe}};function P(I,X){X===void 0&&(X={minX:0,minY:0,width:1,height:1});const Ee=I.clone().translate({x:-I.x,y:-I.y}).translate({x:I.x*X.width,y:I.y*X.height});if(I.isIdentity())return null;if(Ee.isTranslate())return"translate("+Number(I.x)+", "+Number(I.y)+")";{const{a:te,b:pe,c:he,d:oe,x:me,y:Oe}=Ee;return"matrix("+Number(te)+", "+Number(pe)+", "+Number(he)+", "+Number(oe)+", "+Number(me)+", "+Number(Oe)+")"}}function O(I,X){return X===void 0&&(X={minX:0,minY:0,width:1,height:1}),I.type!==L.Y_.Solid?P(u.wx.parse(I),X):null}function R(I){if(I.type!==L.Y_.Solid){const{colors:X,stops:Ee}=I;return X.map((te,pe)=>({hex:b.I.toHexAndAlpha(te)[0],alpha:te[3],point:Ee[pe]}))}return[]}function K(I){const{colors:X,stops:Ee}=I,te=u.wx.parse(I);return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><defs><linearGradient id="1" x1="0" x2="1" y1="0" y2="0" gradientTransform="'+P(te)+'">'+X.map((he,oe)=>({hex:b.I.toHexAndAlpha(he)[0],alpha:he[3],point:Ee[oe]})).sort((he,oe)=>he.point-oe.point).map(he=>{let{alpha:oe,hex:me,point:Oe}=he;return'<stop stop-color="'+me+'" stop-opacity="'+oe+'" offset="'+Oe+'"></stop>'}).join("")+'</linearGradient></defs><rect width="100%" height="100%" fill="url(#1)"></rect></svg>'}function Q(I){const{colors:X,stops:Ee}=I,te=u.wx.parse(I);return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"><defs><radialGradient id="1" cx="0" cy="0" r="1" gradientTransform="'+P(te)+'">'+X.map((he,oe)=>({hex:b.I.toHexAndAlpha(he)[0],alpha:he[3],point:Ee[oe]})).sort((he,oe)=>he.point-oe.point).map(he=>{let{alpha:oe,hex:me,point:Oe}=he;return'<stop stop-color="'+me+'" stop-opacity="'+oe+'" offset="'+Oe+'"></stop>'}).join("")+'</radialGradient></defs><rect width="100%" height="100%" fill="url(#1)"></rect></svg>'}function V(I,X,Ee){Ee===void 0&&(Ee={minX:0,minY:0,width:1,height:1});const{colors:te,stops:pe}=I,he=u.wx.parse(I),oe=P(he,Ee);return I.type===L.Y_.LinearGradient?'<defs><linearGradient id="'+X+'" x1="0" x2="100%" y1="0" y2="0" gradientTransform="'+oe+'" gradientUnits="userSpaceOnUse">'+te.map((me,Oe)=>({hex:b.I.toHexAndAlpha(me)[0],alpha:me[3],point:pe[Oe]})).sort((me,Oe)=>me.point-Oe.point).map(me=>{let{alpha:Oe,hex:we,point:Ce}=me;return'<stop stop-color="'+we+'" stop-opacity="'+Oe+'" offset="'+Ce+'"></stop>'}).join("")+"</linearGradient></defs>":I.type===L.Y_.RadialGradient?'<defs><radialGradient id="'+X+'" cx="0" cy="0" r="100%" gradientTransform="'+oe+'" gradientUnits="userSpaceOnUse">'+te.map((me,Oe)=>({hex:b.I.toHexAndAlpha(me)[0],alpha:me[3],point:pe[Oe]})).sort((me,Oe)=>me.point-Oe.point).map(me=>{let{alpha:Oe,hex:we,point:Ce}=me;return'<stop stop-color="'+we+'" stop-opacity="'+Oe+'" offset="'+Ce+'"></stop>'}).join("")+"</radialGradient></defs>":""}function ee(I){return{fontSize:I.textV0.fontSize,justifyContent:I.textV0.horizontalAlign,alignItems:I.textV0.verticalAlign,color:(0,o.Gd)(I.textV0.textColor),fontFamily:"PingFangSC"}}function W(I){return{textAlign:I.textV0.horizontalAlign}}const H=(I,X)=>I?(0,o.Gd)(X):""},50397:(se,q,i)=>{"use strict";i.d(q,{E:()=>L});var f=i(6966);const b=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),L=u=>(0,f._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:u}})},95485:(se,q,i)=>{"use strict";i.d(q,{$p:()=>Z,By:()=>V,Yo:()=>G,cN:()=>a});var f=i(87587),b=i(35517),L=i(99099),u=i(49842),o=i(26886),E=i(74982),B=i(60074),y=i(98388),k=i(67817),_=i(43980),d=i(18890),m=i.n(d),g=i(60264),D=i(28016),N=i(29352);ENV.IS_SKT_HTTP&&(0,L.lQ)(!0),(0,B.d)(_.uT,_.n_);const Z=async(W,H)=>{console.warn("[onTransferError]",W,H),W==="Tot"||W==="5XX"?MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:32*1e3,showClose:!0,priority:1,type:"super"}):W==="4XX"&&H&&/403/.test(H.message)?MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>MB.global.onBackButtonClick()):W==="4XX"&&H&&/401/.test(H.message)?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,b.av)())):W==="4XX"?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,b.av)())):await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,status),isHTML:!0})},G=async(W,H)=>{console.warn("[onReadOnlyError]",W,H),W!=="Cur"&&MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1})},p=W=>{let{sendCur:H,cssCur:I}=W;const X=()=>{try{const Ee=(0,o.UF)();if(!Ee)return;const{current:{currentScreen:te},screencontainer:{cursorPos:pe}}=Ee,he=te&&(te.cid||te.key);if(!he)return;const{x:oe,y:me}=pe||{};H(he,oe,me)}catch(Ee){console.error("cssCur push error",Ee)}};setInterval(()=>{I.pollRoomChg()&&X()},3*1e3),document.addEventListener("pointermove",X,{passive:!0})},a=function(W,H){var I,X,Ee,te,pe,he,oe,me,Oe,we;H===void 0&&(H=rootSdk);const Ce=(0,o.UF)();if(!(!Ce||!MB.action)&&!(((I=rootSdk)==null||(I=I.cssCur)==null?void 0:I.getSocketStat().length)<=1)){if(Ce.ui.leftLayout.directory.screen.currentPage&&W.includes(Ce.ui.leftLayout.directory.screen.currentPage.key)&&((X=H.sdkStore.getHotItem(Ce.ui.leftLayout.directory.screen.currentPage.key))==null?void 0:X.sup)==="B@trash"&&(Ce.editor.state.mode.basketEditor.key&&MB.action("entry:exit:edit:basket"),Ce.editor.state.mode.basketEditor.refPage?MB.action("entry:update:screen:list"):MB.action("entry:activate:root-project:home-screen"),MB.notice({text:"\u5F53\u524D\u9009\u4E2D\u753B\u5E03\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"})),Ce.editor.state.mode.basketEditor.key&&H.sdkStore.isTrashed(Ce.editor.state.mode.basketEditor.key)&&(MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u52A8\u6001\u7EC4\u4EF6\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"})),Ce.editor.state.mode.basketEditor.key&&W[0]){const ke=H.sdkStore.getHotItem(W[0]);if((ke==null?void 0:ke.sup)==="@@T"){var et;if((ke==null||(et=ke.hotAttr)==null?void 0:et.type)==="rResCanvas"){var De;const ae=H.sdkStore.getHotItem(Ce.editor.state.mode.basketEditor.key);if(W[1]&&ae&&((De=ae.hotAttr)==null?void 0:De.refRBPageKey)===W[1]){const Ze=H.sdkStore.findAllTypeUnder(W[1],"rResCanvas");(Ze==null?void 0:Ze.length)===0&&(MB.action("entry:exit:edit:basket"),W[0]&&H.sdkStore.deleteHotItem(W[0]))}}}else Ce.editor.state.mode.basketEditor.key===W[0]&&MB.action("mode:update:basketEditor:hotItem",ke)}if(Ce.editor.state.mode.basketEditor.refPage&&W.includes(Ce.editor.state.mode.basketEditor.refPage)){var ve;if(((ve=H.sdkStore.getHotItem(Ce.editor.state.mode.basketEditor.refPage))==null?void 0:ve.sup)==="@@T"){var xe;if(MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u6BCD\u7248\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"}),((xe=H.sdkStore.getSubHotItemList(Ce.editor.state.mode.basketEditor.refPage))==null?void 0:xe.length)===0){const ke=H.sdkStore.findAllBasketFRBPage(Ce.editor.state.mode.basketEditor.refPage);H.sdkStore.deleteHotItemBatch([...ke.map(ae=>ae.key),Ce.editor.state.mode.basketEditor.refPage])}}else Ce.editor.state.mode.basketEditor.refPage===W[0]&&MB.action("mode:update:basketEditor:hotItem",H.sdkStore.getHotItem(W[0]))}if(((Ee=H.sdkStore.getHotItem(W[0]))==null?void 0:Ee.hotAttr.type)==="rResBunch"&&((te=H.sdkStore.getHotItem(W[0]))==null?void 0:te.hotAttr.bunch)==="rbPage")if(!Ce.ui.leftLayout.directory.screen.screenDataMap[W])MB.action("entry:update:screen:list");else{const ke=Ce.ui.leftLayout.directory.screen.screenDataMap[W],ae=H.sdkStore.getHotItem(W[0]);if(ae&&!m()(ae==null?void 0:ae.hotAttr,ke==null?void 0:ke.hotAttr)){var je,We;(ke==null||(je=ke.hotAttr)==null?void 0:je.name)!==(ae==null||(We=ae.hotAttr)==null?void 0:We.name)&&MB.action("entry:update:screen:list");const Ze=Ce==null?void 0:Ce.ui.leftLayout.directory.screen.currentPage;(Ze==null?void 0:Ze.key)===(ae==null?void 0:ae.key)&&MB.action("entry:update:current:screen-mata",{screenMeta:{cid:ae==null?void 0:ae.key,sup:ae==null?void 0:ae.sup,sub:ae==null?void 0:ae.sub,...ae==null?void 0:ae.hotAttr},updateWidgetTreeData:!1})}}if((pe=Ce.editor.state.table)!=null&&pe.selectTableCellInfo&&W[0]===((he=Ce.editor.state.table)==null||(he=he.widget)==null?void 0:he.key)&&((oe=H.sdkStore.getHotItem(W[0]))==null?void 0:oe.hotAttr.type)==="wTable")if(H.sdkStore.isTrashed(W[0]))MB.action("entry:clear:selection"),MB.action("table:update:info",{selectTableCellInfo:null,isShowTableMenu:!1,widget:null,isEditTable:!1}),MB.f.isEditTable=!1;else{var Ne,He;const{selectionLeftTopInfo:{x:ke,y:ae},selectionRightBottomInfo:{x:Ze,y:ct}}=(Ne=Ce.editor.state.table)==null?void 0:Ne.selectTableCellInfo,at=H.sdkStore.getHotItem(W[0]);if(at!=null&&(He=at.hotAttr)!=null&&He.tableData){const{hotAttr:{tableData:{columns:Ie,rows:yt}}}=at;let xt=ke,Tt=ae,ie=Ze,ue=ct;ke>Ie.length-1&&(xt=Ie.length-1),Ze>Ie.length-1&&(ie=Ie.length-1),ae>yt.length-1&&(Tt=yt.length-1),ct>yt.length-1&&(ue=yt.length-1);const be={...Ce.editor.state.table.widget,...at.hotAttr};(0,D.G)({widget:be,x1:xt,y1:Tt,x2:ie,y2:ue})}}(me=Ce.editor.state.mind)!=null&&me.editMindKey&&W.includes((Oe=Ce.editor.state.mind)==null?void 0:Oe.editMindKey)&&H.sdkStore.isTrashed((we=Ce.editor.state.mind)==null?void 0:we.editMindKey)&&MB.action("mind:exit:edit:state"),MB.action("entry:rebuild:screen-widget-tree"),MB.action("entry:refresh:link-list")}},P=(0,f.P2)(W=>{a(W)},.5*1e3),O={repaint:W=>{let{type:H,payload:I}=W;H===E.K&&P(I)}},R=(0,f.P2)(()=>{!(0,o.UF)()||!MB.action||MB.action("entry:comment:rebuild:commentList")},.5*1e3),K={repaint:W=>{let{type:H,payload:I}=W;H===g.K&&R()}},Q=async W=>{let{projectBasicCid:H}=W;try{const{userId:I,flatKey:X}=await fetchGetJSON("/api/flat/web_v1/proj2-edit-info?prj2Cid="+H);return{userId:I,flatKey:X}}catch(I){await apiErrorModals(I)}},V=async(W,H)=>{try{const X=await(0,L.od)(W),Ee=X.sdkStore.createRoSdkStore();Object.assign(globalThis,{...X,rootSdk:X,roSdkStore:Ee}),(0,u.s_)()||p(X),X.sdkStore.subscribe(O.repaint),X.cmtStore.subscribe(K.repaint),H&&(0,u.mK)()&&((0,N.yR)(X.flatStore,H),(0,N.qQ)(X.flatStore),(0,N.vZ)(X.flatStore,H))}catch(X){var I;const Ee=X?Number(X.status)||Number((I=X.toString().split("status")[1])==null||(I=I.split(":")[1])==null?void 0:I.split(",")[0])||401:void 0;console.warn("[initRootSdk]",X,Ee),(0,B.Q)("initRootSdk",X,{status:Ee,sdkOption:W,projectBasic:H}),await(0,b.Vz)({status:Ee}),await new Promise(()=>{})}},ee=W=>async H=>{let{fssDat:I}=H;try{const X=await I.loadSOS();if(!X)return;console.warn("[afterStoreCreate] found unsaved proj tree",X);const Ee=await MB.global.popupHelper.confirmAsync({isClose:!0,isHTML:!0,title:"\u6062\u590D\u6570\u636E",desc:["<p>\u68C0\u6D4B\u5230\u672A\u6210\u529F\u4FDD\u5B58\u5230\u4E91\u7AEF\u7684\u6587\u4EF6\u6570\u636E\uFF0C\u6700\u540E\u8BB0\u5F55\u65F6\u95F4\u4E3A\uFF1A"+getFormatDateString(new Date(X.time).getTime(),"","-")+"\u3002</p>","<p>\u662F\u5426\u6062\u590D\u6570\u636E\u5230\u65B0\u6587\u4EF6\uFF1F</p>"].join(""),confirmText:"\u6062\u590D",cancelText:"\u53D6\u6D88"});if(toSentry("loadSOS",void 0,{isKeep:!!Ee,time:X.time}),Ee){const{clientData:{upperCid:te}}=await newFlpakFromTree(X.tree,W.team_cid,{...W,name:W.name+"-\u6062\u590D\u6570\u636E"});await I.freeSOS(),refreshLocationHref("/proto/design/"+te)}else await I.freeSOS()}catch(X){console.warn("[afterStoreCreate]",X)}}},16426:(se,q,i)=>{"use strict";i.d(q,{YN:()=>Z,om:()=>N});var f=i(95485),b=i(99099),L=i(20100),u=i(6966),o=i(7776),E=i(74982),B=i(26886),y=i(87587),k=i(14501),_=i(29352);const d=async G=>{const[[p,a],[P,O]]=await Promise.all([(async()=>{const{project_basic:R,project_metas:[K]}=await fetchGetJSON("/api/upper/web_v1/basics/"+G);return[R,K]})(),(async()=>{const{userId:R,flatKey:K}=await getFlatEditData({projectBasicCid:G});return console.log("[p2edit] uId="+R+" key="+K+" pbCid="+G),[R,K]})()]);return await initRootSdk({userId:P,flpakKey:O,afterStoreCreate:getAfterStoreCreate(p),onTransferError,onReadOnlyError,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,__fetchFlpakAsync:async(R,K)=>{const Q=await fetchFlpakAsync(R,K),V=statFlpak(Q),ee=Number(((V.treGz+V.flpbxGz+V.flpch)/1024/1024).toFixed(1)),W=ENV.IS_FEAT_FLPAK4GB;return ENV["@FLPAK_SIZE_INFO"]={isFlpakSizeWarn:isFlpakSizeWarn(Q,ENV.IS_FEAT_FLPAK4GB),isFlpakSizeLimit:isFlpakSizeLimit(Q,ENV.IS_FEAT_FLPAK4GB),currentSize:ee,warnSize:getWarnTreMiB(W)},Q}},p),{projectBasic:p,projectMeta:a}},m=async G=>{const{market_template:p,project_metas:[a]}=await requestResourcesDetailData(G);return await initRootSdk({userId:void 0,flpakKey:a.cid,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError,onReadOnlyError},p),{projectBasic:p,projectMeta:a}},g={repaint:G=>{let{type:p,payload:a}=G;p===E.K&&D(a)}},D=(0,y.P2)(G=>{const p=(0,B.UF)();if(!p||!MB.action)return;const a=p.ui.leftLayout.popups.currentPopupPanel,P=p.current.currentOrg,O=p.current.currentUser,R=p.editor.state.mode.editingOrgComboMode,K=p.editor.state.mode.editingUserComboMode;if(a!=="builtin"&&!(O&&K)&&!(P&&R))return;const Q=p.ui.leftLayout.widget.navIndex;if(K||R){const I=K?userSdk:orgSdk;if(!I)return;(0,f.cN)(G,I)}else if(O&&Q===1&&userSdk){var V,ee;((V=userSdk.sdkStore.getHotItem(G[0]))==null?void 0:V.hotAttr.type)==="rResBunch"&&((ee=userSdk.sdkStore.getHotItem(G[0]))==null?void 0:ee.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:user:combo:group:list")}else if(P&&Q===2&&orgSdk){var W,H;((W=orgSdk.sdkStore.getHotItem(G[0]))==null?void 0:W.hotAttr.type)==="rResBunch"&&((H=orgSdk.sdkStore.getHotItem(G[0]))==null?void 0:H.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:org:combo:group:list")}},.5*1e3),N=async G=>{let{project_meta_cid:p,userId:a,repaint:P}=G;try{const O=await(0,b.od)({userId:a,flpakKey:p,isDummyCmt:!0,isAllowDat:!0,onTransferError:f.$p,onReadOnlyError:f.Yo});return P&&O.sdkStore.subscribe(g.repaint),(0,_.qQ)(O.flatStore),O}catch(O){console.warn("[initComboStore]",O)}},Z=G=>(0,u.EE)("/api/upper/web_v1/design/initial?project_cid="+G)},99990:(se,q,i)=>{"use strict";i.d(q,{$B:()=>me,BG:()=>k,BS:()=>ke,F7:()=>ee,H3:()=>He,HP:()=>he,IS:()=>yt,Im:()=>f.Im,J5:()=>P,KI:()=>te,KQ:()=>g,My:()=>ae,NK:()=>Ze,P3:()=>K,Qs:()=>I,RI:()=>m,RO:()=>Ne,Tz:()=>je,Vp:()=>ve,W:()=>N,X6:()=>H,Xr:()=>d,_5:()=>Tt,a$:()=>_,be:()=>a,bt:()=>G,cD:()=>et,iq:()=>xe,kk:()=>xt,qr:()=>Oe,rM:()=>V,rw:()=>Ee,sE:()=>ct,tr:()=>at,uB:()=>Ce,uo:()=>Z,ur:()=>R});var f=i(7776),b=i(6966),L=i(76985),u=i(35517),o=i(11230);const E=(ie,ue)=>{const be=new Error("[NO SENTRY] "+ie);return Object.assign(be,ue),be},B=(ie,ue)=>fetchGetJSON("/api/upper/web_v1/design/readonly_initial?access_token="+ie+"&password="+ue),y=async(ie,ue)=>{const be="/api/flat/web_v1/preview/initial?access_token="+ie+"&view_mode="+ue,Je=await fetch(be,{credentials:"same-origin"}),ft=await Je.json();if(Je.status!==200)throw E("[fetchGetHead] failed with "+Je.status+": "+be,{status:Je.status,error_type:ft==null?void 0:ft.error_type});return ft},k=(ie,ue)=>(0,b.IP)("/api/upper/web_v1/basics/"+ie,{...ue}),_=async()=>{let ie=[];try{const ue=await(0,b.EE)("/api/library/v4/recent_keywords");ue!=null&&ue.keywords&&(ie=ue==null?void 0:ue.keywords)}catch(ue){await(0,u.Vz)(ue)}return ie},d=()=>(0,b._E)("/api/library/v4/recent_keywords"),m=ie=>(0,b.Mn)("/api/library/v4/recent_keywords",{keyword:ie}),g=async()=>{if((0,o.p)())return D();{var ie;let ue;try{ue=await(0,b.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(be){return await(0,u.Vz)(be),{}}return{userComboGroupList:(ie=ue)==null?void 0:ie.user_combo_groups}}},D=async()=>{var ie;let ue;try{ue=await(0,b.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(be){return await(0,u.Vz)(be),{}}return{userComboGroupList:(ie=ue)==null?void 0:ie.org_combo_groups}},N=async ie=>{var ue;let{orgCid:be}=ie,Je;try{Je=await(0,b.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+be)}catch(ft){return await(0,u.Vz)(ft),{}}return{orgComboGroupList:(ue=Je)==null?void 0:ue.org_combo_groups}},Z=async ie=>{const{icon_group:ue,market_template:be}=await(0,f.Mv)(ie.cid),{source:Je,title:ft}=ue||{},It=await(0,b.EE)(Je),Jt=L.em[ft]||"svg",{iconGroupData:rn}=(0,L._7)(It,Jt);return{iconGroupData:rn,marketTemplate:be}},G=async()=>{if((0,o.p)())return p();try{const{asset_groups:ie}=await(0,b.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:ie}}catch(ie){await(0,u.Vz)(ie)}},p=async()=>{const ie=MB.user.solo_org.cid;try{const{asset_groups:ue}=await(0,b.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+ie);return{userAssetGroupList:ue}}catch(ue){await(0,u.Vz)(ue)}},a=async ie=>{let{orgCid:ue}=ie;try{const{asset_groups:be}=await(0,b.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+ue);return{orgAssetGroupList:be}}catch(be){await(0,u.Vz)(be)}},P=async ie=>{if((0,o.p)())return O(ie);try{const{asset:ue,user_asset:be}=await(0,b.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:ie});return{asset:ue,user_asset:be}}catch(ue){await(0,u.Vz)(ue)}},O=async ie=>{const ue=MB.user.solo_org.cid;try{const{asset:be,org_asset:Je}=await(0,b.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:ie,org_cid:ue});return{asset:be,user_asset:Je}}catch(be){await(0,u.Vz)(be)}},R=async(ie,ue)=>{try{const{asset:be,org_asset:Je}=await(0,b.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:ie,org_cid:ue});return{asset:be,org_asset:Je}}catch(be){await(0,u.Vz)(be)}},K=async ie=>{if((0,o.p)())return Q(ie);try{const{user_asset_group:ue}=await(0,b.bX)("/api/library/v4/users/asset_groups/"+ie.cid,{...ie});return{user_asset_group:ue}}catch(ue){await(0,u.Vz)(ue)}},Q=async ie=>{const ue=MB.user.solo_org.cid;try{const{org_asset_group:be}=await(0,b.bX)("/api/library/v4/orgs/asset_groups/"+ie.cid,{...ie,org_cid:ue});return{user_asset_group:be}}catch(be){await(0,u.Vz)(be)}},V=async ie=>{try{const{org_asset_group:ue}=await(0,b.bX)("/api/library/v4/orgs/asset_groups/"+ie.cid,{...ie});return{org_asset_group:ue}}catch(ue){await(0,u.Vz)(ue)}},ee=async ie=>{if((0,o.p)())return W(ie);try{return await(0,b.bX)("/api/library/v3/asset_data/me/assets/"+ie.asset_cid,{...ie})}catch(ue){await(0,u.Vz)(ue)}},W=async ie=>{try{return await(0,b.bX)("/api/library/v3/orgs/assets/"+ie.cid+"?org_cid="+ie.org_cid,{...ie})}catch(ue){await(0,u.Vz)(ue)}},H=async ie=>{try{return await(0,b.bX)("/api/library/v3/orgs/assets/"+ie.cid+"?org_cid="+ie.org_cid,{...ie})}catch(ue){await(0,u.Vz)(ue)}},I=async ie=>{let{cid:ue,name:be,groupCid:Je}=ie;if((0,o.p)())return X({cid:ue,name:be,groupCid:Je});try{await(0,b.NS)("/api/library/v3/asset_data/me/assets",{cid:ue,name:be,group_cid:Je})}catch(ft){await(0,u.Vz)(ft)}},X=async ie=>{let{cid:ue,name:be,groupCid:Je}=ie;const ft=MB.user.solo_org.cid;try{await(0,b.NS)("/api/library/v3/orgs/assets?org_cid="+ft,{cid:ue,name:be,group_cid:Je})}catch(It){await(0,u.Vz)(It)}},Ee=async ie=>{let{orgCid:ue,cid:be,name:Je,groupCid:ft}=ie;try{const It=await(0,b.NS)("/api/library/v3/orgs/assets",{cid:be,org_cid:ue,name:Je,group_cid:ft});return It==null?void 0:It.cid}catch(It){await(0,u.Vz)(It)}},te=async ie=>{let{user_asset_group_cid:ue,org_cid:be,org_asset_group_cid:Je}=ie;if((0,o.p)())return pe({user_asset_group_cid:ue,org_cid:be,org_asset_group_cid:Je});try{return(0,b.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:ue,org_cid:be,org_asset_group_cid:Je})}catch(ft){await(0,u.Vz)(ft)}},pe=async ie=>{let{user_asset_group_cid:ue,org_cid:be,org_asset_group_cid:Je}=ie;try{return(0,b.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:ue,org_cid:be,org_asset_group_cid:Je})}catch(ft){await(0,u.Vz)(ft)}},he=async ie=>{if((0,o.p)())return oe(ie);try{const{user_asset_group:ue,user_assets:be}=await(0,b.sE)("/api/library/v3/asset_data/me/asset_groups/"+ie);return{user_asset_group:ue,userAssets:be}}catch(ue){await(0,u.Vz)(ue)}},oe=async ie=>{try{const{org_asset_group:ue,org_assets:be}=await(0,b.sE)("/api/library/v3/orgs/asset_groups/"+ie);return{user_asset_group:ue,userAssets:be}}catch(ue){await(0,u.Vz)(ue)}},me=async ie=>{try{const{org_asset_group:ue,org_assets:be}=await(0,b.sE)("/api/library/v3/orgs/asset_groups/"+ie);return{org_asset_group:ue,orgAssets:be}}catch(ue){await(0,u.Vz)(ue)}},Oe=async ie=>{(0,o.p)()?await we(ie):await(0,b._E)("/api/library/v3/asset_data/me/assets/"+ie.cid)},we=async ie=>{await(0,b._E)("/api/library/v3/orgs/assets/"+ie.cid+"?org_cid="+ie.org_cid)},Ce=async ie=>{await(0,b._E)("/api/library/v3/orgs/assets/"+ie.cid+"?org_cid="+ie.org_cid)},et=async ie=>{(0,o.p)()?await De(ie):await(0,b._E)("/api/library/v3/asset_data/me/asset_groups/"+ie)},De=async ie=>{await(0,b._E)("/api/library/v3/orgs/asset_groups/"+ie)},ve=async ie=>{await(0,b._E)("/api/library/v3/orgs/asset_groups/"+ie)},xe=ie=>(0,b._Z)("/preferences/update",{...ie}),je=async(ie,ue)=>{if((0,o.p)())return We(ie,ue);try{return await(0,b.bX)("/api/library/v4/users/asset_groups/"+ie,{...ue})}catch(be){await(0,u.Vz)(be)}},We=async(ie,ue)=>{const be=MB.user.solo_org.cid;try{return await(0,b.bX)("/api/library/v4/orgs/asset_groups/"+ie,{...ue,org_cid:be})}catch(Je){await(0,u.Vz)(Je)}},Ne=ie=>async(ue,be)=>{try{const Je={...be,org_cid:ie};return await(0,b.bX)("/api/library/v4/orgs/asset_groups/"+ue,{...Je})}catch(Je){await(0,u.Vz)(Je)}},He=async(ie,ue)=>{let be=null;try{const Je=await(0,b.sE)("/api/community/v1/workspace?category="+ie+"&plabel="+ue);Je!=null&&Je.market_templates&&(be=Je==null?void 0:Je.market_templates)}catch(Je){await(0,u.Vz)(Je)}return be},ke=async function(ie,ue,be){be===void 0&&(be=null);let Je=null;try{const ft=await(0,b.sE)("/api/community/v1/workspace/v8_combos?category="+ie+"&"+(be?"scene_tag="+be:"plabel="+ue));ft!=null&&ft.market_templates&&(Je=ft==null?void 0:ft.market_templates)}catch(ft){await(0,u.Vz)(ft)}return Je},ae=async ie=>{let ue=null;try{const be=await(0,b.EE)("/flpak/w-p2wsearch?"+ie);be!=null&&be.data&&(ue=be)}catch(be){await(0,u.Vz)(be)}return ue},Ze=async ie=>{let ue=null;try{const be=await(0,b.EE)("/flpak/w-p2meta/"+ie);be!=null&&be.length&&(ue=be)}catch(be){await(0,u.Vz)(be)}return ue},ct=async ie=>{let{currentComboPanel:ue,projectMetaCid:be}=ie;try{await(0,b.Gf)("/flpak/w-migrate-"+ue+"-combo-group/"+be+"?mode=normal")}catch(Je){await(0,u.Vz)(Je)}},at=async ie=>{let{projectBasicCid:ue}=ie;try{const{userId:be,flatKey:Je}=await(0,b.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+ue);return{userId:be,flatKey:Je}}catch(be){await(0,u.Vz)(be)}},Ie=async ie=>{let{projectBasicCid:ue,accessToken:be,password:Je}=ie;try{const{userId:ft,flatKey:It}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+ue+"&access_token="+be+"&password="+Je);return{userId:ft,flatKey:It}}catch(ft){await apiErrorModals(ft)}},yt=ie=>(0,b.EE)("/api/dashboard/v5/orgs/"+ie),xt=async ie=>{const{project:ue}=await(0,b.EE)("/api/dashboard/v5/projects/"+ie);return ue},Tt=async ie=>(0,b.EE)("/api/upper/web_v1/basics/statstics/"+ie)},29352:(se,q,i)=>{"use strict";i.d(q,{V5:()=>a,vZ:()=>K,yR:()=>O,qQ:()=>R});var f=i(49777),b=i(2150),L=i(71913),u=i(95060),o=i(6515),E=i(91893),B=i(66234),y=i(35113),k=i(39719);const _=Q=>{let V=0;return(0,o.Fz)(Q,f.X3,ee=>{const W=ee.attr;if(W.T!==k.Wd)return y.it;const H=(0,f.gp)(W);H.bunch==="rbPage"&&!H.asFolder&&V++}),V},d=new Set([k.Wd,k.Y9]),m=Q=>{const V=[];let ee=0,W=0;return walkFlatTreeItem2(Q,KEY_RB_MAIN,H=>{const I=H.attr;if(!d.has(I.T))return;const X=toProto2HotAttr(I);V.push([H.key,H.sup,X]),X.type==="rResBunch"&&X.bunch==="rbPage"&&!X.asFolder?ee++:X.type==="rResCanvas"&&W++}),{p2mList:V,p2mStat:{countPG:ee,countCV:W}}};var g=i(11685),D=i(35125),N=i(84475),Z=i(81327),G=i(3175);const p={iphone_15_pro_max:54,iphone_15_pro:54,iphone_15_plus:54,iphone_15:54,iphone_13_pro_max:44,iphone_13_pro:44,iphone_13_mini:44,iphone_11_pro_max:44,iphone_se:20,Huawei_mate60:48,Huawei_mate60_pro:48,Huawei_mateX5_fold:48,Xiaomi_14:48,samsung_galaxy_s23:48,ipad_pro_11:24,ipad_pro_12:24,ipad_2023:24,Huawei_mate_pad_pro_13_2:24,Huawei_mate_pad_pro_11:24},a=Q=>{var V;let ee=!1,W=!1,H="",I=Q.hotAttr.device;if(I==="customize")for(const te of["android","iphone","ipad"]){const pe=Z.Tz[te]||[];for(const he of pe){const oe=Z.bo[he];if(oe&&oe.height===Q.hotAttr.h&&oe.width===Q.hotAttr.w){I=he;break}}}const X=(V=Z.bo[I])==null?void 0:V.device;["android","iphone","ipad"].includes(X)&&(ee=!0,W=!0,H=X,X==="android"&&(W=!1),["iphone_se","Huawei_mate_pad_pro_13_2","Huawei_mate_pad_pro_11"].includes(I)&&(W=!1),["Huawei_mateX5_expand"].includes(I)&&(ee=!1));let Ee;if(ee){Ee=[];let te;te=N._.wIphoneXSB(I18N.w.wIphoneXSB),te.h=p[Q.hotAttr.device]||44,te.w=Q.hotAttr.w,te.x=Q.hotAttr.w/2,te.y=te.h/2,te.zIndex=6,te.fixPosTo="top";const pe={key:(0,L.Tl)(),attr:(0,E.BF)(te),hotAttr:te,sup:Q.key,sub:[]};Ee.push(pe)}if(W){let te=N._.wRect(I18N.w.tab_bar);te={...te,zIndex:7,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:4177066239},border:{bdrIsVisible:!1,bdrColor:4278190080,bdrWidth:1,bdrStyle:"solid"},borderRadius:4,borderVisibility:{bdrIsVisibleT:!0,bdrIsVisibleL:!0,bdrIsVisibleB:!0,bdrIsVisibleR:!0}},te.h=21,te.w=Q.hotAttr.w,te.x=Q.hotAttr.w/2,te.y=Q.hotAttr.h-te.h/2;const pe={key:(0,L.Tl)(),attr:(0,E.BF)(te),hotAttr:te,sup:Q.key,sub:[]};Ee.push(pe);let he=N._.wRect(I18N.w.wRect);he={...he,zIndex:8,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:255},borderRadius:3,border:{bdrIsVisible:!1,bdrColor:3149642751,bdrWidth:1,bdrStyle:"solid"}},he.h=5,he.w=134,he.x=Q.hotAttr.w/2,he.y=te.y;const oe={key:(0,L.Tl)(),attr:(0,E.BF)(he),hotAttr:he,sup:Q.key,sub:[]};Ee.push(oe)}return Ee},P=(Q,V)=>{var ee,W;const{model:H,height:I,width:X,attr:Ee}=V,te=(0,L.Tl)("rbp");if((0,D.ff)(Q,{key:te,sup:f.X3,attr:(0,D.cr)(I18N.LeftSidePanel.page,1,H,X,I,(ee=Ee==null?void 0:Ee.orientation)!=null?ee:"portrait")}),(W=(0,G.zi)(V))!=null&&W.isToShow)return Q;const pe=N._[g.l.Canvas](I18N.LeftSidePanel.artboard+" 1",5,X/2,I/2,X,I,H),he=(0,u.f4)(pe),oe=(0,L.Tl)("rc");Q.push({type:b.P6,key:oe,keySup:te}),Q.push({type:b.q$,key:oe,attrDiff:he});const me=a({hotAttr:pe,key:oe});if(me!==void 0){for(const Oe of me)Q.push({type:b.P6,key:Oe.key,keySup:Oe.sup}),Q.push({type:b.q$,key:Oe.key,attrDiff:Oe.attr});me.length===1?Q.push({type:b.q$,key:oe,attrDiff:{shh:(0,B.xd)(me[0].hotAttr.h)}}):Q.push({type:b.q$,key:oe,attrDiff:{shh:(0,B.xd)(me[0].hotAttr.h),sfh:(0,B.xd)(me[1].hotAttr.h)}})}return Q},O=(Q,V)=>{if(Q.getFlatTree().get("B@main").sub.length===0){const ee=P([],V);Q.applyDiff(ee),Q.resetUndo()}},R=Q=>{(!Q.getFlatTree().get("B@ref-mind")||Q.getFlatTree().get("B@ref-mind").sup!==o.$3)&&(Q.applyDiff([{type:b.P6,key:f.T3,keySup:o.$3},{type:b.q$,key:f.T3,attrDiff:(0,D.oE)("rbRefMind")}]),Q.resetUndo())},K=(Q,V)=>{let{cid:ee,screens_count:W}=V,H=W;const I=()=>{const X=_(Q.getFlatTree());H!==X&&(H=X,fetch("/api/flat/web_v1/proj2-stat-sync?"+new URLSearchParams({prj2Cid:ee,countPG:String(X)}),{method:"PUT"}).catch(console.error))};setInterval(I,15*1e3),I()}},81975:(se,q,i)=>{"use strict";i.d(q,{Ei:()=>b,Eo:()=>f,GV:()=>u,Yk:()=>o,nM:()=>L});let f=function(E){return E.SHELL="download_settings_show_shell",E.STATE="download_settings_state_type",E.SCALE="download_settings_scale",E.STICKY="download_settings_show_sticky",E.FULLSCREEN="download_settings_full_screen",E.DOWNLOADTYPE="download_settings_downloadTypePage",E.CANVASNAME="download_settings_canvasName",E}({}),b=function(E){return E.PNG="png",E.PDF="pdf",E.HTMLZIP="htmlzip",E.APK="apk",E.SVG="svg",E}({}),L=function(E){return E.PAGE="page",E.CANVAS="canvas",E}({}),u=function(E){return E.CURRENT_PAGE="currentPage",E.ALL_PAGE="allPage",E}({}),o=function(E){return E.ALL="allState",E.SOME="someState",E}({})},29886:(se,q,i)=>{"use strict";i.d(q,{I:()=>b});var f=i(91320);const b=function(L,u,o,E,B){let{x:y,y:k,r:_,w:d,h:m}=L;B===void 0&&(B=!1);const g=(0,f.U4)(_),D=Math.sin(g)*.5,N=Math.cos(g)*.5;switch(E){case"t":return u=0,o=Math.min(m-1,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:B?d-o*B:d,h:m-o};case"b":return u=0,o=Math.max(1-m,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:B?d+o*B:d,h:m+o};case"l":return u=Math.min(d-1,u),o=0,{x:y+u*N-o*D,y:k+u*D+o*N,w:d-u,h:B?m-u/B:m};case"r":return u=Math.max(1-d,u),o=0,{x:y+u*N-o*D,y:k+u*D+o*N,w:d+u,h:B?m+u/B:m};case"tl":return B&&(u>=o*B?u=o*B:o=u/B),u=Math.min(d-1,u),o=Math.min(m-1,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:d-u,h:m-o};case"tr":return B&&(-u>=o*B?u=-o*B:o=-u/B),u=Math.max(1-d,u),o=Math.min(m-1,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:d+u,h:m-o};case"bl":return B&&(u>=-o*B?u=-o*B:o=-u/B),u=Math.min(d-1,u),o=Math.max(1-m,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:d-u,h:m+o};case"br":return B&&(-u>=-o*B?u=o*B:o=u/B),u=Math.max(1-d,u),o=Math.max(1-m,o),{x:y+u*N-o*D,y:k+u*D+o*N,w:d+u,h:m+o}}}},4091:(se,q,i)=>{"use strict";i.d(q,{S3:()=>b,kC:()=>o,ky:()=>u,mp:()=>E,pX:()=>f});const f="/proto",b=y=>f+"/"+y,L=y=>{const k=/^\/proto\/design\/(?:([^/]+?))$/i.exec(y);return k?k[1]:new Error("project cid error")},u=y=>{let{search:k,pathname:_}=y;return _.includes("/sharing")?_.includes("dashboard")||_.includes("htmlzip")?_.split("/").at(-3):_.includes("embed/v2")?location.pathname.split("/").at(-4):_.split("/").at(-2):new URLSearchParams(k).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(_)[1]},o="/p2mkt_view",E=y=>o+"/"+y,B=y=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(y)[1]},77321:(se,q,i)=>{"use strict";i.d(q,{Jy:()=>B,U2:()=>u,Xs:()=>E,hd:()=>y,s0:()=>o});var f=i(59387),b=i(1823),L=i(29184);let u=function(k){return k.OrgPrototypePageNumber="OrgPrototypePageNumber",k.OrgVersionNumber="OrgVersionNumber",k.OrgMaxPicSize="OrgMaxPicSize",k.SoloPrototypePageNumber="SoloPrototypePageNumber",k.SoloMaxPicSize="SoloMaxPicSize",k.SoloToOrgFeature="SoloToOrgFeature",k.MaxSharingCount="MaxSharingCount",k}({});const o=k=>{const _=(0,L.F)();return b.PA[k][_]},E={[u.OrgPrototypePageNumber]:b.X4.CanvasOrPagesCount,[u.OrgVersionNumber]:b.X4.ProjectVersionsCount,[u.OrgMaxPicSize]:b.X4.ImgCapacity,[u.SoloToOrgFeature]:b.X4.ProjectVersionsCount,[u.MaxSharingCount]:b.X4.ProjectShareLinksCount,[u.SoloPrototypePageNumber]:b.X4.CanvasOrPagesCount,[u.SoloMaxPicSize]:b.X4.ImgCapacity},B={[u.OrgPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_org_page_limit_popup"},[u.OrgVersionNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u7248\u672C\u8D85\u9650_\u5347\u7EA7",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[u.OrgMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[u.SoloMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[u.SoloPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E2A\u4EBA_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_solo_page_limit_popup"},[u.SoloToOrgFeature]:{payEntrance:"\u7F16\u8F91\u533A-\u7248\u672C\u8BB0\u5F55_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[u.MaxSharingCount]:{payEntrance:"\u7F16\u8F91\u533A-\u591A\u94FE\u63A5\u5206\u4EAB_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-linkshare_limit"}},y=k=>{let{limitType:_,user:d,org:m}=k;const{maxScreenCount:g,maxProjectVersionCount:D,maxPicBytes:N,maxSharingCount:Z}=(0,f.tD)(d,m);switch(_){case u.OrgPrototypePageNumber:case u.SoloPrototypePageNumber:return"\u65B0\u5EFA\u8D85"+g+"\u753B\u5E03";case u.OrgVersionNumber:return"\u539F\u578B\u7F16\u8F91\u533A\u65B0\u5EFA>"+D+"\u4E2A\u7248\u672C";case u.OrgMaxPicSize:return"\u4E0A\u4F20>"+N/1024/1024+"MB\u7684\u56FE\u7247";case u.MaxSharingCount:return"\u539F\u578B\u5185\u9AD8\u7EA7\u5206\u4EAB>"+Z+"\u4E2A";case u.SoloMaxPicSize:return"\u4E0A\u4F20>"+N+"MB\u7684\u56FE\u7247";case u.SoloToOrgFeature:return"\u539F\u578B\u5185\u70B9\u51FB\u7248\u672C\u8BB0\u5F55"}}},3175:(se,q,i)=>{"use strict";i.d(q,{KW:()=>o,hU:()=>E,p9:()=>B,ub:()=>y,zi:()=>u});var f=i(72324),b=i(40220);const L=[f.s.GUIDE_NEW_CREATE_PAGE,f.s.GUIDE_NEW_SHOW_WIDGET_LIBRARY,f.s.GUIDE_NEW_FLOW_AND_MIND,f.s.GUIDE_NEW_CREATE_LINK,f.s.GUIDE_NEW_USE_PREVIEW,f.s.GUIDE_NEW_USE_SHARE,f.s.GUIDE_NEW_USE_COMMENT],u=function(k){var _,d,m,g;if(k===void 0&&(k=null),!(0,b._J)())return{};if(!((_=MB)!=null&&(_=_.commonGuideHelper)!=null&&(_=_.getState())!=null&&_.commonGuidesHasShown))return{};const N=((d=MB)==null||(d=d.commonGuideHelper)==null||(d=d.getState())==null?void 0:d.commonGuidesHasShown)||[],Z=[f.s.GUIDE_NOVICE_2309,...L].find(R=>R&&N.includes(R));if(Z)return Z!==f.s.GUIDE_NOVICE_2309&&MB.commonGuideHelper.markGuideAsRead(f.s.GUIDE_NOVICE_2309),{isCompleted:!0};if(N!=null&&N.includes(f.s.GUIDE_NOVICE_2309_START))return{isInProgress:!0};if(typeof((m=MB)==null?void 0:m.getRootProject)!="function")return{};const G=k||((g=MB)==null?void 0:g.getRootProject()),{source_upper_cid:p,parent_cid:a,scene_tag:P}=G||{},O=P&&P.split("-")[0]==="MP";return p||a||G&&!O?(setTimeout(()=>MB.commonGuideHelper.markGuideAsRead(f.s.GUIDE_NOVICE_2309),2e3),{isCompleted:!0,isShowTaskList:!0}):{isToShow:!0}},o=()=>{var k;const _=u();!_||!_.isToShow||(k=MB)==null||(k=k.commonGuideHelper)==null||k.tryToShowGuide(f.s.GUIDE_NOVICE_2309)},E=k=>{var _,d,m;const g=((_=MB)==null||(_=_.commonGuideHelper)==null||(_=_.getState())==null?void 0:_.commonGuidesHasShown)||[],D=((d=MB)==null||(d=d.commonGuideHelper)==null||(d=d.getState())==null?void 0:d.mountGuidesMap)||new Map;g.includes(k)||D.get(f.s.GUIDE_NOVICE_2309)&&((m=MB)==null||(m=m.commonGuideHelper)==null||m.tryToContinueMountGuide(f.s.GUIDE_NOVICE_2309,k))},B=()=>{var k,_;const d=u();!(d!=null&&d.isInProgress)||!(((k=MB)==null||(k=k.commonGuideHelper)==null||(k=k.getState())==null?void 0:k.mountGuidesMap)||new Map).get(f.s.GUIDE_NOVICE_2309)||(_=MB)==null||(_=_.commonGuideHelper)==null||_.tryToCloseMountGuide(f.s.GUIDE_NOVICE_2309)},y=()=>{var k,_,d;const m=u();if(!(m!=null&&m.isToShow||m!=null&&m.isInProgress)||m!=null&&m.isCompleted||!((k=MB)!=null&&(k=k.commonGuideHelper)!=null&&(k=k.getState())!=null&&k.commonGuidesHasShown))return!1;const g=((_=MB)==null||(_=_.commonGuideHelper)==null||(_=_.getState())==null?void 0:_.commonGuidesHasShown)||[];return g.includes(f.s.GUIDE_NOVICE_2309_TIP_1)?!g.includes(f.s.GUIDE_NOVICE_2309):((d=MB)==null||(d=d.commonGuideHelper)==null||d.tryToShowGuide(f.s.GUIDE_NOVICE_2309_TIP_1),!0)}},8090:(se,q,i)=>{"use strict";i.d(q,{Z:()=>B});var f=i(49650),b=i(7485),L=i(71464),u=i(27004),o=i(27053),E=i(35269);class B extends b.PureComponent{constructor(){super(...arguments),(0,f.Z)(this,"setComponentRef",k=>this.modal=k),(0,f.Z)(this,"getEntry",()=>{const k=new URLSearchParams(location.search),_=k&&k.get("view_mode");return _?L.I[_]:""})}componentDidMount(){const{dispatch:k,onConfirm:_}=this.props,d=this;window.onmessage=async function(m){if(m.data==="loginSuccess")typeof k=="function"&&k({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),_();else if(m.data==="close"){var g;d==null||(g=d.modal)==null||g.close()}},u.x.userSourceTrack(this.getEntry())}render(){const{isOpen:k,onClose:_,type:d,source:m}=this.props,g=this.getEntry(),D=g?"&entry="+g:"",N=location.origin+"/embed/auth_box?type="+d+(m?"&source="+m:"")+D;return(0,E.jsx)(o.B,{isOpen:k,onClose:_,ref:this.setComponentRef,className:"login-modal",children:(0,E.jsx)("iframe",{src:N})})}}(0,f.Z)(B,"defaultProps",{type:"signin"})},12317:(se,q,i)=>{"use strict";i.d(q,{Z:()=>B});var f=i(49650),b=i(7485),L=i(94223),u=i(24397),o=i(27053),E=i(35269);class B extends b.PureComponent{constructor(){super(...arguments),(0,f.Z)(this,"setComponentRef",k=>this.modal=k)}componentDidMount(){const k=this;window.onmessage=async function(_){if(_.data==="loginSuccess"||_.data==="registerSuccess"){const d=btoa("client=web&type=to_url&url="+location.href),m="https://accounts.wondershare.com/v3/user/oauth-client/authorize?response_type=code&redirect_uri="+location.origin+"/wondershare/callback&scope=user%20normal&state="+d+"&source=37&app_key=689b3b14b4e225a9ddadd80a5ef81ca3&product_id=8038";(0,L.l)(m)}else _.data==="close"&&k.modal.close()}}render(){const{isOpen:k,onClose:_,type:d}=this.props,m="https://accounts.wondershare.com/web/"+(d==="signin"?"login":"register")+"?redirect_uri="+location.origin+"&source=37&site=mockitt.wondershare.com&mode=1";return(0,E.jsx)(o.I,{isOpen:k,onClose:_,ref:this.setComponentRef,className:"login-modal",isUsePortal:!1,modalRender:()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("iframe",{src:m}),(0,E.jsx)("button",{className:"btn-close-modal",onClick:_,children:(0,E.jsx)(u.q,{name:"common/close"})})]})})}}(0,f.Z)(B,"defaultProps",{type:"signin"})},75507:(se,q,i)=>{"use strict";i.d(q,{FS:()=>d,NQ:()=>_,qK:()=>k});var f=i(53375),b=i.n(f),L=i(87861),u=i(85322),o=i(80461),E=i(68543),B=i(18317);const y=()=>MB.getSelectionItems().length===0,k={keys:{tab:()=>{if(document.activeElement===document.body)return!1},enter:()=>{MB.action("entry:enter:key"),(0,o.k)("enter")},f2:()=>{MB.action("entry:enter:key"),(0,o.k)("f2")},"command+shift+h":()=>{MB.action("entry:toggle:visible"),(0,o.k)("command+shift+h")},"ctrl+shift+h":()=>{MB.action("entry:toggle:visible"),(0,o.k)("ctrl+shift+h")},left:()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,o.k)("left")},"alt+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,o.k)("alt+left")},right:()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,o.k)("right")},"alt+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,o.k)("alt+right")},up:()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,o.k)("up")},"alt+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,o.k)("alt+up")},down:()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,o.k)("down")},"alt+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,o.k)("alt+down")},"shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,o.k)("shift+left")},"alt+shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,o.k)("alt+shift+left")},"shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,o.k)("shift+right")},"alt+shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,o.k)("alt+shift+right")},"shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,o.k)("shift+up")},"alt+shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,o.k)("alt+shift+up")},"shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,o.k)("shift+down")},"alt+shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,o.k)("alt+shift+down")},"command+c":()=>{y()||(MB.action("entry:copy:items",{needPasteProperties:!0}),(0,L.BK)(),(0,o.k)("command+c"))},"ctrl+c":()=>{y()||(MB.action("entry:copy:items",{needPasteProperties:!0}),(0,L.BK)(),(0,o.k)("ctrl+c"))},"command+d":()=>{y()||(MB.action("entry:duplicate:items",{shift:!1}),(0,o.k)("command+d"))},"ctrl+d":()=>{y()||(MB.action("entry:duplicate:items",{shift:!1}),(0,o.k)("ctrl+d"))},"command+shift+d":()=>{y()||(MB.action("entry:duplicate:items",{shift:!0}),(0,o.k)("command+shift+d"))},"ctrl+shift+d":()=>{y()||(MB.action("entry:duplicate:items",{shift:!0}),(0,o.k)("ctrl+shift+d"))},"command+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,o.k)("command+shift+v")},"ctrl+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,o.k)("ctrl+shift+v")},"command+x":()=>{y()||(MB.action("entry:cut:items"),(0,L.BK)(),(0,o.k)("command+x"))},"ctrl+x":()=>{y()||(MB.action("entry:cut:items"),(0,L.BK)(),(0,o.k)("ctrl+x"))},backspace:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,o.k)("backspace")},del:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,o.k)("delete")},"command+shift+l":()=>{MB.action("entry:toggle:lock"),(0,o.k)("command+shift+l")},"ctrl+shift+l":()=>{MB.action("entry:toggle:lock"),(0,o.k)("ctrl+shift+l")},"command+g":()=>{MB.action("entry:group:items"),(0,o.k)("command+g")},"ctrl+g":()=>{MB.action("entry:group:items"),(0,o.k)("ctrl+g")},"command+shift+g":()=>{MB.action("entry:ungroup:items"),(0,o.k)("command+shift+g")},"ctrl+shift+g":()=>{MB.action("entry:ungroup:items"),(0,o.k)("ctrl+shift+g")},"command+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,o.k)("command+alt+l")},"ctrl+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,o.k)("ctrl+alt+l")},"command+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,o.k)("command+alt+c")},"ctrl+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,o.k)("ctrl+alt+c")},"command+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,o.k)("command+alt+r")},"ctrl+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,o.k)("ctrl+alt+r")},"command+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,o.k)("command+alt+t")},"ctrl+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,o.k)("ctrl+alt+t")},"command+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,o.k)("command+alt+m")},"ctrl+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,o.k)("ctrl+alt+m")},"command+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,o.k)("command+alt+b")},"ctrl+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,o.k)("ctrl+alt+b")},"command+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,o.k)("command+alt+h")},"ctrl+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,o.k)("ctrl+alt+h")},"command+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,o.k)("command+alt+u")},"ctrl+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,o.k)("ctrl+alt+u")},"command+alt+up":()=>{MB.action("entry:items:forward"),(0,o.k)("command+alt+up")},"ctrl+alt+up":()=>{MB.action("entry:items:forward"),(0,o.k)("ctrl+alt+up")},"command+alt+down":()=>{MB.action("entry:items:backward"),(0,o.k)("command+alt+down")},"ctrl+alt+down":()=>{MB.action("entry:items:backward"),(0,o.k)("ctrl+alt+down")},"command+shift+up":()=>{MB.action("entry:items:send:front"),(0,o.k)("command+shift+up")},"ctrl+shift+up":()=>{MB.action("entry:items:send:front"),(0,o.k)("ctrl+shift+up")},"command+shift+down":()=>{MB.action("entry:items:send:back"),(0,o.k)("command+shift+down")},"ctrl+shift+down":()=>{MB.action("entry:items:send:back"),(0,o.k)("ctrl+shift+down")},"command+;":()=>{MB.action("entry:expand:all:screen"),(0,o.k)("command+;")},"ctrl+;":()=>{MB.action("entry:expand:all:screen"),(0,o.k)("ctrl+;")},"command+'":()=>{MB.action("entry:unExpand:all:screen"),(0,o.k)("command+''")},"ctrl+'":()=>{MB.action("entry:unExpand:all:screen"),(0,o.k)("ctrl+'")},"`":()=>{(0,o.k)("`")},"\xB7":()=>{(0,o.k)("`")},"[, ]":()=>{b()().isBefore("2021-11-12 23:59:59")&&MB.notice({text:I18N.Common.brackets_key_update_tips.replace("%key%",'<span class="key">'+((0,E.ED)()?"Ctrl":"\u2318")+"</span>")}),(0,o.k)("[, ]")},"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("ctrl+]")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("ctrl+p")},"command+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,o.k)("command+s")},"ctrl+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,o.k)("ctrl+s")},1:()=>{MB.action("entry:number:key",{key:1}),(0,o.k)("1")},2:()=>{MB.action("entry:number:key",{key:2}),(0,o.k)("2")},3:()=>{MB.action("entry:number:key",{key:3}),(0,o.k)("3")},4:()=>{MB.action("entry:number:key",{key:"4"}),(0,o.k)("4")},5:()=>{MB.action("entry:number:key",{key:5}),(0,o.k)("5")},6:()=>{MB.action("entry:number:key",{key:6}),(0,o.k)("6")},7:()=>{MB.action("entry:number:key",{key:7}),(0,o.k)("7")},8:()=>{MB.action("entry:number:key",{key:8}),(0,o.k)("8")},"command+a":()=>{MB.action("entry:select:all"),(0,o.k)("command+a")},"ctrl+a":()=>{MB.action("entry:select:all"),(0,o.k)("ctrl+a")},esc:()=>{MB.action("entry:escape:key"),(0,o.k)("esc")},"command+z":()=>{MB.action("entry:undo-stack:undo"),(0,o.k)("command+z")},"ctrl+z":()=>{MB.action("entry:undo-stack:undo"),(0,o.k)("ctrl+z")},"command+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,o.k)("command+shift+z")},"ctrl+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,o.k)("ctrl+shift+z")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+numpad_2")},"command+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,o.k)("command+alt+a")},"ctrl+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,o.k)("ctrl+alt+a")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("ctrl+f")},"command+alt+v":()=>{y()||(MB.action("entry:paste:items:properties"),(0,o.k)("command+alt+v"))},"ctrl+alt+v":()=>{y()||(MB.action("entry:paste:items:properties"),(0,o.k)("ctrl+alt+v"))},"command+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,o.k)("command+b \u9009\u4E2D\u6574\u4F53")},"ctrl+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,o.k)("command+b \u9009\u4E2D\u6574\u4F53")},"command+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,o.k)("command+i \u9009\u4E2D\u6574\u4F53")},"ctrl+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,o.k)("command+i \u9009\u4E2D\u6574\u4F53")},"command+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,o.k)("command+u \u9009\u4E2D\u6574\u4F53")},"ctrl+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,o.k)("command+u \u9009\u4E2D\u6574\u4F53")},"command+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,o.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,o.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"command+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,o.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,o.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"command+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,o.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,o.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"shift+/":()=>{MB.action("entry:shortcut:undoable:items:set:attr:border")},i:()=>{(0,B.Yp)(g=>{let{sRGBHex:D}=g;return MB.action("entry:i:key",{color:D})}),(0,o.k)("i")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,o.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,o.k)("alt+2")},c:()=>{MB.action("entry:comment:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("elbow:update",{isInElbowMode:!1}),(0,o.k)("c")},e:()=>{MB.action("entry:elbow:isInElbowMode:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("set:quick-create-widget",{widget:null})}},priority:u.e7.Normal,isGlobal:!1},_={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,o.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("ctrl+f")},c:()=>{MB.action("entry:comment:toggle",{onlyView:!0}),(0,o.k)("c")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,o.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,o.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("ctrl+p")}},priority:u.e7.Normal,isGlobal:!1},d={keys:{esc:()=>{MB.action("entry:escape:key"),(0,o.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+numpad_1")}},priority:u.e7.Normal,isGlobal:!1},m={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,o.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,o.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,o.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,o.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,o.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,o.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,o.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,o.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,o.k)("ctrl+f")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,o.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,o.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,o.k)("ctrl+p")}},priority:u.e7.Normal,isGlobal:!1}},89719:(se,q,i)=>{"use strict";i.d(q,{Ei:()=>_,NZ:()=>D,X4:()=>y,ec:()=>m,ew:()=>a,hm:()=>k,j_:()=>g,o6:()=>P});var f=i(46198),b=i(63077),L=i(35517),u=i(6966),o=i(29184),E=i(35269);const B=async O=>{let{projectCid:R}=O;return fetchGetJSON("/api/upper/web_v1/sharing/initial?cid="+R)},y=async O=>{let{projectCid:R,sharing:K}=O;return(await(0,u.Gf)("/api/flat/web_v1/project_share/"+R,{...K})).project_share},k=async O=>{let{projectCid:R,sharingCid:K}=O;try{return await(0,u.Bh)("/api/flat/web_v1/project_share/"+K+"?project_cid="+R)}catch(Q){await(0,L.Vz)(Q)}},_=async O=>{let{sharing:R}=O;try{return await(0,u.IP)("/api/flat/web_v1/project_share/"+R.cid,{project_share:R})}catch(K){await(0,L.Vz)(K)}},d=()=>{const O=document.getElementById("workspace");f.render((0,E.jsx)(b.Z,{locale:(0,o.F)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}),O)},m=async O=>{try{if(!O.accessToken||O.project.access_token===O.accessToken)return g(O.project);{const{project:R,accessToken:K}=O,{project_share:Q}=await(0,u.EE)("/api/flat/web_v1/project_share/"+R.cid+"?access_token="+K);return{sharing:{...Q,type:"advanced",view_mode:Q.device_model}}}}catch(R){await d()}},g=O=>{const{cid:R,access_token:K,access:Q,building:V,comment_permission:ee,password:W,visibility:H,wechat:I}=O,X=new URLSearchParams(location.search),Ee=X.get("screen"),te=X.get("canvasId"),pe=X.get("view_mode")||"read_only",he=!!X.get("selection"),oe=he?X.get("selection").split(","):[];return{sharing:{type:"default",project_cid:R,access_token:K,view_access:Q,view_sticky:V,comment_permission:ee,password:W,visibility:H,wechat:I,view_mode:pe,screen_visible_switch:he,screen_visible_list:oe,page_begin:Ee,canvas_begin:te}}},D=async O=>{let{projectCid:R}=O;try{const{project_shares:K}=await(0,u.EE)("/api/flat/web_v1/project_share/"+R+"/all");return K.sort((Q,V)=>new Date(V.created_at).getTime()-new Date(Q.created_at).getTime())}catch(K){await(0,L.Vz)(K)}},N=async O=>{try{const{result:R}=await fetchGetJSON("/api/accesses/v4/project/"+O+"/permission_check?permission=P:update");return R}catch(R){await apiErrorModals(R)}},Z=async O=>{let R=null;try{R=await fetchGetJSON("/flpak/w-p2meta/"+O)}catch(K){await apiErrorModals(K)}return R},G={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},p=()=>({sharing:G}),a=async O=>{let R,K;try{R=await(0,u.EE)("/api/upper/web_v1/basics/"+O+"/get_details"),R&&JSON.stringify(R)!=="{}"&&(K=!0)}catch(Q){R=Q,K=!1}return{result:R,statusOk:K}},P=async O=>{let R,K;try{R=await(0,u.EE)("/api/accesses/v4/project/"+O+"/permission_check?permission=P:update"),R&&JSON.stringify(R)!=="{}"&&(K=!0)}catch(Q){R=Q,K=!1}return{result:R,statusOk:K}}},68035:(se,q,i)=>{"use strict";i.d(q,{K:()=>B,L:()=>y});var f=i(63077),b=i(86478),L=i(7485),u=i(18166),o=i(29184),E=i(35269);const B=k=>{if((0,u.EG)(k))return y()},y=()=>(setTimeout(()=>{var k;return(k=MB)==null||(k=k.messageBucket)==null?void 0:k.send("mobileLoadProjectError",{errMsg:"\u753B\u5E03\u65E0\u9875\u9762\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,E.jsx)(f.Z,{errorType:404,locale:(0,o.F)(),customTitle:I18N.dModule.project_screen_err_title,customDes:I18N.ToolBar.ReEnter,isShowSecondaryBtn:!1,primaryClick:()=>(0,b.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}))},27287:(se,q,i)=>{"use strict";var f=i(46198),b=i(44475),L=i(7485),u=i(39110),o=i(21202);const E={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};i(34268),i(87645),i(3012);var B=i(16589),y=i(70721),k=i(91166),_=i(68543);const d=e=>{const{isEmbedV1:s=!1}=e||{};return{isDesktop:!((0,_.tq)()||s),isInApp:!1,isMultiLink:!1,isMobile:(0,_.tq)(),isIOSClient:(0,_.B0)(),isStandAlone:(0,_.IF)(),isEmbedV1:s,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,_.Md)(),isForum:(0,_._j)(),isElectron:(0,_.d)(),isSquare:!1,isFeishu:(0,_.Rv)(),isWechat:(0,_.CL)(),...e}},m=e=>{const{isMobile:s,isEmbedV2:w,isSquare:C}=e;return s?y.Z:w||C?B.Z:k.Z};var g=i(62088),D=i(86478),N=i(75985),Z=i(9733),G=i(27444);const p=e=>new URLSearchParams(e).toString(),a=e=>{const s={};for(const[w,C]of new URLSearchParams(e).entries())s[w]=C;return s},P={},O={USER_COMBO:"user-combo",ORG_COMBO:"org-combo",PROJECT_MAIN:"project-main",PROJECT_TRASHCAN:"project-trashcan",PROJECT_TEMPLATE:"project-template",PANEL_TEMPLATE:"panel-template"},R={P:"v3"},K={PROTOTYPE:"prototype",DESIGN_DRAFT:"design-draft",MIND_MAP:"mind-map",FLOW_CHART:"flow-chart",ABOARD:"aboard"},Q="proto2",V=e=>e===Q?K.PROTOTYPE:e;var ee=i(68633);const W=p(R),H=e=>({cid:e.cid,mtime:e.mtime,name:e.name,type:e.type,ttag:e.ttag||W,upper_cid:e.upper_cid,upper_type:e.upper_type}),I=(e,s)=>{s(e.cid,CID_PROJECT_META),s(e.upper_cid,CID_REF_EXTERNAL_UPPER)},X=(e,s)=>(e=H(e),e.cid=s(e.cid,CID_PROJECT_META),e.upper_cid=s(e.upper_cid,CID_REF_EXTERNAL_UPPER),e),Ee=p(P),te=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Ee,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),pe=(e,s)=>{s(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&s(e.panel_screen_meta_cid,CID_REF_SCREEN_META),s(e.project_meta_cid,CID_REF_PROJECT_META)},he=(e,s)=>(e=te(e),e.cid=s(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=s(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),oe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parent_cid:e.parent_cid,position:e.position,expanded:e.expanded,orientation:e.orientation,width:e.width,height:e.height,bgcolor:e.bgcolor,bgimage:e.bgimage,deleter_name:e.deleter_name,deleted_at:e.deleted_at,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid,artboard_id:e.artboard_id,artboard_image_url:e.artboard_image_url}),me=(e,s)=>{s(e.cid,CID_SCREEN_META),e.parent_cid&&s(e.parent_cid,CID_REF_SCREEN_META),e.artboard_id&&s(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD),s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},Oe=(e,s)=>(e=oe(e),e.cid=s(e.cid,CID_SCREEN_META),e.parent_cid&&(e.parent_cid=s(e.parent_cid,CID_REF_SCREEN_META)),e.artboard_id&&(e.artboard_id=s(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD)),e.screen_glue_cid=s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),we=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,fh:e.fh,hh:e.hh,timestamp:e.timestamp,icon:e.icon}),Ce=(e,s)=>{s(e.cid,CID_SCREEN_STATE)},et=(e,s)=>(e=we(e),e.cid=s(e.cid,CID_SCREEN_STATE),e),De=e=>({cid:e.cid,mtime:e.mtime,name:e.name,debug:e.debug}),ve=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ani_name:"none",ani_count:1,ani_duration:e.ani_duration,ani_delay:e.ani_delay,link_type:e.link_type,widget_cids:e.widget_cids,target_cid:e.target_cid,targetstate_cid:e.targetstate_cid,state_cid:e.state_cid,gesture:e.gesture,transition:e.transition,timer:e.timer,reset:e.reset,menu_offset:e.menu_offset,scroll_offset:e.scroll_offset,screen_target_cid:e.screen_target_cid,ani_hide_duration:e.ani_hide_duration}),xe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,screen_glue_cid:e.screen_glue_cid,screen_meta_cid:e.screen_meta_cid,screen_state_cid:e.screen_state_cid,overflow_behavior:e.overflow_behavior,scroll:e.scroll}),je=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),We=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,image:e.image}),Ne=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),He=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),ke=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),ae=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),Ze=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),ct=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),at=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),Ie=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),xt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),Tt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),ie=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),ue=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric,image:e.image}),be=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha}),Je=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),ft=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),It=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Jt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),rn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),Bn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),Rn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),On=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Mt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Dn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Pt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),En=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),vn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,td:e.td,bo:e.bo,i:e.i,input_type:e.input_type,border_visibility:e.border_visibility}),Et=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility}),Fn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),Qt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:0,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",is:e.is,icon:e.icon,fs:e.fs,view_box:e.view_box,path:e.path}),on=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:0,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,bo:e.bo,i:e.i,td:e.td,padding:e.padding,point:e.point,fills:e.fills}),dn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,icon:e.icon,is:e.is,view_box:e.view_box,path:e.path,border_visibility:e.border_visibility,fills:e.fills}),bn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i}),sn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,_ttPlacement:e._ttPlacement,_ttOffset:e._ttOffset,_ttArrowSize:e._ttArrowSize}),xn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility,fills:e.fills}),Nt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,fills:e.fills}),cn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,radius:e.radius,fills:e.fills}),hn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,fs:e.fs,td:e.td,bo:e.bo,i:e.i,tableData:e.tableData,innerBorderV:e.innerBorderV,innerBorderH:e.innerBorderH,outerBorder:e.outerBorder,styleType:e.styleType}),Kn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),Ln=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",image:e.image,p:e.p,clip:e.clip,filter:e.filter,clip_type:e.clip_type,image_rect:e.image_rect}),zn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),Gn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points}),Yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:0,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points,arrow_types:e.arrow_types,arrow_stroke:e.arrow_stroke}),Sn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding}),qt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,clip:e.clip,border_visibility:e.border_visibility,fills:e.fills}),Ht=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),Wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),Vn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon,view_box:e.view_box,path:e.path,svgAttr:e.svgAttr,fills:e.fills}),In=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:e.tc,border:0,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,clip:e.clip,size_type:e.size_type,font_direction:e.font_direction}),jn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),zt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),dt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),Gt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),Mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,ha:e.ha,va:e.va,data:e.data}),ut=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),Cn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,expanded:e.expanded}),ln=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:1073741823,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio}),mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_keep_alive:e.is_keep_alive,is_hidden:e.is_hidden}),an=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_muted:e.is_muted,is_hide_controls:e.is_hide_controls}),$t=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",background:e.background,foreground:e.foreground}),wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),An=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,chartType:e.chartType,chartCategory:e.chartCategory,chartTheme:e.chartTheme,grid:e.grid,showAxis:e.showAxis,textAngle:e.textAngle,legend:e.legend,showToolTip:e.showToolTip,smooth:e.smooth,showHelpMark:e.showHelpMark,chartBorderRadius:e.chartBorderRadius,chartInnerRadius:e.chartInnerRadius,chartData:e.chartData,progress:e.progress,shLabel:e.shLabel,unit:e.unit}),U=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,min:e.min,max:e.max,sliderSize:e.sliderSize,is:e.is,ic:e.ic,number:e.number}),_e=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),ye=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedBg:e.checkedBg,checkedBorder:e.checkedBorder,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),Be=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data}),Ae=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,border_radius:e.border_radius,border:e.border,background:e.background,canExpandOneMenu:e.canExpandOneMenu}),$e=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,fs:e.fs,tc:e.tc,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBg:e.checkedBg,background:e.background,border:e.border,border_radius:e.border_radius}),Qe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,textColor:e.textColor,borderColor:e.borderColor,disabled:e.disabled,checkedTc:e.checkedTc,checkedBgColor:e.checkedBgColor,layout:e.layout,selectionControlType:e.selectionControlType,gap:e.gap}),qe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",optionData:e.optionData,mutualWay:e.mutualWay,fs:e.fs,td:e.td,bo:e.bo,i:e.i,va:e.va,ha:e.ha,dropMenuEcho:e.dropMenuEcho,is_multiple:e.is_multiple}),tt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,panelData:e.panelData,expandData:e.expandData,selectedData:e.selectedData,isShowIcon:e.isShowIcon,canExpandOneMenu:e.canExpandOneMenu,navigationMenuType:e.navigationMenuType}),Ye=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBorder:e.checkedBorder,checkedBoldType:e.checkedBoldType,checkedFontStyle:e.checkedFontStyle,checkedTextDecoration:e.checkedTextDecoration,tc:e.tc}),Re=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,tc:e.tc,background:e.background,border:e.border,border_visibility:e.border_visibility,isShowIcon:e.isShowIcon,isShowText:e.isShowText,iconSize:e.iconSize,iconColor:e.iconColor,selectedTextColor:e.selectedTextColor,selectedIconColor:e.selectedIconColor,isShowSelectedText:e.isShowSelectedText,isShowSelectedIcon:e.isShowSelectedIcon}),Ue=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,border_visibility:e.border_visibility,fills:e.fills}),ge=e=>({cid:e.cid,mtime:e.mtime,name:e.name,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,data:e.data,display_name:e.display_name,bind_widget_cid:e.bind_widget_cid,ctime:e.ctime,order:e.order}),Me=536870911,Te=1073741823,Ke=null,rt=e=>{switch(e.name){case"debug":return De(e);case"link":return ve(e);case"panel":return xe(e);case"lr":return je(e);case"map_view":return We(e);case"mcheckbox":return Ne(e);case"mradiobutton":return He(e);case"ios_switch":return ke(e);case"android_switch":return ae(e);case"ios_check":return Ze(e);case"android_check":return ct(e);case"android_radio":return at(e);case"switch":return Ie(e);case"iphone_keyboard":return yt(e);case"ipad_keyboard":return xt(e);case"android_keyboard":return Tt(e);case"keyboard":return ie(e);case"unified_keyboard":return ue(e);case"search_bar":return be(e);case"tab_bar":return Je(e);case"ios_status_bar":return ft(e);case"iphone_x_status_bar":return It(e);case"android_status_bar":return Jt(e);case"navigation_bar":return rn(e);case"nav_bar":return Bn(e);case"status_bar":return Rn(e);case"legacy_iphone_status_bar":return On(e);case"legacy_iphone_x_status_bar":return Mt(e);case"legacy_android_status_bar":return Dn(e);case"legacy_ipad_status_bar":return Pt(e);case"webpage":return En(e);case"mtext_input":return vn(e);case"mtextarea":return Et(e);case"mselect":return Fn(e);case"tab_item":return Qt(e);case"sticky":return on(e);case"button":return dn(e);case"text_field":return bn(e);case"mtooltip":return sn(e);case"rounded_rect":return xn(e);case"polygon":return Nt(e);case"star":return cn(e);case"table":return hn(e);case"circle_rect":return Kn(e);case"image_view":return Ln(e);case"rectangle":return zn(e);case"line":return Gn(e);case"arrow":return Yt(e);case"label":return Sn(e);case"text_view":return qt(e);case"icon_button":return Ht(e);case"svg_icon_button":return Wn(e);case"svg_icon_path":return Vn(e);case"rich_text":return In(e);case"hr":return jn(e);case"ve":return zt(e);case"triangleb":return dt(e);case"triangletl":return Gt(e);case"carousel":return Mn(e);case"mfile_input":return ut(e);case"group":return Cn(e);case"pg":return ln(e);case"audio":return mn(e);case"video":return an(e);case"qrcode":return $t(e);case"placeholder":return wn(e);case"chart":return An(e);case"digital_stepper":return U(e);case"pagination_mobile":return _e(e);case"pagination_web":return ye(e);case"slider":return Be(e);case"collapse":return Ae(e);case"segmented_control":return $e(e);case"selection_control":return Qe(e);case"drop_menu":return qe(e);case"navigation_menu":return tt(e);case"tabs":return Ye(e);case"mobile_tab_bars":return Re(e);case"button_solid":return Ue(e);case"annotate":return ge(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},vt=null,mt=(e,s)=>{e.forEach(w=>{s(w),mt(w.children,s)})},Bt=(e,s)=>{const{name:w,cid:C,gid:j,link_cids:Y}=e;if(s(C,CID_ITEM),j&&s(j,CID_ITEM_GROUP),Y&&Y.split(",").forEach($=>s($,CID_REF_ITEM)),w==="link"){const{widget_cids:$,target_cid:J,targetstate_cid:le,state_cid:Se}=e;if($)for(const Xe of $.split(","))s(Xe,CID_REF_ITEM);J&&s(J,CID_REF_SCREEN_META),le&&s(le,CID_REF_SCREEN_STATE),Se&&s(Se,CID_REF_SCREEN_META)}if(w==="panel"){const{screen_state_cid:$,screen_meta_cid:J,screen_glue_cid:le}=e;$&&s($,CID_REF_SCREEN_STATE),J&&s(J,CID_REF_SCREEN_META),le&&s(le,CID_REF_SCREEN_GLUE)}w==="annotate"&&e.bind_widget_cid&&s(e.bind_widget_cid,CID_REF_ITEM)},At=(e,s)=>{e=filterEntry(e),JSON_TYPE_KEY_LIST.forEach(Se=>{e[Se]&&(e[Se]=JSON.parse(JSON.stringify(e[Se])))});const{name:w,cid:C,gid:j,link_cids:Y,tableData:$,optionData:J,data:le}=e;if(e.cid=s(C,CID_ITEM),j&&(e.gid=s(j,CID_ITEM_GROUP)),Y&&(e.link_cids=Y.split(",").map(Se=>s(Se,CID_REF_ITEM)).join(",")),w==="table"){const Xe=$.links.map(Ge=>Ge.map(ot=>ot?ot.split(",").map(_t=>s(_t,CID_REF_ITEM)).join(","):""));e.tableData.links=Xe}if(vt.indexOf(w)!==-1){const Se=[...J];mt(Se,Xe=>{Xe.data.link_cids&&(Xe.data.link_cids=s(Xe.data.link_cids,CID_REF_ITEM))}),e.optionData=Se}if(w==="carousel"){const Se=le.slides.map(Xe=>Xe.link_cids?{...Xe,link_cids:s(Xe.link_cids,CID_REF_ITEM)}:{...Xe});e.data={...le,slides:Se}}if(w==="link"){const{widget_cids:Se,target_cid:Xe,targetstate_cid:Ge,state_cid:ot}=e;Se&&(e.widget_cids=Se.split(",").map(_t=>s(_t,CID_REF_ITEM)).join(",")),Xe&&(e.target_cid=s(Xe,CID_REF_SCREEN_META)),Ge&&(e.targetstate_cid=s(Ge,CID_REF_SCREEN_STATE)),ot&&(e.state_cid=s(ot,CID_REF_SCREEN_META))}if(w==="panel"){const{screen_state_cid:Se,screen_meta_cid:Xe,screen_glue_cid:Ge}=e;Se&&(e.screen_state_cid=s(Se,CID_REF_SCREEN_STATE)),Xe&&(e.screen_meta_cid=s(Xe,CID_REF_SCREEN_META)),Ge&&(e.screen_glue_cid=s(Ge,CID_REF_SCREEN_GLUE))}return w==="annotate"&&e.bind_widget_cid&&(e.bind_widget_cid=s(e.bind_widget_cid,CID_REF_ITEM)),e},M=(e,s)=>{switch(e.name){case"carousel":for(const w of e.data.slides)w.asset&&s(w.asset);break}e.image&&s(e.image)},A=p(P),S=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||A,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),F=(e,s)=>{s(e.cid,CID_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},v=(e,s)=>(e=S(e),e.cid=s(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),ne=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Pe=(e,s)=>{s(e.cid,CID_SCREEN_META),s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},ze=(e,s)=>(e=ne(e),e.cid=s(e.cid,CID_SCREEN_META),e.screen_glue_cid=s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),it=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),nt=(e,s)=>{s(e.cid,CID_SCREEN_STATE)},fe=(e,s)=>(e=it(e),e.cid=s(e.cid,CID_SCREEN_STATE),e),Fe=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,z:e.z,pageType:e.pageType}),pt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),St=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),Dt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,x:e.x,y:e.y,v:e.v,locked:e.locked,z:e.z,complex:e.complex,symbolCid:e.symbolCid,overrides:e.overrides,layoutGrid:e.layoutGrid}),Wt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),Rt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,combineType:e.combineType,fills:e.fills,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),Xt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,style:e.style,paragraphs:e.paragraphs,textAlign:e.textAlign,verticalAlign:e.verticalAlign,paragraphSpacing:e.paragraphSpacing,textAutoResize:e.textAutoResize}),un=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,aspectRatio:e.aspectRatio,o:e.o,z:e.z,v:e.v,fills:e.fills,vector:e.vector}),Ot=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,corner:e.corner}),tr=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,fills:e.fills,start:e.start,sweep:e.sweep,ratio:e.ratio}),Hn=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v}),Nn=e=>{switch(e.type){case"Page":return Fe(e);case"Frame":return pt(e);case"Symbol":return St(e);case"Instance":return Dt(e);case"Group":return Wt(e);case"CombinedShape":return Rt(e);case"RichText":return Xt(e);case"Vector":return un(e);case"RoundedRect":return Ot(e);case"Circle":return tr(e);case"Slice":return Hn(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},or=(e,s)=>{const{cid:w,parentCid:C,symbolCid:j}=e;s(w,CID_ITEM),C&&s(C,CID_REF_ITEM),j&&s(j,CID_REF_ITEM)},$r=(e,s)=>{e=filterEntry(e);const{cid:w,parentCid:C,symbolCid:j}=e;return e.cid=s(w,CID_ITEM),C&&(e.parentCid=s(C,CID_REF_ITEM)),j&&(e.symbolCid=s(j,CID_REF_ITEM)),e};var _n=i(58129);const Zn=(e,s)=>{let{name:w,mtime:C,locale:j}=s;const Y=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:C,project_meta_cid:e.cid})],$=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,screen_glue_cid:Y[0].cid,project_meta_cid:e.cid})],J=[{type:"Page",name:T("i_Page"),cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:0,pageType:1},{type:"Page",name:"Recycler",cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:-1e4,pageType:0}],le=[createScreenObject($[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C},J,e.type)])];return{screenGlueList:Y,screenMetaList:$,screenObjectList:le}};var Jn=i(1372);const Un=new Set(["android","iphone","ipad"]),sr=new Set(["ipad_mini","ipad_pro_11","ipad_pro_12"]),Mr=new Set(["iphone_x","iphone_xs_max","iphone_11_pro","iphone_11_pro_max","iphone_12_pro","iphone_12_pro_max","iphone_13_pro","iphone_13_pro_max","iphone_14_pro","iphone_14_pro_max","ipad_mini","ipad_pro_11","ipad_pro_12"]),cr={iphone_14_pro_max:[919,148,134,898],iphone_14_pro:[839,130,134,818],iphone_13_pro_max:[913,147,134,892],iphone_13_pro:[831,129,134,810],iphone_12_pro_max:[913,147,134,892],iphone_12_pro:[831,129,134,810],iphone_x:[799,121,134,778],iphone_xs_max:[883,141,134,862],iphone_11_pro:[799,121,134,778],iphone_11_pro_max:[883,141,134,862],ipad_mini:[1011,227,314,1009],ipad_pro_11:[1181,260,314,1179],ipad_pro_12:[1353,355,314,1351]},Cr={iphone_14_pro:48,iphone_13_pro:44,iphone_12_pro:44,iphone_x:44,iphone_11_pro:44,iphone_11_pro_max:44,iphone:20,ipad:24,ipad_3_4:20,ipad_pro:24,android:24,huawei_p40:58},Xr={iphone_14_pro:48,iphone_12_pro:44,iphone_13_pro:44,iphone_x:44,iphone_11_pro_max:44,iphone_11_pro:44,iphone:44,ipad:50,ipad_3_4:44,ipad_pro:50,android:56,huawei_p40:56},Qr=(e,s)=>{const w=s==="iphone_14_pro"||s==="iphone_14_pro_max"?"iphone_14_pro":s==="iphone_12_pro"||s==="iphone_x"||s==="iphone_xs_max"||s==="iphone_11_pro"||s==="iphone_11_pro_max"||s==="iphone_12_pro_max"||s==="iphone_13_pro"||s==="iphone_13_pro_max"?"iphone_x":e==="iphone"?"iphone":s==="ipad_3_4"?"ipad_3_4":s==="ipad_pro"?"ipad_pro":s==="ipad_mini"||s==="ipad_pro_11"||s==="ipad_pro_12"?"ipad":e==="android"&&s==="Huawei_p40"?"huawei_p40":e==="android"?"android":null;return{statusBarHeight:Cr[w],navBarHeight:Xr[w]}},wr=(e,s)=>{let{name:w,mtime:C,width:j,height:Y,device:$,model:J}=s;const le=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,name:w,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:C,width:j,height:Y,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,name:w,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:C,width:j,height:Y,project_meta_cid:e.cid})],Se=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:j,height:Y,bgcolor:"#fff",screen_glue_cid:le[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:T("s_screen")+" 2",parent_cid:null,position:2,expanded:!1,orientation:"portrait",width:j,height:Y,bgcolor:"#fff",screen_glue_cid:le[0].cid,project_meta_cid:e.cid})],Xe={device:$,model:J,name:w,width:j},{itemList:Ge,extraInfo:ot}=kr({hasNavBar:!0,...Xe}),{itemList:_t,extraInfo:gt}=kr({hasNavBar:!1,...Xe}),bt=[createScreenObject(Se[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C,name:T("s_state")+" 1",position:1,timestamp:C,...ot},Ge,e.type)]),createScreenObject(Se[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C,name:T("s_state")+" 1",position:1,timestamp:C,...gt},_t,e.type)])];return{screenGlueList:le,screenMetaList:Se,screenObjectList:bt,itemListSecondScreen:_t,extraInfoSecondScreen:gt}},kr=e=>{let{hasNavBar:s,device:w,model:C,name:j,width:Y}=e;const $=Un.has(w),J=Mr.has(C),le=[],Se={hh:0,fh:0};if($){const{itemList:Xe,extraInfo:Ge}=qr({name:j,width:Y,device:w,model:C,hasNavBar:s});if(le.push(...Xe),Object.assign(Se,Ge),J){const{itemList:ot,extraInfo:_t}=Tr({width:Y,model:C});le.push(...ot),Object.assign(Se,_t)}}return{itemList:le,extraInfo:Se}},Tr=e=>{let{width:s,model:w}=e;const[C,j,Y,$]=cr[w],J=getLocalTimestamp(),le=sr.has(w)?15:34,Se=sr.has(w)?0:1;return{extraInfo:{fh:le},itemList:[{cid:getRandomItemCid(),name:"rounded_rect",mtime:J,display_name:T("i_tab_bar"),background:[Se,4177066239],width:s,left:0,top:$,height:le,border:[1,HEX8NUMBER_TRANSPARENT,1,"0"],v:!0},{cid:getRandomItemCid(),name:"rounded_rect",mtime:J,display_name:T("i_rounded_rect"),border:[0,HEX8NUMBER_TRANSPARENT,0,"0"],border_radius:"3",background:[1,255],top:C,left:j,width:Y,height:5,v:!0}]}},qr=e=>{let{name:s,width:w,device:C,model:j,hasNavBar:Y=!1}=e;const $=C==="android"&&j==="Huawei_p40"?"android_status_bar":j==="iphone_12_pro"||j==="iphone_13_pro"||j==="iphone_14_pro"||j==="iphone_x"||j==="iphone_xs_max"||j==="iphone_11_pro"||j==="iphone_11_pro_max"||j==="iphone_12_pro_max"||j==="iphone_13_pro_max"||j==="iphone_14_pro_max"||C==="android"?"iphone_x_status_bar":C==="iphone"||C==="ipad"?"ios_status_bar":null,{statusBarHeight:J,navBarHeight:le}=Qr(C,j),Se=getLocalTimestamp(),Xe={};return C==="android"&&j==="Huawei_p40"&&Object.assign(Xe,{tc:"rgba(16, 16, 16, 1)",background:[1,4177066239]}),{extraInfo:{hh:J+(Y?le:0)},itemList:[{cid:getRandomItemCid(),name:$,mtime:Se,display_name:T("i_"+$),left:0,top:0,width:w,height:J,v:!0,...Xe},Y&&{cid:getRandomItemCid(),name:"nav_bar",mtime:Se,display_name:T("i_nav_bar"),left:0,top:J,height:le,text:s,width:w,v:!0}].filter(Boolean)}},Pr=p(P),Or=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Pr,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),Ei=(e,s)=>{s(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&s(e.panel_screen_meta_cid,CID_REF_SCREEN_META),s(e.project_meta_cid,CID_REF_PROJECT_META)},Yn=(e,s)=>(e=Or(e),e.cid=s(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=s(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),nr=p(P),lr=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||nr,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Dr=(e,s)=>{s(e.cid,CID_SCREEN_GLUE),s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},Ct=(e,s)=>(e=lr(e),e.cid=s(e.cid,CID_SCREEN_GLUE),e.screen_glue_cid=s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),ei=(e,s)=>{let{name:w,mtime:C,width:j,height:Y,locale:$}=s;const J=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,name:w,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:C,width:j,height:Y,project_meta_cid:e.cid})],le=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:j,height:Y,bgcolor:"#fff",screen_glue_cid:J[0].cid,project_meta_cid:e.cid})],Se=[createScreenObjectWithDefaultState(le[0].cid,$)];return{screenGlueList:J,screenMetaList:le,screenObjectList:Se}},xr=p(P),ar=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||xr,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),kn=(e,s)=>{s(e.cid,CID_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},Ir=(e,s)=>(e=ar(e),e.cid=s(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),ur=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),ti=(e,s)=>{s(e.cid,CID_SCREEN_META),s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),s(e.project_meta_cid,CID_REF_PROJECT_META)},en=(e,s)=>(e=ur(e),e.cid=s(e.cid,CID_SCREEN_META),e.screen_glue_cid=s(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=s(e.project_meta_cid,CID_REF_PROJECT_META),e),Ut=(e,s)=>{let{mtime:w,locale:C}=s;const j=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:w,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:w,project_meta_cid:e.cid})],Y=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:w,screen_glue_cid:j[0].cid,project_meta_cid:e.cid})],$=[createScreenObjectWithDefaultState(Y[0].cid,C)];return{screenGlueList:j,screenMetaList:Y,screenObjectList:$}},rr=p(P),_r=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||rr,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),vi=(e,s)=>{},bi=(e,s)=>(e=_r(e),e),wt=p(P),ir=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||wt,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),ni=(e,s)=>{},tn=(e,s)=>(e=ir(e),e),Ar=(e,s)=>{let{name:w,mtime:C,width:j,height:Y,device:$,model:J}=s;const le=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,name:w,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:C,width:j,height:Y,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:C,name:w,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:C,width:j,height:Y,project_meta_cid:e.cid})],Se=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:"page_list",screen_glue_cid:le[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:"widget_items",screen_glue_cid:le[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:C,name:"comment_items",screen_glue_cid:le[0].cid,project_meta_cid:e.cid})],Ge=[{cid:getRandomItemCid("pg"),type:"Page",name:"\u9ED8\u8BA4\u5206\u9875",isDefault:!0,ctime:getLocalTimestamp(),sketchObjectID:"",z:0}],ot=[],_t=[];return{screenGlueList:le,screenMetaList:Se,screenObjectList:[createScreenObject(Se[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C,timestamp:C},Ge,e.type)]),createScreenObject(Se[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C,timestamp:C},ot,e.type)]),createScreenObject(Se[2].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:C,timestamp:C},_t,e.type)])]}},pr=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,theme:e.theme,strokeTheme:e.strokeTheme,nodeTheme:e.nodeTheme,fh:e.fh,hh:e.hh,timestamp:e.timestamp}),ri=(e,s)=>{s(e.cid,CID_SCREEN_STATE)},Br=(e,s)=>(e=pr(e),e.cid=s(e.cid,CID_SCREEN_STATE),e),gn=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,from:e.from,to:e.to,controlPoints:e.controlPoints,fromArrow:e.fromArrow,toArrow:e.toArrow}),Rr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,rotate:e.rotate,borderRadius:e.borderRadius,image:e.image,lastImage:e.lastImage,imgNaturalWidth:e.imgNaturalWidth,imgNaturalHeight:e.imgNaturalHeight,imockImg:e.imockImg,img:e.img,anchors:e.anchors,rotatedAnchors:e.rotatedAnchors,hideAnchor:e.hideAnchor,hideSizeCP:e.hideSizeCP}),fr=536870911,Lr=e=>{switch(e.type){case"Line":return gn(e);case"Node":return Rr(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},ii=(e,s)=>{const{cid:w,type:C,from:j,to:Y,controlPoints:$}=e;s(w,CID_ITEM),C==="Line"&&(j&&s(j.id,CID_REF_ITEM),Y&&s(Y.id,CID_REF_ITEM),$&&$.forEach(J=>s(J.id,CID_REF_ITEM)))},jr=(e,s)=>{e=filterEntry(e);const{cid:w,type:C,from:j,to:Y,controlPoints:$}=e;return e.cid=s(w,CID_ITEM),C==="Line"&&(j&&(e.from.id=s(j.id,CID_REF_ITEM)),Y&&(e.to.id=s(Y.id,CID_REF_ITEM)),$&&(e.controlPoints=$.map(J=>({...J,id:s(J.id,CID_REF_ITEM)})))),e},jt=(e,s)=>{e.image&&s(e.image),e.lastImage&&s(e.lastImage),e.imockImg&&s(e.imockImg),e.img&&s(e.img)},dr=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position}),oi=(e,s)=>{s(e.cid,CID_SCREEN_STATE)},$n=(e,s)=>(e=dr(e),e.cid=s(e.cid,CID_SCREEN_STATE),e),Xn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,theme:e.theme,backgroundColor:e.backgroundColor}),Fr=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parentCid:e.parentCid,expanded:e.expanded,width:e.width,height:e.height,placement:e.placement,order:e.order,background_color:e.background_color,border_color:e.border_color,border_width:e.border_width,border_style:e.border_style,text:e.text,font_size:e.font_size,font_weight:e.font_weight,font_family:e.font_family,font_bold:e.font_bold,font_italic:e.font_italic,font_underline:e.font_underline,font_line_through:e.font_line_through,font_color:e.font_color,link:e.link,link_desc:e.link_desc,img_path:e.img_path,img_width:e.img_width,img_height:e.img_height}),hr=e=>{switch(e.name){case"mindConfigNode":return Xn(e);case"mindNode":return Fr(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},Tn=(e,s)=>{const{cid:w,parentCid:C}=e;s(w,CID_ITEM),C&&s(C,CID_ITEM_GROUP)},Vt=(e,s)=>{e=filterEntry(e);const{cid:w,parentCid:C}=e;return e.cid=s(w,CID_ITEM),C&&(e.parentCid=s(C,CID_ITEM_GROUP)),e},mr=(e,s)=>{e.img_path&&s(e.img_path)},zr=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),Si=(e,s)=>{},gr=(e,s)=>(e=zr(e),e),Nr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isStraight:e.isStraight,fromCid:e.fromCid,fromDirection:e.fromDirection,startPoint:e.startPoint,toCid:e.toCid,toDirection:e.toDirection,endPoint:e.endPoint,dPathList:e.dPathList,lineStyle:e.lineStyle,comment:e.comment,commentStyle:e.commentStyle,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),Ur=e=>({cid:e.cid,type:e.type,mtime:e.mtime,width:e.width,height:e.height,initialHeight:e.initialHeight,initialWidth:e.initialWidth,layup:e.layup,isEditing:e.isEditing,x:e.x,y:e.y,z:e.z,backgroundColor:e.backgroundColor,rawContent:e.rawContent,pageCid:e.pageCid,groupCid:e.groupCid,noteStyle:e.noteStyle,name:e.name}),si=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,sketchObjectID:e.sketchObjectID,ctime:e.ctime,etime:e.etime,z:e.z}),Kr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,sketchObjectID:e.sketchObjectID,z:e.z,ctime:e.ctime}),ci=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,sketchObjectID:e.sketchObjectID,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,groupCid:e.groupCid,ctime:e.ctime,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,imageUrl:e.imageUrl,sliceUrl:e.sliceUrl,statusCid:e.statusCid,statusIndex:e.statusIndex,isActivedInStatus:e.isActivedInStatus,resource_type:e.resource_type,original_resource_type:e.original_resource_type}),li=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isEditing:e.isEditing,no:e.no,rawContent:e.rawContent,recordList:e.recordList,rect:e.rect,status:e.status,vec2:e.vec2,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,artboardCid:e.artboardCid,artboardVec2:e.artboardVec2,pageCid:e.pageCid,groupCid:e.groupCid}),Gr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,commentCid:e.commentCid,content:e.content,isEditing:e.isEditing,cTime:e.cTime,mTime:e.mTime,user:e.user,replyUser:e.replyUser}),ai=e=>({cid:e.cid,type:e.type,mtime:e.mtime,layup:e.layup,iconName:e.iconName,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,complexRect:e.complexRect,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),t=e=>{switch(e.type){case"AboardLine":return Nr(e);case"Note":return Ur(e);case"Page":return si(e);case"Group":return Kr(e);case"AboardsRef":return ci(e);case"Comment":return li(e);case"CommentRecord":return Gr(e);case"Stamp":return ai(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},n=e=>{switch(e){case K.DESIGN_DRAFT:return{filterEntryProjectMeta:H,filterEntryScreenGlue:S,filterEntryScreenMeta:ne,filterEntryScreenState:it,filterEntryItem:Nn};case K.PROTOTYPE:case Q:return{filterEntryProjectMeta:H,filterEntryScreenGlue:te,filterEntryScreenMeta:oe,filterEntryScreenState:we,filterEntryItem:rt};case K.FLOW_CHART:return{filterEntryProjectMeta:H,filterEntryScreenGlue:Or,filterEntryScreenMeta:lr,filterEntryScreenState:pr,filterEntryItem:Lr};case K.MIND_MAP:return{filterEntryProjectMeta:H,filterEntryScreenGlue:ar,filterEntryScreenMeta:ur,filterEntryScreenState:dr,filterEntryItem:hr};case K.ABOARD:return{filterEntryProjectMeta:H,filterEntryScreenGlue:_r,filterEntryScreenMeta:ir,filterEntryScreenState:zr,filterEntryItem:t}}throw new Error("unexpected projectMetaType: "+e)},r=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueDesignDraft,collectCidScreenMeta:collectCidScreenMetaDesignDraft,collectCidScreenState:collectCidScreenStateDesignDraft,collectCidItem:collectCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGluePrototype,collectCidScreenMeta:collectCidScreenMetaPrototype,collectCidScreenState:collectCidScreenStatePrototype,collectCidItem:collectCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueFlowChart,collectCidScreenMeta:collectCidScreenMetaFlowChart,collectCidScreenState:collectCidScreenStateFlowChart,collectCidItem:collectCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueMindMap,collectCidScreenMeta:collectCidScreenMetaMindMap,collectCidScreenState:collectCidScreenStateMindMap,collectCidItem:collectCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueAboard,collectCidScreenMeta:collectCidScreenMetaAboard,collectCidScreenState:collectCidScreenStateAboard,collectCidItem:collectCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},c=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueDesignDraft,remapCidScreenMeta:remapCidScreenMetaDesignDraft,remapCidScreenState:remapCidScreenStateDesignDraft,remapCidItem:remapCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGluePrototype,remapCidScreenMeta:remapCidScreenMetaPrototype,remapCidScreenState:remapCidScreenStatePrototype,remapCidItem:remapCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueFlowChart,remapCidScreenMeta:remapCidScreenMetaFlowChart,remapCidScreenState:remapCidScreenStateFlowChart,remapCidItem:remapCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueMindMap,remapCidScreenMeta:remapCidScreenMetaMindMap,remapCidScreenState:remapCidScreenStateMindMap,remapCidItem:remapCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueAboard,remapCidScreenMeta:remapCidScreenMetaAboard,remapCidScreenState:remapCidScreenStateAboard,remapCidItem:remapCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},l=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:case PROJECT_META_TYPE.MIND_MAP:case PROJECT_META_TYPE.FLOW_CHART:case PROJECT_META_TYPE.ABOARD:return{};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{MAX_Z:MAX_Z_PROTOTYPE,STICKY_Z:STICKY_Z_PROTOTYPE}}throw new Error("unexpected projectMetaType: "+e)},h=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return createPresetProjectMetaDataDesignDraft;case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return createPresetProjectMetaDataProtoType;case PROJECT_META_TYPE.FLOW_CHART:return createPresetProjectMetaDataFlowChart;case PROJECT_META_TYPE.MIND_MAP:return createPresetProjectMetaDataMindMap;case PROJECT_META_TYPE.ABOARD:return createPresetProjectMetaDataAboard}},x=e=>{switch(e){case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return collectAssetUrlPrototype;case PROJECT_META_TYPE.FLOW_CHART:return collectAssetUrlFlowChart;case PROJECT_META_TYPE.MIND_MAP:return collectAssetUrlMindMap;case PROJECT_META_TYPE.ABOARD:return collectAssetUrlAboard;default:throw new Error("unexpected projectMetaType: "+e)}},z="v1",re="screen",ce="screen-patch",Le=p({PB:z,PBT:re}),lt=p({PB:z,PBT:ce}),ht="data",kt="itemList",nn=function(e,s){return s===void 0&&(s=[]),{ttag:Le,cid:e,stateList:s}},Pn=function(e,s,w){w===void 0&&(w=[]),SET_LOCALE(s);const C=getRandomScreenStateCid();return{ttag:Le,cid:e,stateList:[{cid:C,data:{cid:C,name:T("s_page_1_state"),mtime:getLocalTimestamp(),fh:0,hh:0,position:0},itemList:w}]}},Qn=function(e,s,w){e===void 0&&(e={}),s===void 0&&(s=[]);const{filterEntryScreenState:C,filterEntryItem:j}=n(w);return{cid:e.cid,data:C(e),itemList:s.map(j)}},Mi=e=>{let{ttag:s}=e;const{PB:w,PBT:C}=a(s);if(w!==z||C!==re)throw new Error("[ScreenObject] invalid ttag: "+s)},ps=function(e,s){return s===void 0&&(s=[]),{ttag:lt,cid:e,statePatchList:s}},Zi=e=>{let{ttag:s}=e;const{PB:w,PBT:C}=a(s);if(w!==z||C!==ce)throw new Error("[ScreenPatchObject] invalid ttag: "+s)},Ji=e=>({screenMetaCid:e,dataMap:{},itemListMap:{}}),fs=e=>{const{dataMap:s,itemListMap:w}=e;if(!isCompactArrayShallowEqual(Object.keys(s),Object.keys(w)))throw new Error("[verifyScreenRuntimeState] stateCid mismatch")},Yi=e=>{const{cid:s,stateList:w}=e,C=Ji(s);for(const{cid:j,data:Y,itemList:$}of w)C.dataMap[j]=Y,C.itemListMap[j]=$;return C},$i=(e,s)=>{const{screenMetaCid:w,dataMap:C,itemListMap:j}=e,Y=[];for(const $ of Object.keys(C)){const J=C[$],le=j[$];Y.push(Qn(J,le,s))}return nn(w,Y)};var Wr=i(93834);const qn="cid",yn="mtime",Xi=1,ui=(e,s)=>e[yn]!==s[yn],Qi=(e,s)=>e[yn]>=s[yn],qi=(e,s)=>e[yn]>s[yn],eo=(e,s)=>e[yn]<s[yn]?{...e,[yn]:s[yn]+Xi}:e,Ci=(e,s)=>{for(let w=0,C=s.length;w<C;w++){const j=s[w],Y=j[qn],$=e.get(Y);if($===void 0)return!0;if(ui($,j))return!0;e.delete(Y)}return!!e.size},wi=(e,s)=>{let w=0;for(let C=0,j=s.length;C<j;C++){const Y=s[C],$=Y[qn],J=e.get($);(J===void 0||ui(J,Y))&&w++,e.delete($)}return w+=e.size,w},ki=(e,s)=>{const w=[],C=[];for(let j=0,Y=s.length;j<Y;j++){const $=s[j],J=$[qn],le=e.get(J);le===void 0?w.push({[qn]:J,[yn]:$[yn]}):ui(le,$)&&C.push(eo(le,$)),e.delete(J)}return e.forEach(j=>{C.push(j)}),{deleteList:w,updateList:C}},_i=(e,s,w,C)=>{let j=!1;const Y=e.reduce(yr,new Map),$=s.reduce(yr,new Map);for(const J of w){const le=J[qn],Se=Y.get(le);if(Se!==void 0&&Qi(Se,J)){C(void 0,J),j=!0;continue}const Xe=$.get(le);if(Xe!==void 0&&($.delete(le),qi(Xe,J))){C(Xe,J),j=!0;continue}C(J,J)}return $.forEach(J=>{C(J,void 0),j=!0}),j},yr=(e,s)=>e.set(s[qn],s),ds=(e,s)=>Ci(new Map(Object.entries(e)),Object.values(s)),hs=(e,s)=>wi(new Map(Object.entries(e)),Object.values(s)),ms=(e,s)=>ki(new Map(Object.entries(e)),Object.values(s)),gs=(e,s)=>{let{deleteList:w,updateList:C}=s;const j={};return _i(w,C,Object.values(e),($,J)=>{$!==void 0&&(j[$[qn]]=$)})?j:e},ys=(e,s)=>Ci(e.reduce(yr,new Map),s),Es=(e,s)=>wi(e.reduce(yr,new Map),s),vs=(e,s)=>ki(e.reduce(yr,new Map),s),to=(e,s)=>{let{deleteList:w,updateList:C}=s;const j=[];return _i(w,C,e,($,J)=>{$!==void 0&&j.push($)})?j:e},bs=(e,s)=>{if(e===void 0||s===void 0||e.dataMap!==s.dataMap&&hasObjectPatch(e.dataMap,s.dataMap))return!0;if(e.itemListMap!==s.itemListMap){const w=new Set([...Object.keys(e.itemListMap),...Object.keys(s.itemListMap)]);for(const C of w){const j=e.itemListMap[C]||[],Y=s.itemListMap[C]||[];if(e.dataMap[C]!==void 0&&hasArrayWithKeyPatch(j,Y))return!0}}return!1},Ss=(e,s)=>{if(e===void 0)return 1;if(s===void 0)return Object.keys(e.dataMap).length+Object.keys(e.itemListMap).length;let w=0;if(e.dataMap!==s.dataMap&&(w+=countObjectPatch(e.dataMap,s.dataMap)),e.itemListMap!==s.itemListMap){const C=new Set([...Object.keys(e.itemListMap),...Object.keys(s.itemListMap)]);for(const j of C){const Y=e.itemListMap[j]||[],$=s.itemListMap[j]||[];e.dataMap[j]!==void 0&&(w+=countArrayWithKeyPatch(Y,$))}}return w},Ms=function(e,s){s===void 0&&(s=no);const w=[];if(e.dataMap!==s.dataMap){const{deleteList:C,updateList:j}=generateObjectPatch(e.dataMap,s.dataMap);(C.length||j.length)&&w.push({type:PB_PATCH_SCREEN_STATE_DATA,deleteList:C,updateList:j})}if(e.itemListMap!==s.itemListMap){const C=new Set([...Object.keys(e.itemListMap),...Object.keys(s.itemListMap)]);for(const j of C){const Y=e.itemListMap[j]||[],$=s.itemListMap[j]||[];if(e.dataMap[j]===void 0)continue;const{deleteList:J,updateList:le}=generateArrayWithKeyPatch(Y,$);(J.length||le.length)&&w.push({type:PB_PATCH_SCREEN_STATE_ITEM_LIST,stateCid:j,deleteList:J,updateList:le})}}return w},no={screenMetaCid:void 0,dataMap:{},itemListMap:{}},ro=(e,s)=>{if(s.length===0)return e;let{dataMap:w,itemListMap:C}=e;for(const{type:j,stateCid:Y,deleteList:$,updateList:J}of s)switch(j){case ht:{const le=w,Se={};w=_i($,J,Object.values(le),(Ge,ot)=>{Ge===void 0?C=(0,Wr.i7)(C,ot.cid):(Se[Ge.cid]=Ge,C[Ge.cid]===void 0&&(C[Ge.cid]=[]))})?Se:le;break}case kt:{if(w[Y]===void 0)break;const le=C[Y]||[],Se=to(le,{deleteList:$,updateList:J});C=(0,Wr.iA)(C,Y,Se);break}}return e=(0,Wr.iA)(e,"dataMap",w),e=(0,Wr.iA)(e,"itemListMap",C),e},Ti=function(e,s,w){if(s===void 0&&(s=[]),Mi(e),s.length===0)return e;let C=Yi(e);for(const j of s){if(Zi(j),j.cid!==e.cid)throw new Error("[applyScreenPatchObjectList] unexpected patch cid: "+j.cid+", expect: "+e.cid);C=ro(C,j.statePatchList)}return e=$i(C,w),e},io=async e=>{let{projectBufferData:s,parseConcatGzipDataToObjectList:w,projectMetaType:C}=e;const j=await w(s);return oo(j,C)},oo=(e,s)=>{const w={},C=Y=>{let $=w[Y];return $===void 0&&($=[],w[Y]=$),$};return e.forEach(Y=>C(Y.cid).push(Y)),Object.values(w).map(Y=>{let[$,...J]=Y;return $=Pi($,s),J.length&&($=Ti($,J,s)),$=Pi($,s),$})},Pi=(e,s)=>{Mi(e);const w=C=>C.mtime!==void 0?C:{...C,mtime:0};return nn(e.cid,e.stateList.map(C=>Qn(w(C.data),C.itemList.map(w),s)))},Cs=async e=>{let{projectScreenData:s,parseConcatGzipDataToObjectList:w,projectMetaType:C}=e;const[j,...Y]=await w(s);return Ti(j,Y,C)};var so=i(35608),Oi=i(30388);const{Blob:Vr}=window,co=e=>e instanceof ArrayBuffer?e:parseBlobAsArrayBuffer(e),ws=async e=>new Vr([gzip(new Uint8Array(await parseBlobAsArrayBuffer(new Vr([JSON.stringify(e)]))))]),ks=async e=>JSON.parse(await parseBlobAsText(new Vr([gunzip(new Uint8Array(await co(e)))]))),lo=e=>{const s=[];let w=0,C=1;for(;C>0;){const j=new so.Inflate;if(j.push(new Uint8Array(e,w)),j.err)throw new Error("[gunzipAsArrayBufferList|pako] errorCode: "+j.err+", message: "+j.msg);s.push(j.result),w+=j.strm.total_in,C=j.strm.avail_in}return s},ao=async e=>{const s=e instanceof ArrayBuffer?e:await(0,Oi.H)(e),w=lo(s),C=[];for(const j of w){const Y=await(0,Oi.n8)(new Vr([j]));for(const $ of Y.split("\n"))$&&$.length>2&&C.push(JSON.parse($))}return C},{fetch:Hr}=window,Ts=async e=>{const s=await Hr(e,{credentials:"same-origin"});if(!s.ok)throw new Error("[fetchGetHead] failed with "+s.status+": "+e)},pi=async(e,s)=>{const w=new Error(e);return w.payload={...await s.json().catch(()=>null),status:s.status},w},uo=async e=>{const s=await Hr(e,{credentials:"same-origin"});if(!s.ok)throw await pi("[fetchGetJSON] failed with "+s.status+": "+e,s);return s.json()},Ps=async(e,s)=>{const w=await Hr(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(s),credentials:"same-origin"});if(!w.ok)throw await pi("[fetchPostJSON] failed with "+w.status+": "+e,w);return w.json()},_o=async(e,s)=>{const w=await Hr(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(s),credentials:"same-origin"});if(!w.ok)throw await pi("[fetchPostBlob] failed with "+w.status+": "+e,w);return w.blob()},po=async e=>{let{projectMetaCid:s,projectMetaType:w,screenMetaCidList:C,projectBasicEncryptedPassword:j,accessToken:Y=""}=e;if(C.length===0)return[];const $="/project-buffer/"+V(w)+"/all/"+s+"?password="+j+"&access_token="+Y,J=await _o($,{localKeyList:C});return await io({projectBufferData:J,parseConcatGzipDataToObjectList:ao,projectMetaType:w})},er=async e=>{let{projectMetaList:s,screenMetaList:w,projectBasicEncryptedPassword:C="",accessToken:j=""}=e;const Y=[];for(const $ of s){const J=w.filter(Se=>Se.project_meta_cid===$.cid).map(Se=>Se.cid);J.length>2048&&console.warn("[fdPSOL] big proj: "+J.length);const le=(0,G.eO)(J,1024);for(const Se of le)Y.push(...await po({projectMetaCid:$.cid,projectMetaType:$.type,screenMetaCidList:Se,projectBasicEncryptedPassword:C,accessToken:j}))}return Y},Os=async e=>{let{userLocale:s}=e;const{user_combo_groups:w,screen_aligns:C,project_metas:j,screen_glues:Y,screen_metas:$}=await fetchGetJSON("/api/library/v3/project_upper/user_combo_groups");console.log("[fdUSG] pm#"+j.length+" sg#"+Y.length+" sm#"+$.length+" | ucg#"+w.length+" sa#"+C.length);const J=await er({projectMetaList:j,screenMetaList:$});return{userComboGroupList:w,screenAlignList:C,projectMetaList:j,screenGlueList:Y,screenMetaList:$,projectScreenObjectList:J}},Ds=async e=>{let{projectBasicCid:s,userLocale:w}=e;const{project_basic:C,screen_aligns:j,project_metas:Y,screen_glues:$,screen_metas:J}=await fetchGetJSON("/api/upper/web_v1/basics/"+s);console.log("[fdPB] pm#"+Y.length+" sg#"+$.length+" sm#"+J.length+" | sa#"+j.length);const le=await er({projectMetaList:Y,screenMetaList:J});return{projectBasic:C,screenAlignList:j,projectMetaList:Y,screenGlueList:$,screenMetaList:J,projectScreenObjectList:le}},fo=async e=>{let{projectBasicAccessToken:s,projectBasicEncryptedPassword:w="",userLocale:C,projectVersion:j}=e;const{project_basic:Y,screen_aligns:$,project_metas:J,screen_glues:le,screen_metas:Se}=await uo("/api/upper/web_v1/basics/"+s+"?password="+w+(j?"&version="+j:"")),Xe=le.find(_t=>_t.type===O.PROJECT_TRASHCAN),Ge=Xe?Se.filter(_t=>_t.screen_glue_cid!==Xe.cid):Se;console.log("[fdPB+] pm#"+J.length+" sg#"+le.length+" sm#"+Se.length+"/"+Ge.length+" | sa#"+$.length);const ot=await er({projectMetaList:J,screenMetaList:Ge,projectBasicEncryptedPassword:w,accessToken:s});return{projectBasic:Y,screenAlignList:$,projectMetaList:J,screenGlueList:le,screenMetaList:Ge,projectScreenObjectList:ot}},xs=async e=>{let{projectBasicAccessToken:s,projectBasicEncryptedPassword:w="",userLocale:C}=e;const{project_basic:j,screen_aligns:Y,project_metas:$,screen_glues:J,screen_metas:le}=await fetchGetJSON("/api/upper/web_v1/basics/"+s+"?password="+w);console.log("[fdPBbAT] pm#"+$.length+" sg#"+J.length+" sm#"+le.length+" | sa#"+Y.length);const Se=await er({projectMetaList:$,screenMetaList:le,projectBasicEncryptedPassword:w,accessToken:s});return{projectBasic:j,screenAlignList:Y,projectMetaList:$,screenGlueList:J,screenMetaList:le,projectScreenObjectList:Se}},Is=async e=>{let{projectUpperCid:s,isFromIframe:w=!1}=e;const{market_template:C,screen_aligns:j,project_metas:Y,screen_glues:$,screen_metas:J}=await fetchGetJSON("/api/community/v1/market_template/"+s+(w?"?is_from_iframe=true":""));console.log("[fdMT] pm#"+Y.length+" sg#"+$.length+" sm#"+J.length+" | sa#"+j.length);const le=await er({projectMetaList:Y,screenMetaList:J});return{projectUpper:C,screenAlignList:j,projectMetaList:Y,screenGlueList:$,screenMetaList:J,projectScreenObjectList:le}},As=async e=>{let{projectUpperCid:s,isFromIframe:w=1}=e;const{data:C,market_template:j,project_metas:Y}=await fetchGetJSON("/api/community/v1/market_template/"+s+(w?"?is_from_iframe=true":""));return{screenMetaList:C,projectUpper:j,projectMetaList:Y}},Bs=async e=>{let{projectUpperCid:s}=e;const{reviewable_project:w,screen_aligns:C,project_metas:j,screen_glues:Y,screen_metas:$}=await fetchGetJSON("/api/community/v1/reviewable_project/"+s);console.log("[fdRP] pm#"+j.length+" sg#"+Y.length+" sm#"+$.length+" | sa#"+C.length);const J=await er({projectMetaList:j,screenMetaList:$});return{projectUpper:w,screenAlignList:C,projectMetaList:j,screenGlueList:Y,screenMetaList:$,projectScreenObjectList:J}},Rs=async e=>{let{projectUpperCid:s}=e;const{reviewable_project:w,screen_aligns:C,project_metas:j}=await fetchGetJSON("/api/community/v1/reviewable_project/"+s);return{projectUpper:w,projectMetaList:j,screenAlignList:C}},Ls=async e=>{let{projectUpperCid:s}=e;const{product:w,screen_aligns:C,project_metas:j,screen_glues:Y,screen_metas:$}=await fetchGetJSON("/api/upper/web_v1/product/"+s);console.log("[fdCP] pm#"+j.length+" sg#"+Y.length+" sm#"+$.length+" | sa#"+C.length);const J=await er({projectMetaList:j,screenMetaList:$});return{projectUpper:w,screenAlignList:C,projectMetaList:j,screenGlueList:Y,screenMetaList:$,projectScreenObjectList:J}},js=async(e,s)=>{let{teamCid:w,userLocale:C}=e;const{name:j,type:Y,attr:$={},device:J,model:le,width:Se,height:Xe,subProject:Ge,zboardTag:ot,visibility:_t}=s,gt=UPPER_META_PROJECT_BASIC,{userId:bt,upperCid:Lt,zboardTabs:Zt,projectMetaCid:pn}=await fetchPostJSON("/project-buffer/"+Y+"/check-init/project-upper?upperType="+gt,{presetOption:{locale:C,name:j,type:Y,device:J,model:le,width:Se,height:Xe},railsExtra:{team_cid:w,visibility:_t,name:j,type:Y,attr:$,device:J,model:le,width:Se,height:Xe,subProject:Ge,zboardTag:ot}});return{userId:bt,upperCid:Lt,upperType:gt,zboardTabs:Zt,projectMetaCid:pn}},Fs=async e=>{let{projectBasicCid:s,projectBasicType:w,teamCid:C}=e;const j=UPPER_META_PROJECT_BASIC,{userId:Y,upperCid:$,projectMetaCid:J}=await fetchPostJSON("/project-buffer/"+w+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+s,{railsExtra:{team_cid:C}});return{userId:Y,upperCid:$,upperType:j,projectMetaCid:J}},zs=async e=>{let{upperCid:s,projectMetaCid:w,projectMetaType:C,screenGlueCid:j,screenMetaCidList:Y,screenGlueCidList:$=[],nextUpperCid:J,nextProjectMetaCid:le,nextScreenGlueCid:Se}=e;const{userId:Xe}=await fetchPostJSON("/project-buffer/"+C+"/check-transfer/screen-meta?upperCid="+s,{projectMetaCid:w,screenGlueCid:j,screenMetaCidList:Y,screenGlueCidList:$,nextUpperCid:J,nextProjectMetaCid:le,nextScreenGlueCid:Se});return{userId:Xe,upperCid:s,nextUpperCid:J}},Ns=async e=>{let{encryptedPassword:s,accessToken:w}=e;const{urlHtmlZip:C}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:s,accessToken:w});return{urlHtmlZip:C}},Us=async e=>{let{encryptedPassword:s,accessToken:w}=e;const{urlApk:C}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:s,accessToken:w});return{urlApk:C}};var fi=i(6966);const Ks=e=>{let{isVersions:s}=e;return{requestPreviewSetting:xi,requestPreviewInitialData:Di,requestProjectFullDataByAccessToken:Ii,updateProjectBasicsInfo:go,requestPreviewInitialData4ReadOnlyV2:ho}},Di=async e=>{let{projectAccessToken:s,projectEncryptedPassword:w}=e;const C=w?"&password="+w:"";return(0,fi.EE)("/api/upper/web_v1/design/readonly_initial?access_token="+s+C)},ho=async e=>{let{projectAccessToken:s,view_mode:w}=e;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+s+"&view_mode="+w)},xi=e=>{let{projectAccessToken:s,password:w}=e;return(0,fi.EE)("/api/upper/web_v1/preview/setting?access_token="+s+"&password="+(w||""))},mo=e=>{let{projectAccessToken:s,password:w}=e;return(0,fi.EE)("/api/flat/web_v1/preview/setting?access_token="+s+"&password="+(w||""))},Ii=async e=>{let{projectAccessToken:s,projectEncryptedPassword:w,userLocale:C,projectVersion:j}=e;const Y=await fo({projectBasicAccessToken:s,projectBasicEncryptedPassword:w,userLocale:C,projectVersion:j});if(!Y)return;const{projectMetaList:[$],screenGlueList:J,screenMetaList:le,projectScreenObjectList:Se,projectBasic:Xe,screenAlignList:Ge}=Y;return{projectMeta:$,screenGlueList:J,screenMetaList:le,projectScreenObjectList:Se,projectBasic:Xe,screenAlignList:Ge}},go=(e,s)=>fetchPutJSON("/api/upper/web_v1/basics/"+e,{...s}),Gs=(e,s)=>fetchGetJSON("/api/upper/web_v1/basics/auth/"+e+"?password="+s),Ws={requestPreviewSetting:xi,requestPreviewSettingV2:mo,requestPreviewInitialData:Di,requestProjectFullDataByAccessToken:Ii};var yo=i(70103),Ai=i(37780),Eo=i(23895),vo=i(23027),Kt=i(35269);const bo={canUploadToSquare:!1},Bi=function(e){e===void 0&&(e="POPUP-HELPER-ROOT");const s=document.createElement("div");s.id=e,document.body.appendChild(s);const w=(0,yo.MT)(Eo.Z);f.render((0,Kt.jsx)(Ai.zt,{store:w,children:(0,Kt.jsx)(vo.Z,{})}),s);const{confirmAsync:C,alertAsync:j,alertAsyncWide:Y,alertAsyncBlocked:$,promptGetPasswordAsync:J,loginAsync:le,teamSelectModalAsync:Se,sharingAsync:Xe,chargeAsync:Ge,upgradeChatGPTAsync:ot}=So(w.dispatch);return{confirmAsync:C,alertAsync:j,alertAsyncWide:Y,alertAsyncBlocked:$,promptGetPasswordAsync:J,loginAsync:le,teamSelectModalAsync:Se,sharingAsync:Xe,chargeAsync:Ge,upgradeChatGPTAsync:ot,destroy:()=>{f.unmountComponentAtNode(s),s.remove()}}},So=e=>({confirmAsync:Ge=>{let{className:ot,title:_t,desc:gt,isHTML:bt,confirmText:Lt,cancelText:Zt,isClose:pn,theme:fn}=Ge;return new Promise(br=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:ot,title:_t,desc:gt,isHTML:bt,type:"alert",alertType:"confirm",canClose:pn!==!1,canCancel:!0,canConfirm:!0,cancelText:Zt,confirmText:Lt,theme:fn,onCancel:()=>br(!1),onConfirm:()=>br(!0)}}}))},alertAsync:Ge=>{let{title:ot,desc:_t,isHTML:gt,confirmText:bt}=Ge;return new Promise(Lt=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ot,desc:_t,isHTML:gt,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:bt,onConfirm:()=>Lt()}}}))},alertAsyncWide:Ge=>{let{title:ot,desc:_t,isHTML:gt,confirmText:bt}=Ge;return new Promise(Lt=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ot,desc:_t,isHTML:gt,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:bt,onConfirm:()=>Lt()}}}))},alertAsyncBlocked:Ge=>{let{title:ot,desc:_t,isHTML:gt,confirmText:bt}=Ge;return new Promise(Lt=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ot,desc:_t,isHTML:gt,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:bt,onConfirm:()=>Lt()}}}))},promptGetPasswordAsync:(Ge,ot)=>new Promise(_t=>e({type:"modal:update:state",payload:{previewAuthModal:{isOpen:Ge,isWrongPwd:ot,onConfirm:gt=>gt&&_t(gt)}}})),loginAsync:Ge=>{let{onCancel:ot=Er,onConfirm:_t=Er,type:gt="signin",source:bt}=Ge;return e({type:"modal:update:state",payload:{loginModal:{source:bt,isOpen:!0,type:gt,onCancel:ot,onConfirm:_t}}})},teamSelectModalAsync:Ge=>{let{projectCid:ot="",onCancel:_t=Er,onConfirm:gt=Er}=Ge;return e({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:ot,onCancel:_t,onConfirm:gt}}})},sharingAsync:Ge=>{let{project:ot,theme:_t,isGuestMode:gt,screenMetaList:bt=[],onUpdateProject:Lt=Er,extraInfo:Zt=bo,screenMetaCidToVisit:pn,user:fn}=Ge;return e({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:ot,theme:_t,extraInfo:Zt,isGuestMode:gt,screenMetaList:bt,onUpdateProject:Lt,screenMetaCidToVisit:pn,user:fn}}})},chargeAsync:Ge=>e({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...Ge}}}),upgradeChatGPTAsync:Ge=>e({type:"modal:update:state",payload:{upgradeChatGPTModal:{isOpen:!0,...Ge}}})}),Er=()=>{},Vs=e=>localStorageGetItem(e+"_pwd"),Hs=(e,s)=>localStorageSetItem(e+"_pwd",s),Ri=async(e,s)=>{let w;try{w=await checkAuthorization(e,s)}catch(C){w=C}return w},Zs=async e=>{const s=createPopupHelper();let w=!1,C=md5(await s.promptGetPasswordAsync(!0,!1));for((await Ri(e,C)).status===403&&(w=!0);w;)C=md5(await s.promptGetPasswordAsync(!0,w)),(await Ri(e,C)).status===403?w=!0:w=!1;return s.promptGetPasswordAsync(!1),C},Js=(e,s,w)=>{if(!e)return!0;if(s){var C;return(w==null||(C=w.permissions.find(Y=>Y.user_id===e.id))==null?void 0:C.role)===void 0}else return!(e.id===w.owner_id)},Mo={api:{}},Co=e=>{Object.assign(Mo,e)};var Li=i(27239),Zr=i(85322),ji=i(24011),di=i(95485);const Fi=async e=>{let{projectMetaCid:s}=e;await(0,di.By)({userId:void 0,flpakKey:s,onTransferError:di.$p,onReadOnlyError:di.Yo,isDummyCmt:!0,__fetchFlpakAsync:b.Ev},void 0)},wo=async e=>{let{projectBasicCid:s,accessToken:w,password:C}=e;try{const{userId:j,flatKey:Y}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+s+"&access_token="+w+"&password="+C);return{userId:j,flatKey:Y}}catch(j){await apiErrorModals(j)}},Ys=async e=>{let{projectBasic:s,password:w,accessToken:C}=e;{const j=C||s.access_token,{userId:Y,flatKey:$}=await wo({projectBasicCid:s.cid,accessToken:j,password:w});console.log("[p2edit] uId="+Y+" key="+$+" pbCid="+s.cid);const J=!!Y,le=J&&!getIsInPreviewViewMode();await initRootSdk({userId:Y,flpakKey:$,onTransferError,onReadOnlyError,isAllowDat:J?"RO":!1,isAllowCmt:J,isAllowCur:le,token:j,passwd:w},s)}};var ko=i(44069);const zi=function(e,s,w){const C=s.getGuidesData()||"[]",j=new Set(JSON.parse(C)),Y=new Set,$=new Map;return{checkGuideHasShown:J=>j.has(J),checkGuideToBeShown:J=>Y.has(J),getState:()=>({commonGuidesHasShown:Array.from(j),commonGuidesToBeShown:Array.from(Y),mountGuidesMap:$}),tryToShowGuide:J=>{var le;if(j.has(J)||!((le=MB)!=null&&(le=le.user)!=null&&le.id))return;const Se=document.getElementById("MD_"+J);if(Se){Se.style.display="block";return}Y.add(J),(0,ko.k)(J,e,w)},markGuideAsRead:J=>{j.add(J),s.setGuidesData(JSON.stringify(Array.from(j)))},batchMarkGuideAsRead:J=>{J.forEach(le=>j.add(le)),s.setGuidesData(JSON.stringify(Array.from(j)))},closeGuide:J=>{const le=document.getElementById("MD_"+J);le&&le.parentNode&&le.parentNode.removeChild(le)},closeAllGuide:()=>{const J=document.getElementById("GUIDES");J&&J.parentNode&&J.parentNode.removeChild(J)},removeGuide:J=>{j.delete(J),s.setGuidesData(JSON.stringify(Array.from(j)))},tryToContinueMountGuide:(J,le)=>{const Se=$.get(J);Se&&typeof(Se==null?void 0:Se.handleContinue)=="function"&&Se.handleContinue(le)},tryToResizeMountGuide:J=>{const le=$.get(J);le&&typeof(le==null?void 0:le.handleResize)=="function"&&le.handleResize()},tryToCloseMountGuide:J=>{const le=$.get(J);le&&typeof(le==null?void 0:le.handleClose)=="function"&&le.handleClose()},registerMountGuideCallback:(J,le)=>{const Se=$.get(J)||{};$.set(J,{...Se,...le})},removeMountGuideCallback:(J,le)=>{if(!le){$.delete(J);return}const Se=$.get(J)||{};$.set(J,{...Se,[le]:void 0})}}},$s=e=>{let{store:s,commonGuidesData:w,isDesign:C,isPreview:j}=e;MB.commonGuideHelper=zi(s,{getGuidesData:()=>w,setGuidesData:updateUserCommonGuidesData},{isDesign:C,isPreview:j})},To=e=>{let{store:s,isDesign:w,isPreview:C}=e;const j={guide:{dashboard_guides:"",workspace_guides:"",square_guides:null,workspace_guides_version:"",default_team_cid:"",root_project_team_cid:"",workspace_guides_2203:"",workspace_guides_2203_version:"",aboard_guides:""},guide_project_template_cid:"",guide_project_template_2203_cid:"",guide_flow_template_cid:"",guide_design_template_cid:"",guide_prototype_template_cid:""},{guide:{workspace_guides:Y}}=j;MB.commonGuideHelper=zi(s,{getGuidesData:()=>Y,setGuidesData:()=>{}},{isDesign:w,isPreview:C})};var Ni=i(68035);const{MB:Ft}=window;Ft.f.inSharing=!0;const Xs=e=>{let{initialData:s,designOptions:w,previewOptions:C,sharing:j,password:Y,api:{updateProjectBasicsInfo:$}}=e;const{runnerController:J,messageBucket:le,webpackInterface:Se,PreviewApp:Xe}=createPreviewRelated(getPreviewComponentByOptions(C));return setExternal({api:{updateProjectBasicsInfo:$}}),Object.assign(Ft,{runnerController:J,messageBucket:le,webpackInterface:Se,global:{popupHelper:createPopupHelper(),designOptions:w}}),Ft.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:C}}),{requestData:async Ge=>{let{projectAccessToken:ot,isPasswordRequired:_t,projectBasicCid:gt}=Ge;const{user:bt,org:Lt,preference:Zt,canEditByCurrentUser:pn,project_basic:fn,project_meta:br,space:ls}=s,as=getIsNeedInputPassword(bt,ls,fn);let Yr=loadProjectEncryptedPassword(ot);const us=await tryCheckAuthorization(ot,Yr);if(_t&&as&&us.status===403){var Gi;Ft==null||(Gi=Ft.messageBucket)==null||Gi.send("ready"),Yr=await checkAuthorizationWithPrompt(ot),saveProjectEncryptedPassword(ot,Yr)}try{await requestProjectFullDataFlat4ReadOnly({projectBasic:fn,password:Yr||Y,accessToken:ot})}catch(Sr){return setTimeout(()=>{var Vi,Hi;return Ft==null||(Vi=Ft.messageBucket)==null?void 0:Vi.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(Ft!=null&&(Hi=Ft.user)!=null&&Hi.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(Sr)}Ft.webpackInterface.store.dispatch({type:"entry:preview:update:current:sharing",payload:{sharing:j}}),Ft.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Zt||{}}});const _s=pn&&(br.is_org_project?!(fn!=null&&fn.expired):!(fn!=null&&fn.expired)||bt.apps.length<=bt.free_projects_count);Object.assign(Ft,{user:bt||{},canEditByCurrentUser:_s,org:Lt||void 0}),Ft.webpackInterface.store.dispatch({type:"entry:state:init"}),hideLoading();let Wi="[]";try{const{guide:Sr}=await requestUserCommonGuidesData();Wi=(Sr==null?void 0:Sr.workspace_guides)||"[]"}catch(Sr){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return initCommonGuide({store:Ft.webpackInterface.store,commonGuidesData:Wi,isDesign:!1,isPreview:!0}),{projectAlike:fn,projectMeta:br,projectShare:j}},renderPreview:(Ge,ot,_t,gt)=>{const bt=sharingVisibleCrashEffect(gt);if(bt)return bt;const Lt=new KeyboardManager;return _jsx(KeyboardManagerContext.Provider,{value:Lt,children:_jsx(TooltipsManagerProvider,{children:_jsx(Xe,{store:Se.store,projectAlike:Ge,projectMeta:ot,projectShare:gt})})})}}},Po=e=>{let{initialData:s,designOptions:w,previewOptions:C,sharing:j,api:{updateProjectBasicsInfo:Y}}=e;const{isMobile:$,isIOSClient:J,isStandAlone:le}=C;(le||J)&&(document.documentElement.style.height="100vh");const{runnerController:Se,messageBucket:Xe,webpackInterface:Ge,PreviewApp:ot}=(0,g.o)(m(C));return Co({api:{updateProjectBasicsInfo:Y}}),Object.assign(Ft,{runnerController:Se,messageBucket:Xe,webpackInterface:Ge,global:{popupHelper:Bi(),designOptions:w,previewOptions:C}}),Ft.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:C}}),{requestData:async()=>{const{user:_t,org:gt,preference:bt,project_basic:Lt,project_meta:Zt}=s;return await Fi({projectMetaCid:Zt.cid}),Ft.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:j}}),Ft.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:bt||{}}}),Object.assign(Ft,{user:_t||{},canEditByCurrentUser:!1,org:gt||void 0}),Ft.webpackInterface.store.dispatch({type:"entry:state:init"}),(0,Li.Z)(),{projectAlike:Lt,projectMeta:Zt}},renderPreview:(_t,gt,bt,Lt)=>{(0,Ni.K)(Lt);const Zt=new Zr.Sm,pn=new URLSearchParams(location.search),fn=$?"preview":pn.has("inspect")?"inspect":pn.has("comment")?"comment":"preview";return(0,Kt.jsx)(Zr.XC.Provider,{value:Zt,children:(0,Kt.jsx)(ji.Z,{children:(0,Kt.jsx)(ot,{store:Ge.store,previewMode:fn,projectAlike:_t,projectMeta:gt,projectShare:Lt})})})}}},Qs=async e=>{let{initialData:s,previewOptions:w,api:C,projectAccessToken:j,projectEncryptedPassword:Y,isPasswordRequired:$,$root:J,projectBasicCid:le,sharing:Se,password:Xe}=e;const Ge={isDesign:!0,isExperience:!1,isLoggedExperience:!1},{requestData:ot,renderPreview:_t}=initPreview({api:C,initialData:s,previewOptions:w,designOptions:Ge,sharing:Se,password:Xe}),{projectAlike:gt,projectMeta:bt,projectShare:Lt}=await ot({projectAccessToken:j,projectEncryptedPassword:Y,isPasswordRequired:$,projectBasicCid:le}),Zt=location.hash||"",pn=Zt&&Zt.startsWith("#screen=")&&Zt.substr(8);ReactDOM.render(_t(gt,bt,pn,Lt),J)},Oo=async e=>{let{initialData:s,designOptions:w,previewOptions:C,api:j,sharing:Y,$root:$}=e;const{requestData:J,renderPreview:le}=Po({api:j,initialData:s,previewOptions:C,designOptions:w,sharing:Y}),{projectAlike:Se,projectMeta:Xe}=await J(),Ge=location.hash||"",ot=Ge&&Ge.startsWith("#screen=")&&Ge.substr(8);f.render(le(Se,Xe,ot),$)};var hi=i(49650),Do=i(29402),xo=i(97663),Io=i(31529),Ao=i(7966),Ui=i(444);class Bo extends L.PureComponent{constructor(s){super(s);const{store:w,projectBasic:C,projectMeta:j,isHtmlZip:Y}=s,{screenKey:$,canvasKey:J}=(0,Ui.Qw)();this.state={visibleIsEmpty:!1};try{const le=(0,Ui.FZ)($);w.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:C,projectMeta:j,screenCid:le,canvasCid:J,isHtmlZip:Y}})}catch(le){this.state={visibleIsEmpty:!0}}}componentDidMount(){this.props.onComponentDidMount()}render(){const{store:s}=this.props;return this.state.visibleIsEmpty?(0,Ni.L)():(0,Kt.jsx)(Ai.zt,{store:s,children:(0,Kt.jsx)(Ao.Z,{children:(0,Kt.jsx)(Io.Z,{})})})}}var Ro=i(84649),qs=i(16426),Lo=i(98388),jo=function(e){return e[e.Design=0]="Design",e[e.Experience=1]="Experience",e}(jo||{}),Fo=i(29184),zo=i(11230);const No=e=>{let{initialData:s,designOptions:w,global:C,onUpdateSharing:j}=e;const{user:Y,org:$,team:J,preference:le,orgList:Se,user_fcg:Xe,org_fcg:Ge,space:ot,canEditByCurrentUser:_t}=s,{currentUser:gt,currentOrg:bt}=(0,zo.t)({user:Y,org:$});(0,Lo.PX)((0,Fo.F)()),Object.assign(MB,{user:gt||{},currentOrg:bt,canEditByCurrentUser:_t,global:{...C,popupHelper:Bi(),experienceLoginModalHelper:Ro.m}}),MB.action("current:update:state",{currentOrg:bt,currentTeam:J,currentUser:gt,orgList:Se,user_fcg:Xe,org_fcg:Ge,currentSpace:ot}),MB.action("update:design:options",{designOptions:w}),Y!=null&&Y.id&&MB.action("entry:init:preference",{preference:le}),j&&j()},ec=async e=>{let{designStore:s}=e,w="[]";try{const{guide:C}=await requestUserCommonGuidesData();w=C==null?void 0:C.workspace_guides}catch(C){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}await initCommonGuide({store:s,commonGuidesData:w,isDesign:!0,isPreview:!1})},tc=async e=>{let{type:s,projectBasicCid:w}=e;switch(s){case DesignType.Design:return requestProjectFullDataFlat(w);case DesignType.Experience:return requestExperienceFullDataFlat(w);default:throw new Error(s+" not found in known design types for "+w)}},Uo=e=>{let{designOptions:s,previewOptions:w,initialData:C,onComponentDidMount:j}=e,Y=!1;const $=(0,xo.t)(MB);return No({initialData:C,designOptions:s,global:{designOptions:s,previewOptions:w}}),{requestData:async()=>{const{project_basic:J,project_meta:le}=C;return To({store:$,isDesign:!0,isPreview:!1}),await Fi({projectMetaCid:le.cid}),Object.assign(MB,{tag:J==null?void 0:J.version}),MB.action("update:design:options",{designOptions:MB.global.designOptions}),Y=!0,{projectAlike:J,projectMeta:le}},renderDesign:J=>{let{projectAlike:le,projectMeta:Se}=J;return Y?(0,Kt.jsx)(Bo,{store:$,projectBasic:le,projectMeta:Se,onComponentDidMount:j,isHtmlZip:!0}):null}}};var Ko=i(6725),Go=i(34788),Wo=i.n(Go);class Vo extends L.PureComponent{render(){const{isCollapse:s,renderDesign:w,projectAlike:C,projectMeta:j}=this.props;return(0,Kt.jsx)("div",{ref:Y=>this.$element=Y,className:Wo()("mb-design-page",{"is-collapse":s}),children:w({projectAlike:C,projectMeta:j})})}}var Ho=i(52126),Zo=i(5844),Jo=i(98142);class Yo extends L.PureComponent{constructor(s){super(s),(0,hi.Z)(this,"handleWheelChanged",J=>{if(J.deltaX===0)return;const le=document.getElementById("workspace"),Se=le.scrollLeft+le.offsetWidth===le.scrollWidth&&J.deltaX>0,Xe=le.scrollLeft===0&&J.deltaX<0;(Se||Xe)&&J.preventDefault()}),(0,hi.Z)(this,"handleDesignDidMount",()=>{MB.reduxEntry.setEntryMap(Ho.T),this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,hi.Z)(this,"keyboardManager",new Zr.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,projectAlike:null,projectMeta:null};const{designOptions:w,initialData:C,previewOptions:j}=s,{requestData:Y,renderDesign:$}=Uo({initialData:C,designOptions:w,previewOptions:j,onComponentDidMount:this.handleDesignDidMount});this.requestData=Y,this.renderDesign=$}componentDidMount(){Promise.all([this.requestData()]).then(s=>{let[{projectAlike:w,projectMeta:C}]=s;this.setState({projectAlike:w,projectMeta:C},()=>{this.setState({isDataLoaded:!0})});const j=document.getElementById("workspace");j&&j.addEventListener("wheel",this.handleWheelChanged)})}componentWillUnmount(){const s=document.getElementById("workspace");s&&s.removeEventListener("wheel",this.handleWheelChanged,{capture:!0})}render(){const{isLoading:s,isDataLoaded:w,isDesignCollapse:C,projectAlike:j,projectMeta:Y}=this.state,{renderDesign:$}=this;return(0,Kt.jsx)(Zr.XC.Provider,{value:this.keyboardManager,children:(0,Kt.jsx)(ji.Z,{children:(0,Kt.jsxs)(Ko.X,{className:"example-app",children:[w&&(0,Kt.jsx)(Vo,{isCollapse:C,projectAlike:j,projectMeta:Y,renderDesign:$}),s&&(0,Kt.jsxs)("div",{className:"loading-container",children:[(0,Kt.jsx)(Do.S6,{className:"mb-loading"}),(0,Jo.T)()&&(0,Kt.jsx)(Zo.s,{className:"chris-icon"})]})]})})})}}var $o=i(92029);const Jr="hzv3",Xo="pid",Qo="pbj",qo="psol",nc="psv2am",rc=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),vr=()=>(0,$o.hK)(window[Jr],"missing htmlZipV3 data"),es=async()=>(vr(),window[Jr][Xo]),Ki=async()=>{vr();const{project_basic:e,screen_aligns:s,project_metas:w,screen_glues:C,screen_metas:j}=window[Jr][Qo],Y=window[Jr][qo];return{projectBasic:e,screenAlignList:s,projectMetaList:w,screenGlueList:C,screenMetaList:j,projectScreenObjectList:Y}},ic=async()=>(vr(),{artboards:Object.values(window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP]).map(e=>{let{artboard:s}=e;return s})}),oc=async e=>(vr(),window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP][e]),sc=async()=>{vr();const{project_share:e}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:e}},ts={requestPreviewInitialData:es,requestProjectFullDataByAccessToken:async e=>{let{projectEncryptedPassword:s}=e;const{projectMetaList:[w],screenGlueList:C,screenMetaList:j,projectScreenObjectList:Y,projectBasic:$,screenAlignList:J}=await Ki(),{password:le}=$;if(le&&s!==le)throw new Error("error password");return{projectMeta:w,screenGlueList:C,screenMetaList:j,projectScreenObjectList:Y,projectBasic:$,screenAlignList:J}},fetchDataProjectBasic:Ki};var ns=i(61033),rs=i(49373),is=i(89719),os=i(89500);i.p="./mb-proto2/";const ss=document.getElementById("workspace"),cs=async()=>{var e,s;const w=d({isHTMLZip:!0});(0,_.tq)()&&((e=document.querySelector("body"))==null||e.classList.add("mobile"));let C=await(0,b.vn)();const{projectUpper:j,projectMeta:Y}=C;C={...C,projectName:j.name,project_basic:j,project_meta:Y};const{sharing:$}=await(0,is.ec)({project:j}),{projectName:J}=C,{generateLang:le}=await os.Ar.loadLLG();await le(),document.title=""+(0,rs.FQ)(j.name||j.title),!ENV.IS_ON_PREMISES&&(0,ns.wb)();const Se=(s=new URLSearchParams(location.search))==null?void 0:s.get("view_mode"),Xe=window.HZv5_PREVIEW_MODE||"",Ge=Se?Se==="device":Xe==="device",ot={isDesign:!0,isExperience:!1,isLoggedExperience:!1};Ge?((0,Li.v)(J),await Oo({initialData:C,designOptions:ot,previewOptions:w,api:ts,sharing:$,$root:document.getElementById("workspace")})):f.render((0,Kt.jsx)(Yo,{initialData:C,designOptions:ot,previewOptions:w}),ss)};document.addEventListener("DOMContentLoaded",async()=>{await cs()})},70721:(se,q,i)=>{"use strict";i.d(q,{Z:()=>B});var f=i(37780),b=i(77646),L=i(53404),u=i(51043);const o=y=>y.container.previewSetting.isShowSplash,E=(0,b.P1)([L.CL,L.vo,L.gz,o,L.GP,L.yT,L.Uq,L.EB],(y,k,_,d,m,g,D,N)=>{let{activePageKey:Z,activeCanvasKey:G}=D;return{screen:y,project:k,isImmersive:_,isShowSplash:d,previewOptions:m,isPanelPreviewMode:g,activePageKey:Z,activeCanvasKey:G,isPreviewCombo:N}}),B=(0,f.$j)(y=>E(y))(u.Z)},91166:(se,q,i)=>{"use strict";i.d(q,{Z:()=>u});var f=i(37780),b=i(53404),L=i(23329);const u=(0,f.$j)(o=>{const E=(0,b.kc)(o),B=(0,b.GP)(o),y=(0,b.Ds)(o),k=(0,b.ts)(o),_=(0,b.Nu)(o),d=(0,b.yT)(o);return{user:k,mode:y,theme:_,previewOptions:B,previewSetting:E,isHiddenToolBar:(0,b.qe)(o),isPanelPreviewMode:d}})(L.Z)},16589:(se,q,i)=>{"use strict";i.d(q,{Z:()=>u});var f=i(37780),b=i(53404),L=i(81054);const u=(0,f.$j)(o=>{const E=(0,b.kc)(o),B=(0,b.GP)(o),y=(0,b.S7)(o),k=(0,b.EB)(o);return{previewOptions:B,previewSetting:E,isCommunityComboPreview:y,isPreviewCombo:k}})(L.Z)},86478:(se,q,i)=>{"use strict";i.d(q,{HM:()=>m});var f=i(63077),b=i(45090),L=i(7485),u=i(46198),o=i(8090),E=i(12317),B=i(35269);const y=document.getElementById("workspace"),k=(0,b.ZP)(f.Z).withConfig({displayName:"utils__CustomizedCrashedPageStyle",componentId:"sc-1g7yepo-0"})([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),_=(g,D,N)=>{ReactDOM.render(_jsx(_Fragment,{children:_jsx(k,{locale:getMBLocale(),errorType:g.status||401,customTitle:D,customDes:N})}),y)},d=async g=>{var D;let N,Z,G,p,a;try{({user:a}=await fetchGetJSON("/api/web/v3/initial"))}catch(P){console.warn("[crashedPageWithUser]",P);const O=ENV.IS_WONDER_SHARE?LoginModalWS:LoginModal;N=()=>{ReactDOM.render(_jsx(O,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},Z=I18N.Common.signin,p=()=>{ReactDOM.render(_jsx(O,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},G=I18N.Common.signup,a={}}ReactDOM.render(_jsx(_Fragment,{children:_jsx(k,{locale:getMBLocale(),errorType:g.status||401,identity:1,account:(D=a)==null?void 0:D.email,primaryBtnText:Z,primaryBtnClick:N,secondaryBtnText:G,secondaryBtnClick:p})}),y)},m=(g,D)=>{let N="";g==="zh-CN"?N="/":g==="jp"?N="https://mockitt.wondershare.jp":N="https://mockitt.wondershare.com",location.replace(N)}},73542:(se,q,i)=>{"use strict";i.d(q,{Fh:()=>m,JT:()=>o,T_:()=>y,Xr:()=>B,Yi:()=>k,uP:()=>E});var f=i(59387),b=i(94223),L=i(77321);const u=/^image\/(png|jpg|jpeg|gif|svg|svg\+xml)$/i,o=2,E=5,B=(g,D,N,Z,G)=>{if(!u.test(g.type))throw Object.assign(new Error(I18N.dUtils.damaged_file),{desc:I18N.dUtils.support_file_type,asset:g});const p=(0,f.tD)(N,Z),{trial:a,plan:P,maxPicBytes:O}=p,R=O/1024/1024,K=(0,f.pq)(P,a),Q=!!MB.currentOrg,{current_plan:V}=MB.user,ee=Q?R:V==="free"?o:E;if(g.size>ee*1024*1024)throw D==="library"?(ModalHelper&&ModalHelper.libraryNotice&&ModalHelper.libraryNotice("\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8FC7\u5927","error"),new Error("dashboard upload failed")):Z?(K&&(K===I18N.Common.business_plan||K===I18N.Common.business_trial_plan)?MB.action("modal:update:state",{orgFullBeyondNotice:{isOpen:!0,beyondType:"picSize"}}):MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:L.U2.OrgMaxPicSize}}),new Error("NoErrorTips")):(MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:L.U2.SoloMaxPicSize}}),new Error("NoErrorTips"))},y=async g=>{const D=await new Promise((Z,G)=>{const p=new FileReader;p.onerror=()=>G(new Error(I18N.dUtils.unsupported)),p.onload=a=>Z(a.target.result),p.readAsDataURL(g)}),N=await new Promise((Z,G)=>{const p=new Image;p.onerror=()=>G(new Error(I18N.dUtils.unsupported)),p.onload=()=>Z(p),p.src=D});return{data:D,width:N.width,height:N.height}},k=g=>{g.payload&&g.payload.status===401?MB.global.popupHelper.alertAsync({title:I18N.dUtils.err_info_modal.INVALID_COOKIE.title,desc:I18N.dUtils.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dUtils.confirm}).then(()=>{(0,b.l)(location.origin+"/signin")}):MB.global.popupHelper.alertAsync({title:g.message,desc:g.desc,isHTML:g.isHTML,confirmText:g.confirmText}).then(()=>{g.type==="free"&&MB.global.popupHelper.chargeAsync({mode:"solo",productId:8988,hours:"yearly",payEntrance:"\u56FE\u7247\u9650\u5236-\u5347\u7EA7\u4E2A\u4EBA"})})},_=(g,D)=>g.endsWith(D)?g:g+("-"+D),d=(g,D)=>g.startsWith("#")?"#"+_(g.slice(1),D):null,m=(g,D)=>{if(g.attributes){const N=g.getAttribute("id");N&&N.length>0&&g.setAttribute("id",_(N,D));const Z=g.getAttribute("class");if(Z&&Z.length>0){const p=Z.split(/\s+/).map(a=>_(a,D)).join(" ");g.setAttribute("class",p)}for(const p of["href","xlink:href"]){const a=g.getAttribute(p);if(a&&a.length>0){const P=d(a,D);P&&g.setAttribute(p,P)}}const G=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke","style"];for(const p of G){const a=g.getAttribute(p);if(a&&a.length>0){const P=a.replace(/url\((.*?)\)/gi,(O,R)=>{const K=d(R,D);return K==null?O:"url("+K+")"});P&&g.setAttribute(p,P)}}for(const p of["begin","end"]){const a=g.getAttribute(p);if(a&&a.length>0){const P=a.split(/\s*;\s+/).map(O=>{if(O.endsWith(".end")||O.endsWith(".start")){const[R,K]=O.split(".");return _(R,D)+"."+K}return O});g.setAttribute(p,P.join("; "))}}if(g.childNodes)for(const p of g.childNodes)m(p,D)}}},59387:(se,q,i)=>{"use strict";i.d(q,{EX:()=>o,NF:()=>B,Vg:()=>_,pq:()=>y,tD:()=>k});var f=i(53375),b=i.n(f),L=i(80824),u=i(73542);const o=(d,m,g)=>{const{is_trial_enabled:D}=d||{};if(D||!E(m==null?void 0:m.plan,m==null?void 0:m.trial))return!1;const{trial_end_on:Z}=m;return Z?!1:!g.some(p=>{const a=B(p),{value_in_cents:P}=p;return["paid"].includes(a)||P>10})},E=(d,m)=>d==="org_free"&&!m,B=d=>{if(E(d==null?void 0:d.plan,d==null?void 0:d.trial))return"free";const{paid:m,trial:g,value_in_cents:D,next_billing_on:N,plan:Z}=d||{},G=b()(N).startOf("day"),p=b()().startOf("day"),a=G.isSameOrBefore(p);let P;return a?(P=D>10?"paidExpire":"trialExpire",Z||(P="defaultExpire")):(m&&(P="paid"),g&&(P="trial")),P},y=(d,m)=>d==="org_free"&&!m?I18N.Common.free_plan:d==="org_lite"?I18N.Common.team_plan:d==="org_full"?I18N.Common.business_plan:d==="org_free"&&m?I18N.Common.business_trial_plan:I18N.Common.business_plan,k=(d,m)=>{if(m&&m.cid){const{limitation:g,plan:D,trial:N,paid:Z,next_billing_on:G,value_in_cents:p}=m;return{storage:g.storage,isExportWatermark:g.is_export_watermark,maxPicBytes:g.max_pic_bytes,maxScreenCount:g.max_p2page_count||3,maxProjectVersionCount:g.max_project_version_count,maxMktCount:g.max_mkt_count,plan:D,trial:N,paid:Z,next_billing_on:G,value_in_cents:p,maxSharingCount:g.max_project_share_count,maxProjectCount:g.max_project_count,maxCanvasCount:g.max_p2canvas_count||20}}if(d&&d.cid){const{limitation:g,current_plan:D,trial:N,paid:Z,next_billing_on:G,free_projects_count:p}=d;return{storage:g.storage,current_plan:D,trial:N,paid:Z,next_billing_on:G,isExportWatermark:!1,maxPicBytes:D==="solo"?u.uP:u.JT,maxScreenCount:(g==null?void 0:g.max_p2page_count)||3,maxProjectVersionCount:0,maxMktCount:0,value_in_cents:0,maxSharingCount:D==="solo"?3:1,maxProjectCount:p,maxCanvasCount:g.max_p2canvas_count||20}}return{storage:0,isExportWatermark:!1,maxPicBytes:0,maxScreenCount:0,maxProjectVersionCount:0,maxMktCount:0,plan:"",trial:!1,paid:!1,next_billing_on:"",value_in_cents:0,maxSharingCount:1,maxProjectCount:3,maxCanvasCount:20}},_=(d,m)=>{let g;return m&&(g=E(m.plan,m.trial)?3:30),!m&&d&&(g=(0,L.r)(d)==="free"?3:30),g}},80824:(se,q,i)=>{"use strict";i.d(q,{r:()=>u});var f=i(53375),b=i.n(f);const L=o=>{if(!o)return"\u514D\u8D39\u7248";const{edition:E,current_plan:B,trial:y}=o;if(E==="premium_lifetime")return"\u5C0A\u4EAB\u7EC8\u8EAB\u7248";if(E==="standard_lifetime")return"\u7EC8\u8EAB\u7248";if(B==="free")return"\u514D\u8D39\u7248";if(B==="solo")return y?"\u8BD5\u7528\u7248":"\u6807\u51C6\u7248"},u=o=>{if(!o)return"free";const{plan:E,paid:B,trial:y,next_billing_on:k}=o,_=b()(k).startOf("day"),d=b()().startOf("day"),m=_.isSameOrBefore(d);let g;return m?g="free":(B&&(g="paid"),E==="solo"&&y&&(g="trial"),E==="free"&&(g="free")),g}},9569:(se,q,i)=>{"use strict";i.d(q,{C:()=>L,S:()=>u});var f=i(1372);const b=o=>("0"+parseInt(o).toString(16)).slice(-2),L=o=>!o||o==="rgba(0, 0, 0, 0)"||o==="transparent"?"transparent":(o=o.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+b(o[1])+b(o[2])+b(o[3])),u=o=>(0,f.LW)((0,f.LS)(o))},98388:(se,q,i)=>{"use strict";i.d(q,{PX:()=>N,z:()=>g});var f=i(53375),b=i.n(f),L=i(43827),u=i.n(L),o=i(57480),E=i.n(o),B=i(29184);function y(Z){return Z<10?"0"+Z:Z}function k(Z,G,p){const a=new Date(Z),P=a.getFullYear(),O=y(a.getMonth()+1),R=y(a.getDate()),K=y(a.getHours()),Q=y(a.getMinutes());return G==="time"?K+":"+Q:G==="datetime"?""+O+p+R+" "+K+":"+Q:""+P+p+O+p+R+" "+K+":"+Q}const _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"];function d(Z,G){const p=new Date(Z),a=p.getFullYear(),P=_[p.getMonth()],O=y(p.getDate()),R=y(p.getHours()),K=y(p.getMinutes());return G==="time"?R+":"+K:G==="datetime"?P+" "+O+" "+R+":"+K:P+" "+O+", "+a+" "+R+":"+K}function m(Z,G,p){if(G===void 0&&(G="datetime"),p===void 0&&(p="."),!Z)return"";let a=Z;typeof Z!="number"&&(a=parseInt(Z,10)),a.length===10&&(a=a*1e3);let P="";const O=(0,B.F)();return O==="zh-CN"?P=k(a,G,p):(O==="en-US"||O==="en")&&(P=d(a,G,p)),P}function g(Z){const p=D()-Z;let a="";if(p<=3e3)a=I18N.Common.just_now||"\u521A\u521A";else if(p>3e3&&p<6e4)a=Math.floor(p/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(p>=6e4&&p<36e5)a=Math.floor(p/6e4)+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{a=m(Z,"full");const P=new Date(new Date().setHours(0,0,0,0)).getTime(),O=new Date(new Date().getFullYear(),0,1).getTime();Z>O&&(a=m(Z,"datetime")),Z>P&&(a=m(Z,"time"))}return a}function D(){return new Date().getTime()}const N=Z=>{b().locale(Z==="zh-CN"?"zh-cn":Z),b().extend(u()),b().extend(E())}},18166:(se,q,i)=>{"use strict";i.d(q,{$m:()=>_,AM:()=>K,CS:()=>G,EG:()=>Q,Hi:()=>N,Lf:()=>D,P2:()=>g,Px:()=>R,Vx:()=>L,YC:()=>y,_i:()=>k,a4:()=>m,k4:()=>a,lV:()=>Z,qv:()=>o,tX:()=>B,wd:()=>u,y3:()=>E});var f=i(46506),b=i(11685);const L=V=>{var ee;return(V==null?void 0:V.asFolder)||(V==null||(ee=V.hotAttr)==null?void 0:ee.asFolder)},u=V=>B(V,W=>{var H;if(W.data&&!L(W.data)&&((H=W.data)==null?void 0:H.bunch)===b.l.RbPage)return W.data})[0],o=V=>B(V,ee=>ee==null?void 0:ee.data),E=V=>B(V,ee=>ee.cid),B=(V,ee)=>{var W;const H=[],I=ee(V);return I&&H.push(I),V==null||(W=V.children)==null||W.forEach(X=>{H.push(...B(X,ee))}),H},y=(V,ee)=>{const W=[ee];for(;W.length;){const H=W.pop();if(H.cid===V)return H;W.push(...H.children)}},k=V=>{let ee=sdkStore.getHotItem(V);const W=[];for(;ee&&((H=ee.hotAttr)==null?void 0:H.bunch)===b.l.RbPage;){var H,I;const X=sdkStore.getHotItem(ee.sup);if(((I=X.hotAttr)==null?void 0:I.bunch)!==b.l.RbPage)break;W.push(X),ee=X}return W},_=(V,ee)=>{const W=[];if(!ee)return[V,W];const H=new RegExp((0,f.y)(ee),"i");return[d(V,X=>H.test(X.name),W),W]},d=function(V,ee,W,H){W===void 0&&(W=[]),H===void 0&&(H=!1);const{data:I,children:X,...Ee}=V,te=I&&ee(I),pe=X.map(he=>d(he,ee,W,te||H)).filter(he=>he);return te?(pe.length||W.push(I.cid),{data:I,children:X,...Ee}):pe.length?{data:I,children:pe,...Ee}:(H&&W.push(I.cid),null)},m=V=>{let ee=1;if(V.children.length){const W=V.children.map(H=>m(H));ee+=Math.max.apply(null,W)}return ee},g=V=>{let ee=1;const{sub:W}=V;if(W.length){const H=W.map(I=>{var X;const Ee=sdkStore.getHotItem(I);return((X=Ee.hotAttr)==null?void 0:X.bunch)===b.l.RbPage?g(Ee):0});ee+=Math.max.apply(null,H)}return ee},D=V=>k(V).length+1,N=V=>{const ee=V.sup,{sub:W}=sdkStore.getHotItem(ee);return W.map(H=>{const{hotAttr:I,key:X,sup:Ee,sub:te}=sdkStore.getHotItem(H);return I.bunch===b.l.RbPage?{cid:X,...I,sup:Ee,sub:te}:null}).filter(H=>H).sort((H,I)=>H.zIndex-I.zIndex)},Z=(V,ee)=>{const W=y(V,ee),H=N(W.data,ee);return H[H.length-1].cid===V},G=(V,ee)=>{let W=[];return V&&V.length>0&&(W=V.map(H=>{const I=y(H||"root",ee);return p(I)})),new Set(W.flat())},p=V=>{var ee;const W=[];return V&&((ee=V.children)==null?void 0:ee.length)>0&&V.children.forEach(H=>{var I;W.push((I=H.data)==null?void 0:I.cid),W.push(...p(H))}),W},a=V=>{var ee,W;const H=[];if(V&&(((ee=V.children)==null?void 0:ee.length)>0||((W=V.data)==null?void 0:W.orientation)==="folder")){var I;V.data&&H.push(V.data.cid),((I=V.children)==null?void 0:I.length)>0&&V.children.forEach(X=>{H.push(...a(X))})}return H},P=V=>{const ee=[],{data:W,children:H,...I}=V;return W&&ee.push({data:W,children:[],...I}),(H==null?void 0:H.length)>0&&H.forEach(X=>{ee.push(...P(X))}),ee},O=(V,ee)=>{const W=new RegExp(escapeRegex(ee),"i");return{cid:"root",children:P(V).filter(X=>{let{data:Ee}=X;return W.test(Ee.name)}),data:void 0}},R=V=>{var ee,W,H;if(V){if(!((ee=V.data)!=null&&ee.asFolder)&&((W=V.data)==null?void 0:W.bunch)==="rbPage")return V.cid;if(((H=V.children)==null?void 0:H.length)>0)for(const I of V.children){const X=R(I);if(X)return X}}},K=V=>new URLSearchParams(location.search).get("selection")?V.filter(H=>!sdkStore.isTrashed(H)):V.filter(H=>!(sdkStore.isTrashed(H)||sdkStore.getHotItem(H).hotAttr.asFolder)),Q=V=>{if(V){const{screen_visible_switch:ee,screen_visible_list:W}=V;if(ee&&K(W).length===0)return!0}return!1}},9733:(se,q,i)=>{"use strict";i.d(q,{A6:()=>u,GQ:()=>L,RD:()=>B,cM:()=>E,iO:()=>y,q:()=>o});const b=function(){const k={getItem(){return null},setItem(){},removeItem(){},clear(){}};return function(){try{return window.localStorage.setItem("localStorage",1),window.localStorage.removeItem("localStorage"),!0}catch(d){return!1}}()?window.localStorage:k}(),L=k=>b.getItem(k),u=(k,_)=>b.setItem(k,_),o=k=>b.removeItem(k),E={String:1,Number:2,Boolean:3,Object:4,Array:5},B=(k,_,d)=>{const m=b.getItem(k);if(m===null)return _;switch(d){case E.String:return m;case E.Number:return Number(m);case E.Boolean:return JSON.parse(m);case E.Object:return JSON.parse(m);case E.Array:return JSON.parse(m)}},y=(k,_,d)=>{switch(d){case E.String:return b.setItem(k,String(_));case E.Number:return b.setItem(k,Number(_));case E.Boolean:return b.setItem(k,JSON.stringify(_));case E.Object:return b.setItem(k,JSON.stringify(_));case E.Array:return b.setItem(k,JSON.stringify(_))}}},68543:(se,q,i)=>{"use strict";i.d(q,{B0:()=>m,CL:()=>o,Dt:()=>k,ED:()=>L,IF:()=>g,Md:()=>D,Rv:()=>u,V5:()=>b,_j:()=>N,d:()=>f,i7:()=>E,li:()=>Z,tq:()=>y,vU:()=>B});const f=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),b=()=>/(Macintosh)/i.test(navigator.userAgent),L=()=>/(Windows)/i.test(navigator.userAgent),u=()=>/(Lark)/i.test(navigator.userAgent),o=()=>/MicroMessenger/i.test(navigator.userAgent),E=()=>/Chrome/i.test(navigator.userAgent),B=()=>/Firefox/i.test(navigator.userAgent),y=()=>{const G=new URLSearchParams(location.search);return G&&G.get("inapp")==="1"&&(i.g.isInAPP=!0),/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent)||window.isInAPP},k=()=>/Android/i.test(navigator.userAgent),_=()=>/(iPad)/.test(navigator.userAgent),d=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),m=()=>!!(window.webkit&&window.webkit.messageHandlers),g=()=>navigator.standalone,D=()=>/\/uichina$/.test(location.pathname),N=()=>/\/forum$/.test(location.pathname),Z=()=>/(MobileClient)/.test(navigator.userAgent)},60962:(se,q,i)=>{"use strict";i.d(q,{BC:()=>E,fK:()=>B});var f=i(51904),b=i(59387),L=i(80824),u=i(77321);const o={paid:"paid",trial:"trial",free:"free",paidExpire:"expired",trialExpire:"expired",defaultExpire:"expired"};(0,f.Wb)();const E=y=>{let{currentUser:k,selectedOrg:_,limitType:d,planName:m}=y;const g=_?(0,b.NF)(_):(0,L.r)(k),D=o[g],Z={limitReason:(0,u.hd)({limitType:d,user:k,org:_}),currentPlanProduct:m,currentPlanCategory:_?"org":"solo",currentType:D,currentEditMember:(_==null?void 0:_.totalSeats)||"",currentViewMember:(_==null?void 0:_.totalViewerSeats)||""};return f.xd.limitPopupNew(Z)},B=y=>{let{objectClick:k,limitType:_,currentUser:d,selectedOrg:m,planName:g}=y;const D=m?(0,b.NF)(m):(0,L.r)(d),N=o[D],Z=(0,u.hd)({limitType:_,user:d,org:m}),G={objectClick:k,limitReason:Z,currentPlanProduct:g,currentPlanCategory:m?"org":"solo",currentType:N,currentEditMember:(m==null?void 0:m.totalSeats)||"",currentViewMember:(m==null?void 0:m.totalViewerSeats)||""};return f.xd.limitPopupClick(G)}},61033:(se,q,i)=>{"use strict";i.d(q,{Mn:()=>y,U1:()=>L,tv:()=>u,wb:()=>b});var f=i(25101);const b=ENV.NO_TRACK?()=>{}:f.wb,L=ENV.NO_TRACK?()=>{}:function(){(0,f.U1)(...arguments)},u=ENV.NO_TRACK?()=>{}:f.pj,o=ENV.IS_WONDER_SHARE?k=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:k,transport_type:"beacon"})}:()=>{},E={"https://mockitt.wondershare.com/proto":"B3-V8\u539F\u578B\u5185\u5206\u4EAB"},B=()=>{const k=Object.keys(E).sort((_,d)=>d.length-_.length);return E[k.find(_=>window.location.href.indexOf(_)!==-1)]},y=async k=>{try{await fetch("https://mockitt.wondershare.com/invite_track?entry="+B()+"&entry_term="+k)}catch(_){console.error(_)}}},30388:(se,q,i)=>{"use strict";i.d(q,{H:()=>E,n8:()=>u});const{Blob:f,FileReader:b}=window,L=B=>y=>new Promise((k,_)=>{const d=new b;d.addEventListener("error",_),d.addEventListener("load",()=>k(d.result)),d[B](y)}),u=L("readAsText"),o=L("readAsDataURL"),E=L("readAsArrayBuffer")},27444:(se,q,i)=>{"use strict";i.d(q,{Up:()=>N,Uv:()=>d,Zv:()=>L,eO:()=>p,z6:()=>b,zd:()=>_});const f=(a,P,O)=>{if(a[P]===O)return a;const R=[...a];return R[P]=O,R},b=(a,P)=>P>=0&&P<=a.length-1?[...a.slice(0,P),...a.slice(P+1)]:a,L=(a,P,O)=>[...a.slice(0,P),O,...a.slice(P)],u=(a,P,O)=>O===P?a:O<P?[...a.slice(0,O),...a.slice(O+1,P+1),a[O],...a.slice(P+1)]:[...a.slice(0,P),a[O],...a.slice(P,O),...a.slice(O+1)],o=(a,P)=>[...a,P],E=(a,P)=>[P,...a],B=a=>{if(a.length===0)return a;const P=[...a];return P.pop(),P},y=a=>{if(a.length===0)return a;const P=[...a];return P.shift(),P},k=(a,P)=>P&&P.length?[...a,...P]:a,_=(a,P)=>a.includes(P)?a:[...a,P],d=(a,P)=>{const O=a.indexOf(P);return~O?[...a.slice(0,O),...a.slice(O+1)]:a},m=(a,P,O)=>{const R=a.indexOf(O);return~R?u(a,P,R):a},g=(a,P)=>{const O=a.findIndex(P);return~O?[...a.slice(0,O),...a.slice(O+1)]:a},D=(a,P,O)=>{const R=a.findIndex(P);return~R?u(a,O,R):a},N=(a,P,O)=>{const R=a.findIndex(P);if(!~R||a[R]===O)return a;const K=[...a];return K[R]=O,K},Z=(a,P,O)=>{const R=a.findIndex(P);if(!~R)return[...a,O];if(a[R]===O)return a;const K=[...a];return K[R]=O,K},G=(a,P,O)=>a.find(P)===void 0?[...a,O]:a,p=(a,P)=>{const O=[];for(let R=0,K=a.length;R<K;R+=P)O.push(a.slice(R,R+P));return O}},92029:(se,q,i)=>{"use strict";i.d(q,{AY:()=>G,Bk:()=>Z,M0:()=>H,Z_:()=>o,_L:()=>k,hK:()=>g});var f=i(53705),b=i(11972);const L=(te,pe,he)=>{throw new Error("[verify|"+te+"]"+(pe?" "+pe+";":"")+" "+(he||""))},u=(te,pe)=>(he,oe)=>{pe(he)||L(te,oe,"get: "+(0,b.yY)(he))},o=u("String",f.HD),E=u("Boolean",f.jn),B=u("Truthy",f.fQ),y=u("Number",f.hj),k=u("Integer",f.U),_=u("RegExp",f.Kj),d=u("ArrayBuffer",f.eP),m=u("ObjectAlike",f.$N),g=u("BasicObject",f.i3),D=(te,pe,he)=>{isObjectKey(te,pe)||L("ObjectKey",he,"expect to have key: "+pe)},N=(te,pe,he)=>{isObjectContain(te,pe)||L("ObjectContain",he,"expect to contain: "+describe(pe))},Z=u("Array",f.PH),G=(te,pe,he)=>{(0,f._e)(te,pe)||L("ArrayLength",he,"expect length: "+pe+", get: "+((0,f.PH)(te)?te.length:(0,b.yY)(te)))},p=u("Function",f.BV),a=u("PromiseAlike",f.om),P=(te,pe,he)=>{isOneOf(te,pe)||L("OneOf",he,"expect one of: ["+pe+"], get: "+describe(te))},O=(te,pe)=>{isFunctionThrow(te)||L("DoThrow",pe)},R=(te,pe)=>{isFunctionThrow(te)&&L("DoNotThrow",pe)},K=async(te,pe)=>{await isFunctionThrowAsync(te)||L("DoThrowAsync",pe)},Q=async(te,pe)=>{await isFunctionThrowAsync(te)&&L("DoNotThrowAsync",pe)},V=(te,pe)=>"\nactual: "+(0,b.yY)(te)+"\nexpect: "+(0,b.yY)(pe),ee=(te,pe,he)=>{isStrictEqual(te,pe)||L("StrictEqual",he,V(te,pe))},W=(te,pe,he)=>{isStrictEqual(te,pe)&&L("NotStrictEqual",he,V(te,pe))},H=function(te,pe,he){he===void 0&&(he="should stringify equal"),(0,f.LP)(te,pe)||L("StringifyEqual",he,V(te,pe))},I=function(te,pe,he){he===void 0&&(he="should not stringify equal"),isStringifyEqual(te,pe)&&L("NotStringifyEqual",he,V(te,pe))},X=(te,pe,he)=>{te&&te.includes&&te.includes(pe)||L("Includes",he,"expect "+describe(te)+" to include "+pe)},Ee=(te,pe,he)=>{te&&te.includes&&!te.includes(pe)||L("NotIncludes",he,"expect "+describe(te)+" to not include "+pe)}},49548:(se,q,i)=>{"use strict";i.d(q,{Qq:()=>L,mg:()=>b});var f=i(1372);const b=o=>{let[E,B]=o;return E?(0,f.LW)(B):""},L=o=>{let{isEnable:E,color:B}=o;return[Number(E),(0,f.SF)(B)]},u=o=>{let[E,B]=o;return{isEnable:!!E,color:hex8JSONFromNumber(B)}}},55651:function(se){(function(q,i){se.exports=i()})(this,function(){"use strict";var q=Array.prototype.slice;function i(t,n){n&&(t.prototype=Object.create(n.prototype)),t.prototype.constructor=t}function f(t){return o(t)?t:Ne(t)}i(b,f);function b(t){return E(t)?t:He(t)}i(L,f);function L(t){return B(t)?t:ke(t)}i(u,f);function u(t){return o(t)&&!y(t)?t:ae(t)}function o(t){return!!(t&&t[_])}function E(t){return!!(t&&t[d])}function B(t){return!!(t&&t[m])}function y(t){return E(t)||B(t)}function k(t){return!!(t&&t[g])}f.isIterable=o,f.isKeyed=E,f.isIndexed=B,f.isAssociative=y,f.isOrdered=k,f.Keyed=b,f.Indexed=L,f.Set=u;var _="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",m="@@__IMMUTABLE_INDEXED__@@",g="@@__IMMUTABLE_ORDERED__@@",D="delete",N=5,Z=1<<N,G=Z-1,p={},a={value:!1},P={value:!1};function O(t){return t.value=!1,t}function R(t){t&&(t.value=!0)}function K(){}function Q(t,n){n=n||0;for(var r=Math.max(0,t.length-n),c=new Array(r),l=0;l<r;l++)c[l]=t[l+n];return c}function V(t){return t.size===void 0&&(t.size=t.__iterate(W)),t.size}function ee(t,n){if(typeof n!="number"){var r=n>>>0;if(""+r!==n||r===4294967295)return NaN;n=r}return n<0?V(t)+n:n}function W(){return!0}function H(t,n,r){return(t===0||r!==void 0&&t<=-r)&&(n===void 0||r!==void 0&&n>=r)}function I(t,n){return Ee(t,n,0)}function X(t,n){return Ee(t,n,n)}function Ee(t,n,r){return t===void 0?r:t<0?Math.max(0,n+t):n===void 0?t:Math.min(n,t)}var te=0,pe=1,he=2,oe=typeof Symbol=="function"&&Symbol.iterator,me="@@iterator",Oe=oe||me;function we(t){this.next=t}we.prototype.toString=function(){return"[Iterator]"},we.KEYS=te,we.VALUES=pe,we.ENTRIES=he,we.prototype.inspect=we.prototype.toSource=function(){return this.toString()},we.prototype[Oe]=function(){return this};function Ce(t,n,r,c){var l=t===0?n:t===1?r:[n,r];return c?c.value=l:c={value:l,done:!1},c}function et(){return{value:void 0,done:!0}}function De(t){return!!je(t)}function ve(t){return t&&typeof t.next=="function"}function xe(t){var n=je(t);return n&&n.call(t)}function je(t){var n=t&&(oe&&t[oe]||t[me]);if(typeof n=="function")return n}function We(t){return t&&typeof t.length=="number"}i(Ne,f);function Ne(t){return t==null?ie():o(t)?t.toSeq():Je(t)}Ne.of=function(){return Ne(arguments)},Ne.prototype.toSeq=function(){return this},Ne.prototype.toString=function(){return this.__toString("Seq {","}")},Ne.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Ne.prototype.__iterate=function(t,n){return It(this,t,n,!0)},Ne.prototype.__iterator=function(t,n){return Jt(this,t,n,!0)},i(He,Ne);function He(t){return t==null?ie().toKeyedSeq():o(t)?E(t)?t.toSeq():t.fromEntrySeq():ue(t)}He.prototype.toKeyedSeq=function(){return this},i(ke,Ne);function ke(t){return t==null?ie():o(t)?E(t)?t.entrySeq():t.toIndexedSeq():be(t)}ke.of=function(){return ke(arguments)},ke.prototype.toIndexedSeq=function(){return this},ke.prototype.toString=function(){return this.__toString("Seq [","]")},ke.prototype.__iterate=function(t,n){return It(this,t,n,!1)},ke.prototype.__iterator=function(t,n){return Jt(this,t,n,!1)},i(ae,Ne);function ae(t){return(t==null?ie():o(t)?E(t)?t.entrySeq():t:be(t)).toSetSeq()}ae.of=function(){return ae(arguments)},ae.prototype.toSetSeq=function(){return this},Ne.isSeq=xt,Ne.Keyed=He,Ne.Set=ae,Ne.Indexed=ke;var Ze="@@__IMMUTABLE_SEQ__@@";Ne.prototype[Ze]=!0,i(ct,ke);function ct(t){this._array=t,this.size=t.length}ct.prototype.get=function(t,n){return this.has(t)?this._array[ee(this,t)]:n},ct.prototype.__iterate=function(t,n){for(var r=this._array,c=r.length-1,l=0;l<=c;l++)if(t(r[n?c-l:l],l,this)===!1)return l+1;return l},ct.prototype.__iterator=function(t,n){var r=this._array,c=r.length-1,l=0;return new we(function(){return l>c?et():Ce(t,l,r[n?c-l++:l++])})},i(at,He);function at(t){var n=Object.keys(t);this._object=t,this._keys=n,this.size=n.length}at.prototype.get=function(t,n){return n!==void 0&&!this.has(t)?n:this._object[t]},at.prototype.has=function(t){return this._object.hasOwnProperty(t)},at.prototype.__iterate=function(t,n){for(var r=this._object,c=this._keys,l=c.length-1,h=0;h<=l;h++){var x=c[n?l-h:h];if(t(r[x],x,this)===!1)return h+1}return h},at.prototype.__iterator=function(t,n){var r=this._object,c=this._keys,l=c.length-1,h=0;return new we(function(){var x=c[n?l-h:h];return h++>l?et():Ce(t,x,r[x])})},at.prototype[g]=!0,i(Ie,ke);function Ie(t){this._iterable=t,this.size=t.length||t.size}Ie.prototype.__iterateUncached=function(t,n){if(n)return this.cacheResult().__iterate(t,n);var r=this._iterable,c=xe(r),l=0;if(ve(c))for(var h;!(h=c.next()).done&&t(h.value,l++,this)!==!1;);return l},Ie.prototype.__iteratorUncached=function(t,n){if(n)return this.cacheResult().__iterator(t,n);var r=this._iterable,c=xe(r);if(!ve(c))return new we(et);var l=0;return new we(function(){var h=c.next();return h.done?h:Ce(t,l++,h.value)})},i(yt,ke);function yt(t){this._iterator=t,this._iteratorCache=[]}yt.prototype.__iterateUncached=function(t,n){if(n)return this.cacheResult().__iterate(t,n);for(var r=this._iterator,c=this._iteratorCache,l=0;l<c.length;)if(t(c[l],l++,this)===!1)return l;for(var h;!(h=r.next()).done;){var x=h.value;if(c[l]=x,t(x,l++,this)===!1)break}return l},yt.prototype.__iteratorUncached=function(t,n){if(n)return this.cacheResult().__iterator(t,n);var r=this._iterator,c=this._iteratorCache,l=0;return new we(function(){if(l>=c.length){var h=r.next();if(h.done)return h;c[l]=h.value}return Ce(t,l,c[l++])})};function xt(t){return!!(t&&t[Ze])}var Tt;function ie(){return Tt||(Tt=new ct([]))}function ue(t){var n=Array.isArray(t)?new ct(t).fromEntrySeq():ve(t)?new yt(t).fromEntrySeq():De(t)?new Ie(t).fromEntrySeq():typeof t=="object"?new at(t):void 0;if(!n)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return n}function be(t){var n=ft(t);if(!n)throw new TypeError("Expected Array or iterable object of values: "+t);return n}function Je(t){var n=ft(t)||typeof t=="object"&&new at(t);if(!n)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return n}function ft(t){return We(t)?new ct(t):ve(t)?new yt(t):De(t)?new Ie(t):void 0}function It(t,n,r,c){var l=t._cache;if(l){for(var h=l.length-1,x=0;x<=h;x++){var z=l[r?h-x:x];if(n(z[1],c?z[0]:x,t)===!1)return x+1}return x}return t.__iterateUncached(n,r)}function Jt(t,n,r,c){var l=t._cache;if(l){var h=l.length-1,x=0;return new we(function(){var z=l[r?h-x:x];return x++>h?et():Ce(n,c?z[0]:x-1,z[1])})}return t.__iteratorUncached(n,r)}function rn(t,n){return n?Bn(n,t,"",{"":t}):Rn(t)}function Bn(t,n,r,c){return Array.isArray(n)?t.call(c,r,ke(n).map(function(l,h){return Bn(t,l,h,n)})):On(n)?t.call(c,r,He(n).map(function(l,h){return Bn(t,l,h,n)})):n}function Rn(t){return Array.isArray(t)?ke(t).map(Rn).toList():On(t)?He(t).map(Rn).toMap():t}function On(t){return t&&(t.constructor===Object||t.constructor===void 0)}function Mt(t,n){if(t===n||t!==t&&n!==n)return!0;if(!t||!n)return!1;if(typeof t.valueOf=="function"&&typeof n.valueOf=="function"){if(t=t.valueOf(),n=n.valueOf(),t===n||t!==t&&n!==n)return!0;if(!t||!n)return!1}return!!(typeof t.equals=="function"&&typeof n.equals=="function"&&t.equals(n))}function Dn(t,n){if(t===n)return!0;if(!o(n)||t.size!==void 0&&n.size!==void 0&&t.size!==n.size||t.__hash!==void 0&&n.__hash!==void 0&&t.__hash!==n.__hash||E(t)!==E(n)||B(t)!==B(n)||k(t)!==k(n))return!1;if(t.size===0&&n.size===0)return!0;var r=!y(t);if(k(t)){var c=t.entries();return n.every(function(re,ce){var de=c.next().value;return de&&Mt(de[1],re)&&(r||Mt(de[0],ce))})&&c.next().done}var l=!1;if(t.size===void 0)if(n.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{l=!0;var h=t;t=n,n=h}var x=!0,z=n.__iterate(function(re,ce){if(r?!t.has(re):l?!Mt(re,t.get(ce,p)):!Mt(t.get(ce,p),re))return x=!1,!1});return x&&t.size===z}i(Pt,ke);function Pt(t,n){if(!(this instanceof Pt))return new Pt(t,n);if(this._value=t,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(En)return En;En=this}}Pt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Pt.prototype.get=function(t,n){return this.has(t)?this._value:n},Pt.prototype.includes=function(t){return Mt(this._value,t)},Pt.prototype.slice=function(t,n){var r=this.size;return H(t,n,r)?this:new Pt(this._value,X(n,r)-I(t,r))},Pt.prototype.reverse=function(){return this},Pt.prototype.indexOf=function(t){return Mt(this._value,t)?0:-1},Pt.prototype.lastIndexOf=function(t){return Mt(this._value,t)?this.size:-1},Pt.prototype.__iterate=function(t,n){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},Pt.prototype.__iterator=function(t,n){var r=this,c=0;return new we(function(){return c<r.size?Ce(t,c++,r._value):et()})},Pt.prototype.equals=function(t){return t instanceof Pt?Mt(this._value,t._value):Dn(t)};var En;function vn(t,n){if(!t)throw new Error(n)}i(Et,ke);function Et(t,n,r){if(!(this instanceof Et))return new Et(t,n,r);if(vn(r!==0,"Cannot step a Range by 0"),t=t||0,n===void 0&&(n=1/0),r=r===void 0?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),this.size===0){if(Fn)return Fn;Fn=this}}Et.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Et.prototype.get=function(t,n){return this.has(t)?this._start+ee(this,t)*this._step:n},Et.prototype.includes=function(t){var n=(t-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},Et.prototype.slice=function(t,n){return H(t,n,this.size)?this:(t=I(t,this.size),n=X(n,this.size),n<=t?new Et(0,0):new Et(this.get(t,this._end),this.get(n,this._end),this._step))},Et.prototype.indexOf=function(t){var n=t-this._start;if(n%this._step===0){var r=n/this._step;if(r>=0&&r<this.size)return r}return-1},Et.prototype.lastIndexOf=function(t){return this.indexOf(t)},Et.prototype.__iterate=function(t,n){for(var r=this.size-1,c=this._step,l=n?this._start+r*c:this._start,h=0;h<=r;h++){if(t(l,h,this)===!1)return h+1;l+=n?-c:c}return h},Et.prototype.__iterator=function(t,n){var r=this.size-1,c=this._step,l=n?this._start+r*c:this._start,h=0;return new we(function(){var x=l;return l+=n?-c:c,h>r?et():Ce(t,h++,x)})},Et.prototype.equals=function(t){return t instanceof Et?this._start===t._start&&this._end===t._end&&this._step===t._step:Dn(this,t)};var Fn;i(Qt,f);function Qt(){throw TypeError("Abstract")}i(on,Qt);function on(){}i(dn,Qt);function dn(){}i(bn,Qt);function bn(){}Qt.Keyed=on,Qt.Indexed=dn,Qt.Set=bn;var sn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(n,r){n=n|0,r=r|0;var c=n&65535,l=r&65535;return c*l+((n>>>16)*l+c*(r>>>16)<<16>>>0)|0};function xn(t){return t>>>1&1073741824|t&3221225471}function Nt(t){if(t===!1||t===null||t===void 0||typeof t.valueOf=="function"&&(t=t.valueOf(),t===!1||t===null||t===void 0))return 0;if(t===!0)return 1;var n=typeof t;if(n==="number"){var r=t|0;for(r!==t&&(r^=t*4294967295);t>4294967295;)t/=4294967295,r^=t;return xn(r)}if(n==="string")return t.length>Wn?cn(t):hn(t);if(typeof t.hashCode=="function")return t.hashCode();if(n==="object")return Kn(t);if(typeof t.toString=="function")return hn(t.toString());throw new Error("Value type "+n+" cannot be hashed.")}function cn(t){var n=jn[t];return n===void 0&&(n=hn(t),In===Vn&&(In=0,jn={}),In++,jn[t]=n),n}function hn(t){for(var n=0,r=0;r<t.length;r++)n=31*n+t.charCodeAt(r)|0;return xn(n)}function Kn(t){var n;if(Yt&&(n=Sn.get(t),n!==void 0)||(n=t[Ht],n!==void 0)||!zn&&(n=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ht],n!==void 0||(n=Gn(t),n!==void 0)))return n;if(n=++qt,qt&1073741824&&(qt=0),Yt)Sn.set(t,n);else{if(Ln!==void 0&&Ln(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(zn)Object.defineProperty(t,Ht,{enumerable:!1,configurable:!1,writable:!1,value:n});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ht]=n;else if(t.nodeType!==void 0)t[Ht]=n;else throw new Error("Unable to set a non-enumerable property on object.")}return n}var Ln=Object.isExtensible,zn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Gn(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Yt=typeof WeakMap=="function",Sn;Yt&&(Sn=new WeakMap);var qt=0,Ht="__immutablehash__";typeof Symbol=="function"&&(Ht=Symbol(Ht));var Wn=16,Vn=255,In=0,jn={};function zt(t){vn(t!==1/0,"Cannot perform this action with an infinite size.")}i(dt,on);function dt(t){return t==null?Be():Gt(t)&&!k(t)?t:Be().withMutations(function(n){var r=b(t);zt(r.size),r.forEach(function(c,l){return n.set(l,c)})})}dt.prototype.toString=function(){return this.__toString("Map {","}")},dt.prototype.get=function(t,n){return this._root?this._root.get(0,void 0,t,n):n},dt.prototype.set=function(t,n){return Ae(this,t,n)},dt.prototype.setIn=function(t,n){return this.updateIn(t,p,function(){return n})},dt.prototype.remove=function(t){return Ae(this,t,p)},dt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return p})},dt.prototype.update=function(t,n,r){return arguments.length===1?t(this):this.updateIn([t],n,r)},dt.prototype.updateIn=function(t,n,r){r||(r=n,n=void 0);var c=Ke(this,ti(t),n,r);return c===p?void 0:c},dt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Be()},dt.prototype.merge=function(){return Ue(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var n=q.call(arguments,1);return Ue(this,t,n)},dt.prototype.mergeIn=function(t){var n=q.call(arguments,1);return this.updateIn(t,Be(),function(r){return typeof r.merge=="function"?r.merge.apply(r,n):n[n.length-1]})},dt.prototype.mergeDeep=function(){return Ue(this,ge,arguments)},dt.prototype.mergeDeepWith=function(t){var n=q.call(arguments,1);return Ue(this,Me(t),n)},dt.prototype.mergeDeepIn=function(t){var n=q.call(arguments,1);return this.updateIn(t,Be(),function(r){return typeof r.mergeDeep=="function"?r.mergeDeep.apply(r,n):n[n.length-1]})},dt.prototype.sort=function(t){return Ot(Yn(this,t))},dt.prototype.sortBy=function(t,n){return Ot(Yn(this,n,t))},dt.prototype.withMutations=function(t){var n=this.asMutable();return t(n),n.wasAltered()?n.__ensureOwner(this.__ownerID):this},dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new K)},dt.prototype.asImmutable=function(){return this.__ensureOwner()},dt.prototype.wasAltered=function(){return this.__altered},dt.prototype.__iterator=function(t,n){return new wn(this,t,n)},dt.prototype.__iterate=function(t,n){var r=this,c=0;return this._root&&this._root.iterate(function(l){return c++,t(l[1],l[0],r)},n),c},dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?_e(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)};function Gt(t){return!!(t&&t[Mn])}dt.isMap=Gt;var Mn="@@__IMMUTABLE_MAP__@@",ut=dt.prototype;ut[Mn]=!0,ut[D]=ut.remove,ut.removeIn=ut.deleteIn;function Cn(t,n){this.ownerID=t,this.entries=n}Cn.prototype.get=function(t,n,r,c){for(var l=this.entries,h=0,x=l.length;h<x;h++)if(Mt(r,l[h][0]))return l[h][1];return c},Cn.prototype.update=function(t,n,r,c,l,h,x){for(var z=l===p,re=this.entries,ce=0,de=re.length;ce<de&&!Mt(c,re[ce][0]);ce++);var Le=ce<de;if(Le?re[ce][1]===l:z)return this;if(R(x),(z||!Le)&&R(h),!(z&&re.length===1)){if(!Le&&!z&&re.length>=At)return tt(t,re,c,l);var Ve=t&&t===this.ownerID,lt=Ve?re:Q(re);return Le?z?ce===de-1?lt.pop():lt[ce]=lt.pop():lt[ce]=[c,l]:lt.push([c,l]),Ve?(this.entries=lt,this):new Cn(t,lt)}};function ln(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r}ln.prototype.get=function(t,n,r,c){n===void 0&&(n=Nt(r));var l=1<<((t===0?n:n>>>t)&G),h=this.bitmap;return h&l?this.nodes[rt(h&l-1)].get(t+N,n,r,c):c},ln.prototype.update=function(t,n,r,c,l,h,x){r===void 0&&(r=Nt(c));var z=(n===0?r:r>>>n)&G,re=1<<z,ce=this.bitmap,de=(ce&re)!==0;if(!de&&l===p)return this;var Le=rt(ce&re-1),Ve=this.nodes,lt=de?Ve[Le]:void 0,ht=$e(lt,t,n+N,r,c,l,h,x);if(ht===lt)return this;if(!de&&ht&&Ve.length>=M)return Re(t,Ve,ce,z,ht);if(de&&!ht&&Ve.length===2&&Qe(Ve[Le^1]))return Ve[Le^1];if(de&&ht&&Ve.length===1&&Qe(ht))return ht;var kt=t&&t===this.ownerID,nn=de?ht?ce:ce^re:ce|re,Pn=de?ht?vt(Ve,Le,ht,kt):Bt(Ve,Le,kt):mt(Ve,Le,ht,kt);return kt?(this.bitmap=nn,this.nodes=Pn,this):new ln(t,nn,Pn)};function mn(t,n,r){this.ownerID=t,this.count=n,this.nodes=r}mn.prototype.get=function(t,n,r,c){n===void 0&&(n=Nt(r));var l=(t===0?n:n>>>t)&G,h=this.nodes[l];return h?h.get(t+N,n,r,c):c},mn.prototype.update=function(t,n,r,c,l,h,x){r===void 0&&(r=Nt(c));var z=(n===0?r:r>>>n)&G,re=l===p,ce=this.nodes,de=ce[z];if(re&&!de)return this;var Le=$e(de,t,n+N,r,c,l,h,x);if(Le===de)return this;var Ve=this.count;if(!de)Ve++;else if(!Le&&(Ve--,Ve<A))return Ye(t,ce,Ve,z);var lt=t&&t===this.ownerID,ht=vt(ce,z,Le,lt);return lt?(this.count=Ve,this.nodes=ht,this):new mn(t,Ve,ht)};function an(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r}an.prototype.get=function(t,n,r,c){for(var l=this.entries,h=0,x=l.length;h<x;h++)if(Mt(r,l[h][0]))return l[h][1];return c},an.prototype.update=function(t,n,r,c,l,h,x){r===void 0&&(r=Nt(c));var z=l===p;if(r!==this.keyHash)return z?this:(R(x),R(h),qe(this,t,n,r,[c,l]));for(var re=this.entries,ce=0,de=re.length;ce<de&&!Mt(c,re[ce][0]);ce++);var Le=ce<de;if(Le?re[ce][1]===l:z)return this;if(R(x),(z||!Le)&&R(h),z&&de===2)return new $t(t,this.keyHash,re[ce^1]);var Ve=t&&t===this.ownerID,lt=Ve?re:Q(re);return Le?z?ce===de-1?lt.pop():lt[ce]=lt.pop():lt[ce]=[c,l]:lt.push([c,l]),Ve?(this.entries=lt,this):new an(t,this.keyHash,lt)};function $t(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r}$t.prototype.get=function(t,n,r,c){return Mt(r,this.entry[0])?this.entry[1]:c},$t.prototype.update=function(t,n,r,c,l,h,x){var z=l===p,re=Mt(c,this.entry[0]);if(re?l===this.entry[1]:z)return this;if(R(x),z){R(h);return}return re?t&&t===this.ownerID?(this.entry[1]=l,this):new $t(t,this.keyHash,[c,l]):(R(h),qe(this,t,n,Nt(c),[c,l]))},Cn.prototype.iterate=an.prototype.iterate=function(t,n){for(var r=this.entries,c=0,l=r.length-1;c<=l;c++)if(t(r[n?l-c:c])===!1)return!1},ln.prototype.iterate=mn.prototype.iterate=function(t,n){for(var r=this.nodes,c=0,l=r.length-1;c<=l;c++){var h=r[n?l-c:c];if(h&&h.iterate(t,n)===!1)return!1}},$t.prototype.iterate=function(t,n){return t(this.entry)},i(wn,we);function wn(t,n,r){this._type=n,this._reverse=r,this._stack=t._root&&U(t._root)}wn.prototype.next=function(){for(var t=this._type,n=this._stack;n;){var r=n.node,c=n.index++,l;if(r.entry){if(c===0)return An(t,r.entry)}else if(r.entries){if(l=r.entries.length-1,c<=l)return An(t,r.entries[this._reverse?l-c:c])}else if(l=r.nodes.length-1,c<=l){var h=r.nodes[this._reverse?l-c:c];if(h){if(h.entry)return An(t,h.entry);n=this._stack=U(h,n)}continue}n=this._stack=this._stack.__prev}return et()};function An(t,n){return Ce(t,n[0],n[1])}function U(t,n){return{node:t,index:0,__prev:n}}function _e(t,n,r,c){var l=Object.create(ut);return l.size=t,l._root=n,l.__ownerID=r,l.__hash=c,l.__altered=!1,l}var ye;function Be(){return ye||(ye=_e(0))}function Ae(t,n,r){var c,l;if(t._root){var h=O(a),x=O(P);if(c=$e(t._root,t.__ownerID,0,void 0,n,r,h,x),!x.value)return t;l=t.size+(h.value?r===p?-1:1:0)}else{if(r===p)return t;l=1,c=new Cn(t.__ownerID,[[n,r]])}return t.__ownerID?(t.size=l,t._root=c,t.__hash=void 0,t.__altered=!0,t):c?_e(l,c):Be()}function $e(t,n,r,c,l,h,x,z){return t?t.update(n,r,c,l,h,x,z):h===p?t:(R(z),R(x),new $t(n,c,[l,h]))}function Qe(t){return t.constructor===$t||t.constructor===an}function qe(t,n,r,c,l){if(t.keyHash===c)return new an(n,c,[t.entry,l]);var h=(r===0?t.keyHash:t.keyHash>>>r)&G,x=(r===0?c:c>>>r)&G,z,re=h===x?[qe(t,n,r+N,c,l)]:(z=new $t(n,c,l),h<x?[t,z]:[z,t]);return new ln(n,1<<h|1<<x,re)}function tt(t,n,r,c){t||(t=new K);for(var l=new $t(t,Nt(r),[r,c]),h=0;h<n.length;h++){var x=n[h];l=l.update(t,0,void 0,x[0],x[1])}return l}function Ye(t,n,r,c){for(var l=0,h=0,x=new Array(r),z=0,re=1,ce=n.length;z<ce;z++,re<<=1){var de=n[z];de!==void 0&&z!==c&&(l|=re,x[h++]=de)}return new ln(t,l,x)}function Re(t,n,r,c,l){for(var h=0,x=new Array(Z),z=0;r!==0;z++,r>>>=1)x[z]=r&1?n[h++]:void 0;return x[c]=l,new mn(t,h+1,x)}function Ue(t,n,r){for(var c=[],l=0;l<r.length;l++){var h=r[l],x=b(h);o(h)||(x=x.map(function(z){return rn(z)})),c.push(x)}return Te(t,n,c)}function ge(t,n,r){return t&&t.mergeDeep&&o(n)?t.mergeDeep(n):Mt(t,n)?t:n}function Me(t){return function(n,r,c){if(n&&n.mergeDeepWith&&o(r))return n.mergeDeepWith(t,r);var l=t(n,r,c);return Mt(n,l)?n:l}}function Te(t,n,r){return r=r.filter(function(c){return c.size!==0}),r.length===0?t:t.size===0&&!t.__ownerID&&r.length===1?t.constructor(r[0]):t.withMutations(function(c){for(var l=n?function(x,z){c.update(z,p,function(re){return re===p?x:n(re,x,z)})}:function(x,z){c.set(z,x)},h=0;h<r.length;h++)r[h].forEach(l)})}function Ke(t,n,r,c){var l=t===p,h=n.next();if(h.done){var x=l?r:t,z=c(x);return z===x?t:z}vn(l||t&&t.set,"invalid keyPath");var re=h.value,ce=l?p:t.get(re,p),de=Ke(ce,n,r,c);return de===ce?t:de===p?t.remove(re):(l?Be():t).set(re,de)}function rt(t){return t=t-(t>>1&1431655765),t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t=t+(t>>8),t=t+(t>>16),t&127}function vt(t,n,r,c){var l=c?t:Q(t);return l[n]=r,l}function mt(t,n,r,c){var l=t.length+1;if(c&&n+1===l)return t[n]=r,t;for(var h=new Array(l),x=0,z=0;z<l;z++)z===n?(h[z]=r,x=-1):h[z]=t[z+x];return h}function Bt(t,n,r){var c=t.length-1;if(r&&n===c)return t.pop(),t;for(var l=new Array(c),h=0,x=0;x<c;x++)x===n&&(h=1),l[x]=t[x+h];return l}var At=Z/4,M=Z/2,A=Z/4;i(S,dn);function S(t){var n=Fe();if(t==null)return n;if(F(t))return t;var r=L(t),c=r.size;return c===0?n:(zt(c),c>0&&c<Z?nt(0,c,N,null,new Pe(r.toArray())):n.withMutations(function(l){l.setSize(c),r.forEach(function(h,x){return l.set(x,h)})}))}S.of=function(){return this(arguments)},S.prototype.toString=function(){return this.__toString("List [","]")},S.prototype.get=function(t,n){if(t=ee(this,t),t>=0&&t<this.size){t+=this._origin;var r=Wt(this,t);return r&&r.array[t&G]}return n},S.prototype.set=function(t,n){return pt(this,t,n)},S.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},S.prototype.insert=function(t,n){return this.splice(t,0,n)},S.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=N,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Fe()},S.prototype.push=function(){var t=arguments,n=this.size;return this.withMutations(function(r){Rt(r,0,n+t.length);for(var c=0;c<t.length;c++)r.set(n+c,t[c])})},S.prototype.pop=function(){return Rt(this,0,-1)},S.prototype.unshift=function(){var t=arguments;return this.withMutations(function(n){Rt(n,-t.length);for(var r=0;r<t.length;r++)n.set(r,t[r])})},S.prototype.shift=function(){return Rt(this,1)},S.prototype.merge=function(){return Xt(this,void 0,arguments)},S.prototype.mergeWith=function(t){var n=q.call(arguments,1);return Xt(this,t,n)},S.prototype.mergeDeep=function(){return Xt(this,ge,arguments)},S.prototype.mergeDeepWith=function(t){var n=q.call(arguments,1);return Xt(this,Me(t),n)},S.prototype.setSize=function(t){return Rt(this,0,t)},S.prototype.slice=function(t,n){var r=this.size;return H(t,n,r)?this:Rt(this,I(t,r),X(n,r))},S.prototype.__iterator=function(t,n){var r=0,c=it(this,n);return new we(function(){var l=c();return l===ze?et():Ce(t,r++,l)})},S.prototype.__iterate=function(t,n){for(var r=0,c=it(this,n),l;(l=c())!==ze&&t(l,r++,this)!==!1;);return r},S.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?nt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)};function F(t){return!!(t&&t[v])}S.isList=F;var v="@@__IMMUTABLE_LIST__@@",ne=S.prototype;ne[v]=!0,ne[D]=ne.remove,ne.setIn=ut.setIn,ne.deleteIn=ne.removeIn=ut.removeIn,ne.update=ut.update,ne.updateIn=ut.updateIn,ne.mergeIn=ut.mergeIn,ne.mergeDeepIn=ut.mergeDeepIn,ne.withMutations=ut.withMutations,ne.asMutable=ut.asMutable,ne.asImmutable=ut.asImmutable,ne.wasAltered=ut.wasAltered;function Pe(t,n){this.array=t,this.ownerID=n}Pe.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var c=r>>>n&G;if(c>=this.array.length)return new Pe([],t);var l=c===0,h;if(n>0){var x=this.array[c];if(h=x&&x.removeBefore(t,n-N,r),h===x&&l)return this}if(l&&!h)return this;var z=Dt(this,t);if(!l)for(var re=0;re<c;re++)z.array[re]=void 0;return h&&(z.array[c]=h),z},Pe.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var c=r-1>>>n&G;if(c>=this.array.length)return this;var l;if(n>0){var h=this.array[c];if(l=h&&h.removeAfter(t,n-N,r),l===h&&c===this.array.length-1)return this}var x=Dt(this,t);return x.array.splice(c+1),l&&(x.array[c]=l),x};var ze={};function it(t,n){var r=t._origin,c=t._capacity,l=un(c),h=t._tail;return x(t._root,t._level,0);function x(ce,de,Le){return de===0?z(ce,Le):re(ce,de,Le)}function z(ce,de){var Le=de===l?h&&h.array:ce&&ce.array,Ve=de>r?0:r-de,lt=c-de;return lt>Z&&(lt=Z),function(){if(Ve===lt)return ze;var ht=n?--lt:Ve++;return Le&&Le[ht]}}function re(ce,de,Le){var Ve,lt=ce&&ce.array,ht=Le>r?0:r-Le>>de,kt=(c-Le>>de)+1;return kt>Z&&(kt=Z),function(){do{if(Ve){var nn=Ve();if(nn!==ze)return nn;Ve=null}if(ht===kt)return ze;var Pn=n?--kt:ht++;Ve=x(lt&&lt[Pn],de-N,Le+(Pn<<de))}while(!0)}}}function nt(t,n,r,c,l,h,x){var z=Object.create(ne);return z.size=n-t,z._origin=t,z._capacity=n,z._level=r,z._root=c,z._tail=l,z.__ownerID=h,z.__hash=x,z.__altered=!1,z}var fe;function Fe(){return fe||(fe=nt(0,0,N))}function pt(t,n,r){if(n=ee(t,n),n!==n)return t;if(n>=t.size||n<0)return t.withMutations(function(x){n<0?Rt(x,n).set(0,r):Rt(x,0,n+1).set(n,r)});n+=t._origin;var c=t._tail,l=t._root,h=O(P);return n>=un(t._capacity)?c=St(c,t.__ownerID,0,n,r,h):l=St(l,t.__ownerID,t._level,n,r,h),h.value?t.__ownerID?(t._root=l,t._tail=c,t.__hash=void 0,t.__altered=!0,t):nt(t._origin,t._capacity,t._level,l,c):t}function St(t,n,r,c,l,h){var x=c>>>r&G,z=t&&x<t.array.length;if(!z&&l===void 0)return t;var re;if(r>0){var ce=t&&t.array[x],de=St(ce,n,r-N,c,l,h);return de===ce?t:(re=Dt(t,n),re.array[x]=de,re)}return z&&t.array[x]===l?t:(R(h),re=Dt(t,n),l===void 0&&x===re.array.length-1?re.array.pop():re.array[x]=l,re)}function Dt(t,n){return n&&t&&n===t.ownerID?t:new Pe(t?t.array.slice():[],n)}function Wt(t,n){if(n>=un(t._capacity))return t._tail;if(n<1<<t._level+N){for(var r=t._root,c=t._level;r&&c>0;)r=r.array[n>>>c&G],c-=N;return r}}function Rt(t,n,r){n!==void 0&&(n=n|0),r!==void 0&&(r=r|0);var c=t.__ownerID||new K,l=t._origin,h=t._capacity,x=l+n,z=r===void 0?h:r<0?h+r:l+r;if(x===l&&z===h)return t;if(x>=z)return t.clear();for(var re=t._level,ce=t._root,de=0;x+de<0;)ce=new Pe(ce&&ce.array.length?[void 0,ce]:[],c),re+=N,de+=1<<re;de&&(x+=de,l+=de,z+=de,h+=de);for(var Le=un(h),Ve=un(z);Ve>=1<<re+N;)ce=new Pe(ce&&ce.array.length?[ce]:[],c),re+=N;var lt=t._tail,ht=Ve<Le?Wt(t,z-1):Ve>Le?new Pe([],c):lt;if(lt&&Ve>Le&&x<h&&lt.array.length){ce=Dt(ce,c);for(var kt=ce,nn=re;nn>N;nn-=N){var Pn=Le>>>nn&G;kt=kt.array[Pn]=Dt(kt.array[Pn],c)}kt.array[Le>>>N&G]=lt}if(z<h&&(ht=ht&&ht.removeAfter(c,0,z)),x>=Ve)x-=Ve,z-=Ve,re=N,ce=null,ht=ht&&ht.removeBefore(c,0,x);else if(x>l||Ve<Le){for(de=0;ce;){var Qn=x>>>re&G;if(Qn!==Ve>>>re&G)break;Qn&&(de+=(1<<re)*Qn),re-=N,ce=ce.array[Qn]}ce&&x>l&&(ce=ce.removeBefore(c,re,x-de)),ce&&Ve<Le&&(ce=ce.removeAfter(c,re,Ve-de)),de&&(x-=de,z-=de)}return t.__ownerID?(t.size=z-x,t._origin=x,t._capacity=z,t._level=re,t._root=ce,t._tail=ht,t.__hash=void 0,t.__altered=!0,t):nt(x,z,re,ce,ht)}function Xt(t,n,r){for(var c=[],l=0,h=0;h<r.length;h++){var x=r[h],z=L(x);z.size>l&&(l=z.size),o(x)||(z=z.map(function(re){return rn(re)})),c.push(z)}return l>t.size&&(t=t.setSize(l)),Te(t,n,c)}function un(t){return t<Z?0:t-1>>>N<<N}i(Ot,dt);function Ot(t){return t==null?or():tr(t)?t:or().withMutations(function(n){var r=b(t);zt(r.size),r.forEach(function(c,l){return n.set(l,c)})})}Ot.of=function(){return this(arguments)},Ot.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ot.prototype.get=function(t,n){var r=this._map.get(t);return r!==void 0?this._list.get(r)[1]:n},Ot.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):or()},Ot.prototype.set=function(t,n){return $r(this,t,n)},Ot.prototype.remove=function(t){return $r(this,t,p)},Ot.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ot.prototype.__iterate=function(t,n){var r=this;return this._list.__iterate(function(c){return c&&t(c[1],c[0],r)},n)},Ot.prototype.__iterator=function(t,n){return this._list.fromEntrySeq().__iterator(t,n)},Ot.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Hn(n,r,t,this.__hash):(this.__ownerID=t,this._map=n,this._list=r,this)};function tr(t){return Gt(t)&&k(t)}Ot.isOrderedMap=tr,Ot.prototype[g]=!0,Ot.prototype[D]=Ot.prototype.remove;function Hn(t,n,r,c){var l=Object.create(Ot.prototype);return l.size=t?t.size:0,l._map=t,l._list=n,l.__ownerID=r,l.__hash=c,l}var Nn;function or(){return Nn||(Nn=Hn(Be(),Fe()))}function $r(t,n,r){var c=t._map,l=t._list,h=c.get(n),x=h!==void 0,z,re;if(r===p){if(!x)return t;l.size>=Z&&l.size>=c.size*2?(re=l.filter(function(ce,de){return ce!==void 0&&h!==de}),z=re.toKeyedSeq().map(function(ce){return ce[0]}).flip().toMap(),t.__ownerID&&(z.__ownerID=re.__ownerID=t.__ownerID)):(z=c.remove(n),re=h===l.size-1?l.pop():l.set(h,void 0))}else if(x){if(r===l.get(h)[1])return t;z=c,re=l.set(h,[n,r])}else z=c.set(n,l.size),re=l.set(l.size,[n,r]);return t.__ownerID?(t.size=z.size,t._map=z,t._list=re,t.__hash=void 0,t):Hn(z,re)}i(_n,He);function _n(t,n){this._iter=t,this._useKeys=n,this.size=t.size}_n.prototype.get=function(t,n){return this._iter.get(t,n)},_n.prototype.has=function(t){return this._iter.has(t)},_n.prototype.valueSeq=function(){return this._iter.valueSeq()},_n.prototype.reverse=function(){var t=this,n=cr(this,!0);return this._useKeys||(n.valueSeq=function(){return t._iter.toSeq().reverse()}),n},_n.prototype.map=function(t,n){var r=this,c=Mr(this,t,n);return this._useKeys||(c.valueSeq=function(){return r._iter.toSeq().map(t,n)}),c},_n.prototype.__iterate=function(t,n){var r=this,c;return this._iter.__iterate(this._useKeys?function(l,h){return t(l,h,r)}:(c=n?xr(this):0,function(l){return t(l,n?--c:c++,r)}),n)},_n.prototype.__iterator=function(t,n){if(this._useKeys)return this._iter.__iterator(t,n);var r=this._iter.__iterator(pe,n),c=n?xr(this):0;return new we(function(){var l=r.next();return l.done?l:Ce(t,n?--c:c++,l.value,l)})},_n.prototype[g]=!0,i(Zn,ke);function Zn(t){this._iter=t,this.size=t.size}Zn.prototype.includes=function(t){return this._iter.includes(t)},Zn.prototype.__iterate=function(t,n){var r=this,c=0;return this._iter.__iterate(function(l){return t(l,c++,r)},n)},Zn.prototype.__iterator=function(t,n){var r=this._iter.__iterator(pe,n),c=0;return new we(function(){var l=r.next();return l.done?l:Ce(t,c++,l.value,l)})},i(Jn,ae);function Jn(t){this._iter=t,this.size=t.size}Jn.prototype.has=function(t){return this._iter.includes(t)},Jn.prototype.__iterate=function(t,n){var r=this;return this._iter.__iterate(function(c){return t(c,c,r)},n)},Jn.prototype.__iterator=function(t,n){var r=this._iter.__iterator(pe,n);return new we(function(){var c=r.next();return c.done?c:Ce(t,c.value,c.value,c)})},i(Un,He);function Un(t){this._iter=t,this.size=t.size}Un.prototype.entrySeq=function(){return this._iter.toSeq()},Un.prototype.__iterate=function(t,n){var r=this;return this._iter.__iterate(function(c){if(c){ei(c);var l=o(c);return t(l?c.get(1):c[1],l?c.get(0):c[0],r)}},n)},Un.prototype.__iterator=function(t,n){var r=this._iter.__iterator(pe,n);return new we(function(){for(;;){var c=r.next();if(c.done)return c;var l=c.value;if(l){ei(l);var h=o(l);return Ce(t,h?l.get(0):l[0],h?l.get(1):l[1],c)}}})},Zn.prototype.cacheResult=_n.prototype.cacheResult=Jn.prototype.cacheResult=Un.prototype.cacheResult=Ir;function sr(t){var n=kn(t);return n._iter=t,n.size=t.size,n.flip=function(){return t},n.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},n.has=function(r){return t.includes(r)},n.includes=function(r){return t.has(r)},n.cacheResult=Ir,n.__iterateUncached=function(r,c){var l=this;return t.__iterate(function(h,x){return r(x,h,l)!==!1},c)},n.__iteratorUncached=function(r,c){if(r===he){var l=t.__iterator(r,c);return new we(function(){var h=l.next();if(!h.done){var x=h.value[0];h.value[0]=h.value[1],h.value[1]=x}return h})}return t.__iterator(r===pe?te:pe,c)},n}function Mr(t,n,r){var c=kn(t);return c.size=t.size,c.has=function(l){return t.has(l)},c.get=function(l,h){var x=t.get(l,p);return x===p?h:n.call(r,x,l,t)},c.__iterateUncached=function(l,h){var x=this;return t.__iterate(function(z,re,ce){return l(n.call(r,z,re,ce),re,x)!==!1},h)},c.__iteratorUncached=function(l,h){var x=t.__iterator(he,h);return new we(function(){var z=x.next();if(z.done)return z;var re=z.value,ce=re[0];return Ce(l,ce,n.call(r,re[1],ce,t),z)})},c}function cr(t,n){var r=kn(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var c=sr(t);return c.reverse=function(){return t.flip()},c}),r.get=function(c,l){return t.get(n?c:-1-c,l)},r.has=function(c){return t.has(n?c:-1-c)},r.includes=function(c){return t.includes(c)},r.cacheResult=Ir,r.__iterate=function(c,l){var h=this;return t.__iterate(function(x,z){return c(x,z,h)},!l)},r.__iterator=function(c,l){return t.__iterator(c,!l)},r}function Cr(t,n,r,c){var l=kn(t);return c&&(l.has=function(h){var x=t.get(h,p);return x!==p&&!!n.call(r,x,h,t)},l.get=function(h,x){var z=t.get(h,p);return z!==p&&n.call(r,z,h,t)?z:x}),l.__iterateUncached=function(h,x){var z=this,re=0;return t.__iterate(function(ce,de,Le){if(n.call(r,ce,de,Le))return re++,h(ce,c?de:re-1,z)},x),re},l.__iteratorUncached=function(h,x){var z=t.__iterator(he,x),re=0;return new we(function(){for(;;){var ce=z.next();if(ce.done)return ce;var de=ce.value,Le=de[0],Ve=de[1];if(n.call(r,Ve,Le,t))return Ce(h,c?Le:re++,Ve,ce)}})},l}function Xr(t,n,r){var c=dt().asMutable();return t.__iterate(function(l,h){c.update(n.call(r,l,h,t),0,function(x){return x+1})}),c.asImmutable()}function Qr(t,n,r){var c=E(t),l=(k(t)?Ot():dt()).asMutable();t.__iterate(function(x,z){l.update(n.call(r,x,z,t),function(re){return re=re||[],re.push(c?[z,x]:x),re})});var h=ar(t);return l.map(function(x){return Ct(t,h(x))})}function wr(t,n,r,c){var l=t.size;if(n!==void 0&&(n=n|0),r!==void 0&&(r=r|0),H(n,r,l))return t;var h=I(n,l),x=X(r,l);if(h!==h||x!==x)return wr(t.toSeq().cacheResult(),n,r,c);var z=x-h,re;z===z&&(re=z<0?0:z);var ce=kn(t);return ce.size=re===0?re:t.size&&re||void 0,!c&&xt(t)&&re>=0&&(ce.get=function(de,Le){return de=ee(this,de),de>=0&&de<re?t.get(de+h,Le):Le}),ce.__iterateUncached=function(de,Le){var Ve=this;if(re===0)return 0;if(Le)return this.cacheResult().__iterate(de,Le);var lt=0,ht=!0,kt=0;return t.__iterate(function(nn,Pn){if(!(ht&&(ht=lt++<h)))return kt++,de(nn,c?Pn:kt-1,Ve)!==!1&&kt!==re}),kt},ce.__iteratorUncached=function(de,Le){if(re!==0&&Le)return this.cacheResult().__iterator(de,Le);var Ve=re!==0&&t.__iterator(de,Le),lt=0,ht=0;return new we(function(){for(;lt++<h;)Ve.next();if(++ht>re)return et();var kt=Ve.next();return c||de===pe?kt:de===te?Ce(de,ht-1,void 0,kt):Ce(de,ht-1,kt.value[1],kt)})},ce}function kr(t,n,r){var c=kn(t);return c.__iterateUncached=function(l,h){var x=this;if(h)return this.cacheResult().__iterate(l,h);var z=0;return t.__iterate(function(re,ce,de){return n.call(r,re,ce,de)&&++z&&l(re,ce,x)}),z},c.__iteratorUncached=function(l,h){var x=this;if(h)return this.cacheResult().__iterator(l,h);var z=t.__iterator(he,h),re=!0;return new we(function(){if(!re)return et();var ce=z.next();if(ce.done)return ce;var de=ce.value,Le=de[0],Ve=de[1];return n.call(r,Ve,Le,x)?l===he?ce:Ce(l,Le,Ve,ce):(re=!1,et())})},c}function Tr(t,n,r,c){var l=kn(t);return l.__iterateUncached=function(h,x){var z=this;if(x)return this.cacheResult().__iterate(h,x);var re=!0,ce=0;return t.__iterate(function(de,Le,Ve){if(!(re&&(re=n.call(r,de,Le,Ve))))return ce++,h(de,c?Le:ce-1,z)}),ce},l.__iteratorUncached=function(h,x){var z=this;if(x)return this.cacheResult().__iterator(h,x);var re=t.__iterator(he,x),ce=!0,de=0;return new we(function(){var Le,Ve,lt;do{if(Le=re.next(),Le.done)return c||h===pe?Le:h===te?Ce(h,de++,void 0,Le):Ce(h,de++,Le.value[1],Le);var ht=Le.value;Ve=ht[0],lt=ht[1],ce&&(ce=n.call(r,lt,Ve,z))}while(ce);return h===he?Le:Ce(h,Ve,lt,Le)})},l}function qr(t,n){var r=E(t),c=[t].concat(n).map(function(x){return o(x)?r&&(x=b(x)):x=r?ue(x):be(Array.isArray(x)?x:[x]),x}).filter(function(x){return x.size!==0});if(c.length===0)return t;if(c.length===1){var l=c[0];if(l===t||r&&E(l)||B(t)&&B(l))return l}var h=new ct(c);return r?h=h.toKeyedSeq():B(t)||(h=h.toSetSeq()),h=h.flatten(!0),h.size=c.reduce(function(x,z){if(x!==void 0){var re=z.size;if(re!==void 0)return x+re}},0),h}function Pr(t,n,r){var c=kn(t);return c.__iterateUncached=function(l,h){var x=0,z=!1;function re(ce,de){var Le=this;ce.__iterate(function(Ve,lt){return(!n||de<n)&&o(Ve)?re(Ve,de+1):l(Ve,r?lt:x++,Le)===!1&&(z=!0),!z},h)}return re(t,0),x},c.__iteratorUncached=function(l,h){var x=t.__iterator(l,h),z=[],re=0;return new we(function(){for(;x;){var ce=x.next();if(ce.done!==!1){x=z.pop();continue}var de=ce.value;if(l===he&&(de=de[1]),(!n||z.length<n)&&o(de))z.push(x),x=de.__iterator(l,h);else return r?ce:Ce(l,re++,de,ce)}return et()})},c}function Or(t,n,r){var c=ar(t);return t.toSeq().map(function(l,h){return c(n.call(r,l,h,t))}).flatten(!0)}function Ei(t,n){var r=kn(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(c,l){var h=this,x=0;return t.__iterate(function(z,re){return(!x||c(n,x++,h)!==!1)&&c(z,x++,h)!==!1},l),x},r.__iteratorUncached=function(c,l){var h=t.__iterator(pe,l),x=0,z;return new we(function(){return(!z||x%2)&&(z=h.next(),z.done)?z:x%2?Ce(c,x++,n):Ce(c,x++,z.value,z)})},r}function Yn(t,n,r){n||(n=ur);var c=E(t),l=0,h=t.toSeq().map(function(x,z){return[z,x,l++,r?r(x,z,t):x]}).toArray();return h.sort(function(x,z){return n(x[3],z[3])||x[2]-z[2]}).forEach(c?function(x,z){h[z].length=2}:function(x,z){h[z]=x[1]}),c?He(h):B(t)?ke(h):ae(h)}function nr(t,n,r){if(n||(n=ur),r){var c=t.toSeq().map(function(l,h){return[l,r(l,h,t)]}).reduce(function(l,h){return lr(n,l[1],h[1])?h:l});return c&&c[0]}else return t.reduce(function(l,h){return lr(n,l,h)?h:l})}function lr(t,n,r){var c=t(r,n);return c===0&&r!==n&&(r==null||r!==r)||c>0}function Dr(t,n,r){var c=kn(t);return c.size=new ct(r).map(function(l){return l.size}).min(),c.__iterate=function(l,h){for(var x=this.__iterator(pe,h),z,re=0;!(z=x.next()).done&&l(z.value,re++,this)!==!1;);return re},c.__iteratorUncached=function(l,h){var x=r.map(function(ce){return ce=f(ce),xe(h?ce.reverse():ce)}),z=0,re=!1;return new we(function(){var ce;return re||(ce=x.map(function(de){return de.next()}),re=ce.some(function(de){return de.done})),re?et():Ce(l,z++,n.apply(null,ce.map(function(de){return de.value})))})},c}function Ct(t,n){return xt(t)?n:t.constructor(n)}function ei(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function xr(t){return zt(t.size),V(t)}function ar(t){return E(t)?b:B(t)?L:u}function kn(t){return Object.create((E(t)?He:B(t)?ke:ae).prototype)}function Ir(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ne.prototype.cacheResult.call(this)}function ur(t,n){return t>n?1:t<n?-1:0}function ti(t){var n=xe(t);if(!n){if(!We(t))throw new TypeError("Expected iterable or array-like: "+t);n=xe(f(t))}return n}i(en,on);function en(t,n){var r,c=function(x){if(x instanceof c)return x;if(!(this instanceof c))return new c(x);if(!r){r=!0;var z=Object.keys(t);vi(l,z),l.size=z.length,l._name=n,l._keys=z,l._defaultValues=t}this._map=dt(x)},l=c.prototype=Object.create(Ut);return l.constructor=c,c}en.prototype.toString=function(){return this.__toString(_r(this)+" {","}")},en.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},en.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},en.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=rr(this,Be()))},en.prototype.set=function(t,n){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+_r(this));var r=this._map&&this._map.set(t,n);return this.__ownerID||r===this._map?this:rr(this,r)},en.prototype.remove=function(t){if(!this.has(t))return this;var n=this._map&&this._map.remove(t);return this.__ownerID||n===this._map?this:rr(this,n)},en.prototype.wasAltered=function(){return this._map.wasAltered()},en.prototype.__iterator=function(t,n){var r=this;return b(this._defaultValues).map(function(c,l){return r.get(l)}).__iterator(t,n)},en.prototype.__iterate=function(t,n){var r=this;return b(this._defaultValues).map(function(c,l){return r.get(l)}).__iterate(t,n)},en.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map&&this._map.__ensureOwner(t);return t?rr(this,n,t):(this.__ownerID=t,this._map=n,this)};var Ut=en.prototype;Ut[D]=Ut.remove,Ut.deleteIn=Ut.removeIn=ut.removeIn,Ut.merge=ut.merge,Ut.mergeWith=ut.mergeWith,Ut.mergeIn=ut.mergeIn,Ut.mergeDeep=ut.mergeDeep,Ut.mergeDeepWith=ut.mergeDeepWith,Ut.mergeDeepIn=ut.mergeDeepIn,Ut.setIn=ut.setIn,Ut.update=ut.update,Ut.updateIn=ut.updateIn,Ut.withMutations=ut.withMutations,Ut.asMutable=ut.asMutable,Ut.asImmutable=ut.asImmutable;function rr(t,n,r){var c=Object.create(Object.getPrototypeOf(t));return c._map=n,c.__ownerID=r,c}function _r(t){return t._name||t.constructor.name||"Record"}function vi(t,n){try{n.forEach(bi.bind(void 0,t))}catch(r){}}function bi(t,n){Object.defineProperty(t,n,{get:function(){return this.get(n)},set:function(r){vn(this.__ownerID,"Cannot set on an immutable record."),this.set(n,r)}})}i(wt,bn);function wt(t){return t==null?Br():ir(t)&&!k(t)?t:Br().withMutations(function(n){var r=u(t);zt(r.size),r.forEach(function(c){return n.add(c)})})}wt.of=function(){return this(arguments)},wt.fromKeys=function(t){return this(b(t).keySeq())},wt.prototype.toString=function(){return this.__toString("Set {","}")},wt.prototype.has=function(t){return this._map.has(t)},wt.prototype.add=function(t){return Ar(this,this._map.set(t,!0))},wt.prototype.remove=function(t){return Ar(this,this._map.remove(t))},wt.prototype.clear=function(){return Ar(this,this._map.clear())},wt.prototype.union=function(){var t=q.call(arguments,0);return t=t.filter(function(n){return n.size!==0}),t.length===0?this:this.size===0&&!this.__ownerID&&t.length===1?this.constructor(t[0]):this.withMutations(function(n){for(var r=0;r<t.length;r++)u(t[r]).forEach(function(c){return n.add(c)})})},wt.prototype.intersect=function(){var t=q.call(arguments,0);if(t.length===0)return this;t=t.map(function(r){return u(r)});var n=this;return this.withMutations(function(r){n.forEach(function(c){t.every(function(l){return l.includes(c)})||r.remove(c)})})},wt.prototype.subtract=function(){var t=q.call(arguments,0);if(t.length===0)return this;t=t.map(function(r){return u(r)});var n=this;return this.withMutations(function(r){n.forEach(function(c){t.some(function(l){return l.includes(c)})&&r.remove(c)})})},wt.prototype.merge=function(){return this.union.apply(this,arguments)},wt.prototype.mergeWith=function(t){var n=q.call(arguments,1);return this.union.apply(this,n)},wt.prototype.sort=function(t){return gn(Yn(this,t))},wt.prototype.sortBy=function(t,n){return gn(Yn(this,n,t))},wt.prototype.wasAltered=function(){return this._map.wasAltered()},wt.prototype.__iterate=function(t,n){var r=this;return this._map.__iterate(function(c,l){return t(l,l,r)},n)},wt.prototype.__iterator=function(t,n){return this._map.map(function(r,c){return c}).__iterator(t,n)},wt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map.__ensureOwner(t);return t?this.__make(n,t):(this.__ownerID=t,this._map=n,this)};function ir(t){return!!(t&&t[ni])}wt.isSet=ir;var ni="@@__IMMUTABLE_SET__@@",tn=wt.prototype;tn[ni]=!0,tn[D]=tn.remove,tn.mergeDeep=tn.merge,tn.mergeDeepWith=tn.mergeWith,tn.withMutations=ut.withMutations,tn.asMutable=ut.asMutable,tn.asImmutable=ut.asImmutable,tn.__empty=Br,tn.__make=pr;function Ar(t,n){return t.__ownerID?(t.size=n.size,t._map=n,t):n===t._map?t:n.size===0?t.__empty():t.__make(n)}function pr(t,n){var r=Object.create(tn);return r.size=t?t.size:0,r._map=t,r.__ownerID=n,r}var ri;function Br(){return ri||(ri=pr(Be()))}i(gn,wt);function gn(t){return t==null?jr():Rr(t)?t:jr().withMutations(function(n){var r=u(t);zt(r.size),r.forEach(function(c){return n.add(c)})})}gn.of=function(){return this(arguments)},gn.fromKeys=function(t){return this(b(t).keySeq())},gn.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Rr(t){return ir(t)&&k(t)}gn.isOrderedSet=Rr;var fr=gn.prototype;fr[g]=!0,fr.__empty=jr,fr.__make=Lr;function Lr(t,n){var r=Object.create(fr);return r.size=t?t.size:0,r._map=t,r.__ownerID=n,r}var ii;function jr(){return ii||(ii=Lr(or()))}i(jt,dn);function jt(t){return t==null?hr():dr(t)?t:hr().unshiftAll(t)}jt.of=function(){return this(arguments)},jt.prototype.toString=function(){return this.__toString("Stack [","]")},jt.prototype.get=function(t,n){var r=this._head;for(t=ee(this,t);r&&t--;)r=r.next;return r?r.value:n},jt.prototype.peek=function(){return this._head&&this._head.value},jt.prototype.push=function(){if(arguments.length===0)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:arguments[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xn(t,n)},jt.prototype.pushAll=function(t){if(t=L(t),t.size===0)return this;zt(t.size);var n=this.size,r=this._head;return t.reverse().forEach(function(c){n++,r={value:c,next:r}}),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Xn(n,r)},jt.prototype.pop=function(){return this.slice(1)},jt.prototype.unshift=function(){return this.push.apply(this,arguments)},jt.prototype.unshiftAll=function(t){return this.pushAll(t)},jt.prototype.shift=function(){return this.pop.apply(this,arguments)},jt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):hr()},jt.prototype.slice=function(t,n){if(H(t,n,this.size))return this;var r=I(t,this.size),c=X(n,this.size);if(c!==this.size)return dn.prototype.slice.call(this,t,n);for(var l=this.size-r,h=this._head;r--;)h=h.next;return this.__ownerID?(this.size=l,this._head=h,this.__hash=void 0,this.__altered=!0,this):Xn(l,h)},jt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},jt.prototype.__iterate=function(t,n){if(n)return this.reverse().__iterate(t);for(var r=0,c=this._head;c&&t(c.value,r++,this)!==!1;)c=c.next;return r},jt.prototype.__iterator=function(t,n){if(n)return this.reverse().__iterator(t);var r=0,c=this._head;return new we(function(){if(c){var l=c.value;return c=c.next,Ce(t,r++,l)}return et()})};function dr(t){return!!(t&&t[oi])}jt.isStack=dr;var oi="@@__IMMUTABLE_STACK__@@",$n=jt.prototype;$n[oi]=!0,$n.withMutations=ut.withMutations,$n.asMutable=ut.asMutable,$n.asImmutable=ut.asImmutable,$n.wasAltered=ut.wasAltered;function Xn(t,n,r,c){var l=Object.create($n);return l.size=t,l._head=n,l.__ownerID=r,l.__hash=c,l.__altered=!1,l}var Fr;function hr(){return Fr||(Fr=Xn(0))}function Tn(t,n){var r=function(c){t.prototype[c]=n[c]};return Object.keys(n).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(r),t}f.Iterator=we,Tn(f,{toArray:function(){zt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(n,r){t[r]=n}),t},toIndexedSeq:function(){return new Zn(this)},toJS:function(){return this.toSeq().map(function(t){return t&&typeof t.toJS=="function"?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&typeof t.toJSON=="function"?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new _n(this,!0)},toMap:function(){return dt(this.toKeyedSeq())},toObject:function(){zt(this.size);var t={};return this.__iterate(function(n,r){t[r]=n}),t},toOrderedMap:function(){return Ot(this.toKeyedSeq())},toOrderedSet:function(){return gn(E(this)?this.valueSeq():this)},toSet:function(){return wt(E(this)?this.valueSeq():this)},toSetSeq:function(){return new Jn(this)},toSeq:function(){return B(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return jt(E(this)?this.valueSeq():this)},toList:function(){return S(E(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){var t=q.call(arguments,0);return Ct(this,qr(this,t))},includes:function(t){return this.some(function(n){return Mt(n,t)})},entries:function(){return this.__iterator(he)},every:function(t,n){zt(this.size);var r=!0;return this.__iterate(function(c,l,h){if(!t.call(n,c,l,h))return r=!1,!1}),r},filter:function(t,n){return Ct(this,Cr(this,t,n,!0))},find:function(t,n,r){var c=this.findEntry(t,n);return c?c[1]:r},findEntry:function(t,n){var r;return this.__iterate(function(c,l,h){if(t.call(n,c,l,h))return r=[l,c],!1}),r},findLastEntry:function(t,n){return this.toSeq().reverse().findEntry(t,n)},forEach:function(t,n){return zt(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){zt(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(c){r?r=!1:n+=t,n+=c!=null?c.toString():""}),n},keys:function(){return this.__iterator(te)},map:function(t,n){return Ct(this,Mr(this,t,n))},reduce:function(t,n,r){zt(this.size);var c,l;return arguments.length<2?l=!0:c=n,this.__iterate(function(h,x,z){l?(l=!1,c=h):c=t.call(r,c,h,x,z)}),c},reduceRight:function(t,n,r){var c=this.toKeyedSeq().reverse();return c.reduce.apply(c,arguments)},reverse:function(){return Ct(this,cr(this,!0))},slice:function(t,n){return Ct(this,wr(this,t,n,!0))},some:function(t,n){return!this.every(gr(t),n)},sort:function(t){return Ct(this,Yn(this,t))},values:function(){return this.__iterator(pe)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return V(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return Xr(this,t,n)},equals:function(t){return Dn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new ct(t._cache);var n=t.toSeq().map(Si).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(gr(t),n)},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},first:function(){return this.find(W)},flatMap:function(t,n){return Ct(this,Or(this,t,n))},flatten:function(t){return Ct(this,Pr(this,t,!0))},fromEntrySeq:function(){return new Un(this)},get:function(t,n){return this.find(function(r,c){return Mt(c,t)},void 0,n)},getIn:function(t,n){for(var r=this,c=ti(t),l;!(l=c.next()).done;){var h=l.value;if(r=r&&r.get?r.get(h,p):p,r===p)return n}return r},groupBy:function(t,n){return Qr(this,t,n)},has:function(t){return this.get(t,p)!==p},hasIn:function(t){return this.getIn(t,p)!==p},isSubset:function(t){return t=typeof t.includes=="function"?t:f(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:f(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(zr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return nr(this,t)},maxBy:function(t,n){return nr(this,n,t)},min:function(t){return nr(this,t?Nr(t):Kr)},minBy:function(t,n){return nr(this,n?Nr(n):Kr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ct(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,n){return Ct(this,Tr(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(gr(t),n)},sortBy:function(t,n){return Ct(this,Yn(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ct(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,n){return Ct(this,kr(this,t,n))},takeUntil:function(t,n){return this.takeWhile(gr(t),n)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ci(this))}});var Vt=f.prototype;Vt[_]=!0,Vt[Oe]=Vt.values,Vt.__toJS=Vt.toArray,Vt.__toStringMapper=Ur,Vt.inspect=Vt.toSource=function(){return this.toString()},Vt.chain=Vt.flatMap,Vt.contains=Vt.includes,function(){try{Object.defineProperty(Vt,"length",{get:function(){if(!f.noLengthWarning){var t;try{throw new Error}catch(n){t=n.stack}if(t.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Tn(b,{flip:function(){return Ct(this,sr(this))},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLastKey:function(t,n){return this.toSeq().reverse().findKey(t,n)},keyOf:function(t){return this.findKey(function(n){return Mt(n,t)})},lastKeyOf:function(t){return this.findLastKey(function(n){return Mt(n,t)})},mapEntries:function(t,n){var r=this,c=0;return Ct(this,this.toSeq().map(function(l,h){return t.call(n,[h,l],c++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return Ct(this,this.toSeq().flip().map(function(c,l){return t.call(n,c,l,r)}).flip())}});var mr=b.prototype;mr[d]=!0,mr[Oe]=Vt.entries,mr.__toJS=Vt.toObject,mr.__toStringMapper=function(t,n){return JSON.stringify(n)+": "+Ur(t)},Tn(L,{toKeyedSeq:function(){return new _n(this,!1)},filter:function(t,n){return Ct(this,Cr(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.toKeyedSeq().keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.toKeyedSeq().reverse().keyOf(t);return n===void 0?-1:n},reverse:function(){return Ct(this,cr(this,!1))},slice:function(t,n){return Ct(this,wr(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n|0,0),r===0||r===2&&!n)return this;t=I(t,t<0?this.count():this.size);var c=this.slice(0,t);return Ct(this,r===1?c:c.concat(Q(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.toKeyedSeq().findLastKey(t,n);return r===void 0?-1:r},first:function(){return this.get(0)},flatten:function(t){return Ct(this,Pr(this,t,!1))},get:function(t,n){return t=ee(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,c){return c===t},void 0,n)},has:function(t){return t=ee(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ct(this,Ei(this,t))},interleave:function(){var t=[this].concat(Q(arguments)),n=Dr(this.toSeq(),ke.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),Ct(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,n){return Ct(this,Tr(this,t,n,!1))},zip:function(){var t=[this].concat(Q(arguments));return Ct(this,Dr(this,si,t))},zipWith:function(t){var n=Q(arguments);return n[0]=this,Ct(this,Dr(this,t,n))}}),L.prototype[m]=!0,L.prototype[g]=!0,Tn(u,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),u.prototype.has=Vt.includes,Tn(He,b.prototype),Tn(ke,L.prototype),Tn(ae,u.prototype),Tn(on,b.prototype),Tn(dn,L.prototype),Tn(bn,u.prototype);function zr(t,n){return n}function Si(t,n){return[n,t]}function gr(t){return function(){return!t.apply(this,arguments)}}function Nr(t){return function(){return-t.apply(this,arguments)}}function Ur(t){return typeof t=="string"?JSON.stringify(t):t}function si(){return Q(arguments)}function Kr(t,n){return t<n?1:t>n?-1:0}function ci(t){if(t.size===1/0)return 0;var n=k(t),r=E(t),c=n?1:0,l=t.__iterate(r?n?function(h,x){c=31*c+Gr(Nt(h),Nt(x))|0}:function(h,x){c=c+Gr(Nt(h),Nt(x))|0}:n?function(h){c=31*c+Nt(h)|0}:function(h){c=c+Nt(h)|0});return li(l,c)}function li(t,n){return n=sn(n,3432918353),n=sn(n<<15|n>>>-15,461845907),n=sn(n<<13|n>>>-13,5),n=(n+3864292196|0)^t,n=sn(n^n>>>16,2246822507),n=sn(n^n>>>13,3266489909),n=xn(n^n>>>16),n}function Gr(t,n){return t^n+2654435769+(t<<6)+(t>>2)|0}var ai={Iterable:f,Seq:Ne,Collection:Qt,Map:dt,OrderedMap:Ot,List:S,Stack:jt,Set:wt,OrderedSet:gn,Record:en,Range:Et,Repeat:Pt,is:Mt,fromJS:rn};return ai})},37442:(se,q,i)=>{"use strict";i.d(q,{x0:()=>b.Z,W5:()=>L.Z,G4:()=>g,b0:()=>D.Z,Mi:()=>N.Z,fb:()=>Z.Z,tN:()=>At.Z,ML:()=>Et,yy:()=>V.Z,JH:()=>Qt.Z,Dg:()=>dn.Z,ib:()=>bn.Z,fP:()=>sn.Z,WT:()=>mt,J7:()=>xn.Z,_j:()=>X.Z,q0:()=>ve,ey:()=>Bt.Z});var f=i(24432),b=i(2892),L=i(63022),u=i(55651);function o(M,A){if(!(M instanceof A))throw new TypeError("Cannot call a class as a function")}function E(M,A){for(var S=0;S<A.length;S++){var F=A[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}function B(M,A,S){return A&&E(M.prototype,A),S&&E(M,S),M}function y(M,A,S){return A in M?Object.defineProperty(M,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[A]=S,M}var k=".",_=function(){function M(A){o(this,M),y(this,"_decorators",void 0),this._decorators=A.slice()}return B(M,[{key:"isCompositionOfDecorators",value:function(S){if(this._decorators.length!==S.length)return!1;for(var F=0;F<S.length;F++)if(this._decorators[F]!==S[F])return!1;return!0}},{key:"getDecorators",value:function(){return this._decorators}},{key:"getDecorations",value:function(S,F){var v,ne=Array((v=S.getText().length)!==null&&v!==void 0?v:1).fill(null);return this._decorators.forEach(function(Pe,ze){var it=function(pt,St){d(ne,pt,St)&&(m(ne,pt,St,ze+k+nt),nt++)},nt=0,fe=Pe.strategy;fe(S,it,F)}),(0,u.List)(ne)}},{key:"getComponentForKey",value:function(S){var F=parseInt(S.split(k)[0],10);return this._decorators[F].component}},{key:"getPropsForKey",value:function(S){var F=parseInt(S.split(k)[0],10);return this._decorators[F].props}}]),M}();function d(M,A,S){for(var F=A;F<S;F++)if(M[F]!=null)return!1;return!0}function m(M,A,S,F){for(var v=A;v<S;v++)M[v]=F}const g=_;var D=i(19749),N=i(54966),Z=i(35691),G=i(37670),p=i(2854),a=i(21072),P=i(11890),O=i(66949),R=i(50867),K=i(63876),Q=i(71507),V=i(29555),ee=i(33395),W=i(69772),H=i(71412),I=i(85376),X=i(31777),Ee=i(57137),te=i(72180),pe=H.Z.isPlatform("Mac OS X"),he=pe&&H.Z.isBrowser("Firefox < 29"),oe=Ee.Z.hasCommandModifier,me=Ee.Z.isCtrlKeyCommand;function Oe(M){return pe&&M.altKey||me(M)}function we(M){return oe(M)?M.shiftKey?"redo":"undo":null}function Ce(M){return!pe&&M.shiftKey?null:Oe(M)?"delete-word":"delete"}function et(M){return oe(M)&&pe?"backspace-to-start-of-line":Oe(M)?"backspace-word":"backspace"}function De(M){switch(M.keyCode){case 66:return oe(M)?"bold":null;case 68:return me(M)?"delete":null;case 72:return me(M)?"backspace":null;case 73:return oe(M)?"italic":null;case 74:return oe(M)?"code":null;case 75:return pe&&me(M)?"secondary-cut":null;case 77:return me(M)?"split-block":null;case 79:return me(M)?"split-block":null;case 84:return pe&&me(M)?"transpose-characters":null;case 85:return oe(M)?"underline":null;case 87:return pe&&me(M)?"backspace-word":null;case 88:return oe(M)&&M.shiftKey?"strikethrough":null;case 89:return me(M)?pe?"secondary-paste":"redo":null;case 90:return we(M)||null;case te.Z.RETURN:return"split-block";case te.Z.DELETE:return Ce(M);case te.Z.BACKSPACE:return et(M);case te.Z.LEFT:return he&&oe(M)?"move-selection-to-start-of-block":null;case te.Z.RIGHT:return he&&oe(M)?"move-selection-to-end-of-block":null;default:return null}}const ve=De;var xe=i(51362),je=i(39639),We=i(285),Ne=i(82581),He=i(62253),ke=i(7485);function ae(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function Ze(M,A){if(!(M instanceof A))throw new TypeError("Cannot call a class as a function")}function ct(M,A){for(var S=0;S<A.length;S++){var F=A[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}function at(M,A,S){return A&&ct(M.prototype,A),S&&ct(M,S),M}function Ie(M,A,S){return A in M?Object.defineProperty(M,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[A]=S,M}function yt(M){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},yt(M)}function xt(M,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(A&&A.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),A&&Je(M,A)}function Tt(M){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{},F=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(S).filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable}))),F.forEach(function(v){Ie(M,v,S[v])})}return M}function ie(M,A){var S=Object.keys(M);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(M);A&&(F=F.filter(function(v){return Object.getOwnPropertyDescriptor(M,v).enumerable})),S.push.apply(S,F)}return S}function ue(M,A){return A=A!=null?A:{},Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(A)):ie(Object(A)).forEach(function(S){Object.defineProperty(M,S,Object.getOwnPropertyDescriptor(A,S))}),M}function be(M,A){return A&&(ft(A)==="object"||typeof A=="function")?A:ae(M)}function Je(M,A){return Je=Object.setPrototypeOf||function(F,v){return F.__proto__=v,F},Je(M,A)}function ft(M){"@swc/helpers - typeof";return M&&typeof Symbol<"u"&&M.constructor===Symbol?"symbol":typeof M}function It(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}}function Jt(M){var A=It();return function(){var F=yt(M),v;if(A){var ne=yt(this).constructor;v=Reflect.construct(F,arguments,ne)}else v=F.apply(this,arguments);return be(this,v)}}var rn=H.Z.isBrowser("IE"),Bn=!0,Rn=!rn,On={edit:O.Z,composite:p.Z,drag:P.Z,cut:null,render:null},Mt=!1,Dn=function(M){"use strict";xt(S,M);var A=Jt(S);function S(){return Ze(this,S),A.apply(this,arguments)}return at(S,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._update()}},{key:"componentDidUpdate",value:function(){this._update()}},{key:"_update",value:function(){var v=this.props.editor;v._latestEditorState=this.props.editorState,v._blockSelectEvents=!0}}]),S}(ke.Component),Pt="{{editor_id_placeholder}}",En,vn=function(M){"use strict";xt(S,M);var A=Jt(S);function S(F){Ze(this,S);var v;return v=A.call(this,F),Ie(ae(v),"_blockSelectEvents",void 0),Ie(ae(v),"_clipboard",void 0),Ie(ae(v),"_handler",void 0),Ie(ae(v),"_dragCount",void 0),Ie(ae(v),"_internalDrag",!1),Ie(ae(v),"_editorKey",void 0),Ie(ae(v),"_placeholderAccessibilityID",void 0),Ie(ae(v),"_latestEditorState",void 0),Ie(ae(v),"_latestCommittedEditorState",void 0),Ie(ae(v),"_pendingStateFromBeforeInput",void 0),Ie(ae(v),"_onBeforeInput",void 0),Ie(ae(v),"_onBlur",void 0),Ie(ae(v),"_onCharacterData",void 0),Ie(ae(v),"_onCompositionEnd",void 0),Ie(ae(v),"_onCompositionStart",void 0),Ie(ae(v),"_onCopy",void 0),Ie(ae(v),"_onCut",void 0),Ie(ae(v),"_onDragEnd",void 0),Ie(ae(v),"_onDragOver",void 0),Ie(ae(v),"_onDragStart",void 0),Ie(ae(v),"_onDrop",void 0),Ie(ae(v),"_onInput",void 0),Ie(ae(v),"_onFocus",void 0),Ie(ae(v),"_onKeyDown",void 0),Ie(ae(v),"_onKeyPress",void 0),Ie(ae(v),"_onKeyUp",void 0),Ie(ae(v),"_onMouseDown",void 0),Ie(ae(v),"_onMouseUp",void 0),Ie(ae(v),"_onPaste",void 0),Ie(ae(v),"_onSelect",void 0),Ie(ae(v),"editor",void 0),Ie(ae(v),"editorContainer",void 0),Ie(ae(v),"getEditorKey",void 0),Ie(ae(v),"lhVersion",void 0),Ie(ae(v),"state",{contentsKey:0}),Ie(ae(v),"_handleEditorContainerRef",function(ne){v.editorContainer=ne,v.editor=ne!==null?ne.firstChild:null}),Ie(ae(v),"focus",function(ne){var Pe=v.props.editorState,ze=Pe.getSelection().getHasFocus(),it=v.editor;if(it){var nt=W.Z.getScrollParent(it),fe=ne||(0,xe.Z)(nt),Fe=fe.x,pt=fe.y;(0,We.Z)((0,Ne.Z)(it),"editorNode is not an HTMLElement"),it.focus({preventScroll:!0}),nt===window?window.scrollTo(Fe,pt):ee.Z.setTop(nt,pt),ze||v.update(V.Z.forceSelection(Pe,Pe.getSelection()))}}),Ie(ae(v),"blur",function(){var ne=v.editor;ne&&((0,We.Z)((0,Ne.Z)(ne),"editorNode is not an HTMLElement"),ne.blur())}),Ie(ae(v),"setMode",function(ne){var Pe=v.props,ze=Pe.onPaste,it=Pe.onCut,nt=Pe.onCopy,fe=Tt({},On.edit);ze&&(fe.onPaste=ze),it&&(fe.onCut=it),nt&&(fe.onCopy=nt);var Fe=ue(Tt({},On),{edit:fe});v._handler=Fe[ne]}),Ie(ae(v),"exitCurrentMode",function(){v.setMode("edit")}),Ie(ae(v),"restoreEditorDOM",function(ne){R.Z?(0,R.Z)(function(){return v.setState({contentsKey:v.state.contentsKey+1},function(){v.focus(ne)})}):v.setState({contentsKey:v.state.contentsKey+1},function(){v.focus(ne)})}),Ie(ae(v),"setClipboard",function(ne){v._clipboard=ne}),Ie(ae(v),"getClipboard",function(){return v._clipboard}),Ie(ae(v),"update",function(ne){var Pe=v.props.onChange;v._latestEditorState=ne,R.Z?(0,R.Z)(function(){return Pe(ne)}):Pe(ne)}),Ie(ae(v),"onDragEnter",function(){v._dragCount++}),Ie(ae(v),"onDragLeave",function(){v._dragCount--,v._dragCount===0&&v.exitCurrentMode()}),v._blockSelectEvents=!1,v._clipboard=null,v._handler=null,v._dragCount=0,v._editorKey=F.editorKey||(0,X.Z)(),v._placeholderAccessibilityID="placeholder-"+v._editorKey,v._latestEditorState=F.editorState,v._latestCommittedEditorState=F.editorState,v._onBeforeInput=v._buildHandler("onBeforeInput"),v._onBlur=v._buildHandler("onBlur"),v._onCharacterData=v._buildHandler("onCharacterData"),v._onCompositionEnd=v._buildHandler("onCompositionEnd"),v._onCompositionStart=v._buildHandler("onCompositionStart"),v._onCopy=v._buildHandler("onCopy"),v._onCut=v._buildHandler("onCut"),v._onDragEnd=v._buildHandler("onDragEnd"),v._onDragOver=v._buildHandler("onDragOver"),v._onDragStart=v._buildHandler("onDragStart"),v._onDrop=v._buildHandler("onDrop"),v._onInput=v._buildHandler("onInput"),v._onFocus=v._buildHandler("onFocus"),v._onKeyDown=v._buildHandler("onKeyDown"),v._onKeyPress=v._buildHandler("onKeyPress"),v._onKeyUp=v._buildHandler("onKeyUp"),v._onMouseDown=function(ne){ne.button===2&&ne.preventDefault()},v._onMouseUp=v._buildHandler("onMouseUp"),v._onPaste=v._buildHandler("onPaste"),v._onSelect=v._buildHandler("onSelect"),v.getEditorKey=function(){return v._editorKey},Bn&&["onDownArrow","onEscape","onLeftArrow","onRightArrow","onTab","onUpArrow"].forEach(function(ne){F.hasOwnProperty(ne)&&console.warn("Supplying an `".concat(ne,"` prop to `DraftEditor` has ")+"been deprecated. If your handler needs access to the keyboard event, supply a custom `keyBindingFn` prop that falls back to the default one (eg. https://is.gd/wHKQ3W).")}),v}return at(S,[{key:"_buildHandler",value:function(v){var ne=this;return function(Pe){if(!ne.props.readOnly){var ze=ne._handler&&ne._handler[v];ze&&(R.Z?(0,R.Z)(function(){return ze(ne,Pe)}):ze(ne,Pe))}}}},{key:"_showPlaceholder",value:function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()}},{key:"_renderPlaceholder",value:function(){if(this._showPlaceholder()){var v={ariaHidden:this.props.placeholderAriaHidden,accessibilityID:this._placeholderAccessibilityID,className:this.props.placeholderClassName,editorState:this.props.editorState,text:(0,He.Z)(this.props.placeholder),textAlignment:this.props.textAlignment};return ke.createElement(K.Z,v)}return null}},{key:"_renderARIADescribedBy",value:function(){var v=this.props.ariaDescribedBy||"";if(this.props.placeholderAriaHidden)return v===Pt?void 0:v;var ne=this._showPlaceholder()?this._placeholderAccessibilityID:"";return v.replace(Pt,ne)||void 0}},{key:"render",value:function(){var v=this.props,ne=v.blockRenderMap,Pe=v.blockRendererFn,ze=v.blockStyleFn,it=v.customStyleFn,nt=v.customStyleMap,fe=v.editorState,Fe=v.preventScroll,pt=v.readOnly,St=v.textAlignment,Dt=v.textDirectionality,Wt=v.lhVersion,Rt=(0,I.Z)({"DraftEditor/root":!0,"DraftEditor/alignLeft":St==="left","DraftEditor/alignRight":St==="right","DraftEditor/alignCenter":St==="center"}),Xt={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},un=this.props.role||"textbox",Ot=un==="combobox"?!!this.props.ariaExpanded:null,tr={blockRenderMap:ne,blockRendererFn:Pe,blockStyleFn:ze,customStyleMap:Tt({},G.Z,nt),customStyleFn:it,editorKey:this._editorKey,editorState:fe,preventScroll:Fe,textDirectionality:Dt,lhVersion:Wt},Hn=this.props.contentClassName!=null?this.props.contentClassName+" ":"",Nn;return ke.createElement("div",{className:Rt},this._renderPlaceholder(),ke.createElement("div",{className:(0,I.Z)("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},ke.createElement("div",{"aria-activedescendant":pt?null:this.props.ariaActiveDescendantID,"aria-autocomplete":pt?null:this.props.ariaAutoComplete,"aria-controls":pt?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":pt?null:Ot,"aria-label":(Nn=this.props.ariaLabel)!==null&&Nn!==void 0?Nn:this.props.placeholder,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":pt?null:this.props.ariaOwneeID,"aria-required":this.props.ariaRequired,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:Hn+(0,I.Z)({notranslate:!pt,"public/DraftEditor/content":!0}),contentEditable:!pt,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:pt?null:un,spellCheck:Rn&&this.props.spellCheck,style:Xt,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},ke.createElement(Dn,{editor:this,editorState:fe}),ke.createElement(a.Z,ue(Tt({},tr),{key:"contents"+this.state.contentsKey})))))}},{key:"componentDidMount",value:function(){this._blockSelectEvents=!1,!Mt&&(0,je.Z)("draft_ods_enabled")&&(Mt=!0,Q.Z.initODS()),this.setMode("edit")}},{key:"componentDidUpdate",value:function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState}}]),S}(En=ke.Component);Ie(vn,"defaultProps",{ariaDescribedBy:Pt,blockRenderMap:Z.Z,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:ve,readOnly:!1,spellCheck:!1,stripPastedStyles:!1});const Et=vn;var Fn=i(82689),Qt=i(6746),on=i(32545),dn=i(86227),bn=i(22560),sn=i(83035),xn=i(23230),Nt=i(16941),cn=i(96477);function hn(M,A){(A==null||A>M.length)&&(A=M.length);for(var S=0,F=new Array(A);S<A;S++)F[S]=M[S];return F}function Kn(M){if(Array.isArray(M))return hn(M)}function Ln(M,A,S){return A in M?Object.defineProperty(M,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[A]=S,M}function zn(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function Gn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yt(M){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{},F=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(S).filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable}))),F.forEach(function(v){Ln(M,v,S[v])})}return M}function Sn(M,A){var S=Object.keys(M);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(M);A&&(F=F.filter(function(v){return Object.getOwnPropertyDescriptor(M,v).enumerable})),S.push.apply(S,F)}return S}function qt(M,A){return A=A!=null?A:{},Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(A)):Sn(Object(A)).forEach(function(S){Object.defineProperty(M,S,Object.getOwnPropertyDescriptor(A,S))}),M}function Ht(M){return Kn(M)||zn(M)||Wn(M)||Gn()}function Wn(M,A){if(M){if(typeof M=="string")return hn(M,A);var S=Object.prototype.toString.call(M).slice(8,-1);if(S==="Object"&&M.constructor&&(S=M.constructor.name),S==="Map"||S==="Set")return Array.from(S);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return hn(M,A)}}var Vn=function(M,A){for(var S=Ht(M).reverse();S.length;){var F=S.pop();A(F);var v=F.children;(0,We.Z)(Array.isArray(v),"Invalid tree raw block"),S=S.concat(Ht(v.reverse()))}},In=function(M){if(!(M&&M.type))return!1;var A=M.type;return A==="unordered-list-item"||A==="ordered-list-item"},jn=function(M){Array.isArray(M.children)&&(M.children=M.children.map(function(A){return A.type===M.type?qt(Yt({},A),{depth:(M.depth||0)+1}):A}))},zt={fromRawTreeStateToRawState:function(A){var S=A.blocks,F=[];return(0,We.Z)(Array.isArray(S),"Invalid raw state"),!Array.isArray(S)||!S.length?A:(Vn(S,function(v){var ne=Yt({},v);In(v)&&(ne.depth=ne.depth||0,jn(v),v.children!=null&&v.children.length>0)||(delete ne.children,F.push(ne))}),A.blocks=F,qt(Yt({},A),{blocks:F}))},fromRawStateToRawTreeState:function(A){var S=[],F=[];return A.blocks.forEach(function(v){var ne=In(v),Pe=v.depth||0,ze=qt(Yt({},v),{children:[]});if(!ne){S.push(ze);return}var it=F[0];if(it==null&&Pe===0)S.push(ze);else if(it==null||it.depth<Pe-1){var nt={key:(0,X.Z)(),text:"",depth:Pe-1,type:v.type,children:[],entityRanges:[],inlineStyleRanges:[]};F.unshift(nt),Pe===1?S.push(nt):it!=null&&it.children.push(nt),nt.children.push(ze)}else if(it.depth===Pe-1)it.children.push(ze);else{for(;it!=null&&it.depth>=Pe;)F.shift(),it=F[0];Pe>0?it.children.push(ze):S.push(ze)}}),qt(Yt({},A),{blocks:S})}};const dt=zt;var Gt=i(39114),Mn={isValidBlock:function(A,S){var F=A.getKey(),v=A.getParentKey();if(v!=null){var ne=S.get(v);if(!ne.getChildKeys().includes(F))return(0,Gt.Z)(!0,"Tree is missing parent -> child pointer on %s",F),!1}var Pe=A.getChildKeys().map(function(Fe){return S.get(Fe)});if(!Pe.every(function(Fe){return Fe.getParentKey()===F}))return(0,Gt.Z)(!0,"Tree is missing child -> parent pointer on %s",F),!1;var ze=A.getPrevSiblingKey();if(ze!=null){var it=S.get(ze);if(it.getNextSiblingKey()!==F)return(0,Gt.Z)(!0,"Tree is missing nextSibling pointer on %s's prevSibling",F),!1}var nt=A.getNextSiblingKey();if(nt!=null){var fe=S.get(nt);if(fe.getPrevSiblingKey()!==F)return(0,Gt.Z)(!0,"Tree is missing prevSibling pointer on %s's nextSibling",F),!1}return nt!==null&&ze!==null&&ze===nt?((0,Gt.Z)(!0,"Tree has a two-node cycle at %s",F),!1):A.text!=""&&A.getChildKeys().size>0?((0,Gt.Z)(!0,"Leaf node %s has children",F),!1):!0},isConnectedTree:function(A){var S=A.toArray().filter(function(pt){return pt.getParentKey()==null&&pt.getPrevSiblingKey()==null});if(S.length!==1)return(0,Gt.Z)(!0,"Tree is not connected. More or less than one first node"),!1;for(var F=S.shift(),v=0,ne=F.getKey(),Pe=[];ne!=null;){var ze=A.get(ne),it=ze.getChildKeys(),nt=ze.getNextSiblingKey();if(it.size>0){nt!=null&&Pe.unshift(nt);var fe=it.map(function(pt){return A.get(pt)}),Fe=fe.find(function(pt){return pt.getPrevSiblingKey()==null});if(Fe==null)return(0,Gt.Z)(!0,"%s has no first child",ne),!1;ne=Fe.getKey()}else ze.getNextSiblingKey()!=null?ne=ze.getNextSiblingKey():ne=Pe.shift();v++}return v!==A.size?((0,Gt.Z)(!0,"Tree is not connected. %s nodes were seen instead of %s",v,A.size),!1):!0},isValidTree:function(A){var S=A.toArray();return S.every(function(F){return Mn.isValidBlock(F,A)})?Mn.isConnectedTree(A):!1}};const ut=Mn;function Cn(M,A){var S=M.map(function(F,v){var ne=A[v];return L.Z.create({style:F,entity:ne})});return(0,u.List)(S)}const ln=Cn;var mn=i(27926),an=mn.Z.substr;function $t(M,A){var S=Array(M.length).fill(null);return A&&A.forEach(function(F){for(var v=an(M,0,F.offset).length,ne=v+an(M,F.offset,F.length).length,Pe=v;Pe<ne;Pe++)S[Pe]=F.key}),S}const wn=$t;var An=mn.Z.substr,U=(0,u.OrderedSet)();function _e(M,A){var S=Array(M.length).fill(U);return A&&A.forEach(function(F){for(var v=An(M,0,F.offset).length,ne=v+An(M,F.offset,F.length).length;v<ne;)S[v]=S[v].add(F.style),v++}),S}const ye=_e;function Be(M,A,S){return A in M?Object.defineProperty(M,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[A]=S,M}function Ae(M){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{},F=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(S).filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable}))),F.forEach(function(v){Be(M,v,S[v])})}return M}function $e(M,A){var S=Object.keys(M);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(M);A&&(F=F.filter(function(v){return Object.getOwnPropertyDescriptor(M,v).enumerable})),S.push.apply(S,F)}return S}function Qe(M,A){return A=A!=null?A:{},Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(A)):$e(Object(A)).forEach(function(S){Object.defineProperty(M,S,Object.getOwnPropertyDescriptor(A,S))}),M}var qe=(0,je.Z)("draft_tree_data_support"),tt=!0,Ye=function(M,A){var S=M.key,F=M.type,v=M.data,ne=M.text,Pe=M.depth,ze={text:ne,depth:Pe||0,type:F||"unstyled",key:S||(0,X.Z)(),data:(0,u.Map)(v),characterList:Re(M,A)};return ze},Re=function(M,A){var S=M.text,F=M.entityRanges,v=M.inlineStyleRanges,ne=F||[],Pe=v||[];return ln(ye(S,Pe),wn(S,ne.filter(function(ze){return A.hasOwnProperty(ze.key)}).map(function(ze){return Qe(Ae({},ze),{key:A[ze.key]})})))},Ue=function(M){return Qe(Ae({},M),{key:M.key||(0,X.Z)()})},ge=function(M,A,S){var F=A.map(function(v){return Qe(Ae({},v),{parentRef:S})});return M.concat(F.reverse())},Me=function(M,A){return M.map(Ue).reduce(function(S,F,v){(0,We.Z)(Array.isArray(F.children),"invalid RawDraftContentBlock can not be converted to ContentBlockNode");var ne=F.children.map(Ue),Pe=new cn.Z(Qe(Ae({},Ye(F,A)),{prevSibling:v===0?null:M[v-1].key,nextSibling:v===M.length-1?null:M[v+1].key,children:(0,u.List)(ne.map(function(Wt){return Wt.key}))}));S=S.set(Pe.getKey(),Pe);for(var ze=ge([],ne,Pe);ze.length>0;){var it=ze.pop(),nt=it.parentRef,fe=nt.getChildKeys(),Fe=fe.indexOf(it.key),pt=Array.isArray(it.children);if(!pt){(0,We.Z)(pt,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");break}var St=it.children.map(Ue),Dt=new cn.Z(Qe(Ae({},Ye(it,A)),{parent:nt.getKey(),children:(0,u.List)(St.map(function(Wt){return Wt.key})),prevSibling:Fe===0?null:fe.get(Fe-1),nextSibling:Fe===fe.size-1?null:fe.get(Fe+1)}));S=S.set(Dt.getKey(),Dt),ze=ge(ze,St,Dt)}return S},(0,u.OrderedMap)())},Te=function(M,A){return(0,u.OrderedMap)(M.map(function(S){var F=new D.Z(Ye(S,A));return[F.getKey(),F]}))},Ke=function(M,A){var S=M.blocks.find(function(ne){return Array.isArray(ne.children)&&ne.children.length>0}),F=qe&&!S?dt.fromRawStateToRawTreeState(M).blocks:M.blocks;if(!qe)return Te(S?dt.fromRawTreeStateToRawState(M).blocks:F,A);var v=Me(F,A);return tt&&(0,We.Z)(ut.isValidTree(v),"Should be a valid tree"),v},rt=function(M,A){var S=A.entityMap,F={},v=M;return Object.keys(S).forEach(function(ne){var Pe=S[ne],ze=Pe.type,it=Pe.mutability,nt=Pe.data;v=v.createEntity(ze,it,nt||{}),F[ne]=v.getLastCreatedEntityKey()}),{entityKeyMap:F,contentState:v}},vt=function(M){(0,We.Z)(Array.isArray(M.blocks),"invalid RawDraftContentState");var A=rt(N.Z.createFromText(""),M),S=A.contentState,F=A.entityKeyMap,v=Ke(M,F),ne=v.isEmpty()?new sn.Z:sn.Z.createEmpty(v.first().getKey());return new N.Z({blockMap:v,entityMap:S.getEntityMap(),selectionBefore:ne,selectionAfter:ne})};const mt=vt;var Bt=i(9448),At=i(36954)},83035:(se,q,i)=>{"use strict";i.d(q,{Z:()=>G});var f=i(55651),b=i.n(f);function L(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(p,a){if(!(p instanceof a))throw new TypeError("Cannot call a class as a function")}function o(p,a){for(var P=0;P<a.length;P++){var O=a[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}function E(p,a,P){return a&&o(p.prototype,a),P&&o(p,P),p}function B(p){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},B(p)}function y(p,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(a&&a.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),a&&_(p,a)}function k(p,a){return a&&(d(a)==="object"||typeof a=="function")?a:L(p)}function _(p,a){return _=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O},_(p,a)}function d(p){"@swc/helpers - typeof";return p&&typeof Symbol<"u"&&p.constructor===Symbol?"symbol":typeof p}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function g(p){var a=m();return function(){var O=B(p),R;if(a){var K=B(this).constructor;R=Reflect.construct(O,arguments,K)}else R=O.apply(this,arguments);return k(this,R)}}var D={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},N=(0,f.Record)(D),Z=function(p){y(P,p);var a=g(P);function P(){return u(this,P),a.apply(this,arguments)}return E(P,[{key:"serialize",value:function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())}},{key:"getAnchorKey",value:function(){return this.get("anchorKey")}},{key:"getAnchorOffset",value:function(){return this.get("anchorOffset")}},{key:"getFocusKey",value:function(){return this.get("focusKey")}},{key:"getFocusOffset",value:function(){return this.get("focusOffset")}},{key:"getIsBackward",value:function(){return this.get("isBackward")}},{key:"getHasFocus",value:function(){return this.get("hasFocus")}},{key:"hasEdgeWithin",value:function(R,K,Q){var V=this.getAnchorKey(),ee=this.getFocusKey();if(V===ee&&V===R){var W=this.getStartOffset(),H=this.getEndOffset();return K<=W&&W<=Q||K<=H&&H<=Q}if(R!==V&&R!==ee)return!1;var I=R===V?this.getAnchorOffset():this.getFocusOffset();return K<=I&&Q>=I}},{key:"isCollapsed",value:function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()}},{key:"getStartKey",value:function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()}},{key:"getStartOffset",value:function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()}},{key:"getEndKey",value:function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()}},{key:"getEndOffset",value:function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()}}],[{key:"createEmpty",value:function(R){return new P({anchorKey:R,anchorOffset:0,focusKey:R,focusOffset:0,isBackward:!1,hasFocus:!1})}}]),P}(N);const G=Z},76473:(se,q,i)=>{"use strict";i.d(q,{G_:()=>y,Ke:()=>G,Lc:()=>L,Pw:()=>k,TK:()=>d,Zr:()=>u,fw:()=>D,gX:()=>E,i3:()=>N,jW:()=>o,mR:()=>_,pk:()=>m});var f=i(37442),b=i(23860);function L(p){const a=p.getSelection(),P=p.getCurrentContent(),O=a.getStartKey(),R=a.getEndKey(),K=P.getBlockMap();return K.toSeq().skipUntil((Q,V)=>V===O).takeUntil((Q,V)=>V===R).concat([[R,K.get(R)]])}function u(p){return L(p).toList()}function o(p){if(p)return u(p).get(0)}function E(p){if(p){const a=o(p),O=p.getCurrentContent().getBlockMap().toSeq().toList();let R=0;if(O.forEach((K,Q)=>{K.get("key")===a.get("key")&&(R=Q-1)}),R>-1)return O.get(R)}}function B(p){return p?p.getCurrentContent().getBlockMap().toList():new List}function y(p){const a=u(p);if(!a.some(O=>O.type!==a.get(0).type))return a.get(0).type}function k(p){const a=f.ib.tryToRemoveBlockStyle(p);return a?f.yy.push(p,a,"change-block-type"):p}function _(p){let a="";const P=p.getSelection();let O=P.getAnchorOffset(),R=P.getFocusOffset();const K=u(p);if(K.size>0){if(P.getIsBackward()){const Q=O;O=R,R=Q}for(let Q=0;Q<K.size;Q+=1){const V=Q===0?O:0,ee=Q===K.size-1?R:K.get(Q).getText().length;a+=K.get(Q).getText().slice(V,ee)}}return a}function d(p){const a=p.getCurrentContent(),P=p.getSelection();let O=f.Dg.removeRange(a,P,"forward");const R=O.getSelectionAfter(),K=O.getBlockForKey(R.getStartKey());return O=f.Dg.insertText(O,R,"\n",K.getInlineStyleAt(R.getStartOffset()),null),f.yy.push(p,O,"insert-fragment")}function m(p){const a=f.Dg.splitBlock(p.getCurrentContent(),p.getSelection()),P=f.yy.push(p,a,"split-block");return k(P)}function g(p){const a=p.getCurrentContent().getBlockMap().toList(),P=p.getSelection().merge({anchorKey:a.first().get("key"),anchorOffset:0,focusKey:a.last().get("key"),focusOffset:a.last().getLength()}),O=Modifier.removeRange(p.getCurrentContent(),P,"forward");return EditorState.push(p,O,"remove-range")}function D(p,a){const P=f.Dg.setBlockData(p.getCurrentContent(),p.getSelection(),a);return f.yy.push(p,P,"change-block-data")}function N(p){let a=new b.D5({});const P=u(p);if(P&&P.size>0)for(let O=0;O<P.size;O+=1){const R=P.get(O).getData();if(!R||R.size===0){a=a.clear();break}if(O===0)a=R;else if(a.forEach((K,Q)=>{(!R.get(Q)||R.get(Q)!==K)&&(a=a.delete(Q))}),a.size===0){a=a.clear();break}}return a}const Z=(0,b.D5)({code:{element:"pre"}}),G=f.fb.merge(Z)},2592:(se,q,i)=>{"use strict";i.d(q,{Z:()=>E});var f=i(37442),b=i(76473),L=i(20899);function u(B){const y=B.getSelection();if(y.isCollapsed()){const k=B.getCurrentContent(),_=y.getStartKey(),d=k.getBlockForKey(_);if(!(0,L.c)(d)&&d.getType()!=="unstyled"&&d.getLength()===y.getStartOffset())return(0,b.pk)(B);if((0,L.c)(d)&&d.getLength()===0){const m=d.getDepth();if(m===0)return(0,b.Pw)(B);if(m>0)return(0,L.H)(B,-1,m)}}}function o(B){return B.which===13&&(B.getModifierState("Shift")||B.getModifierState("Alt")||B.getModifierState("Control"))}function E(B,y){return o(y)?B.getSelection().isCollapsed()?f.ib.insertSoftNewline(B):(0,b.TK)(B):u(B)}},20899:(se,q,i)=>{"use strict";i.d(q,{H:()=>o,c:()=>L});var f=i(37442),b=i(76473);function L(E){if(E){const B=E.getType();return B==="unordered-list-item"||B==="ordered-list-item"}return!1}function u(E,B,y){const k=E.getSelection(),_=E.getCurrentContent();let d=_.getBlockMap();const m=(0,b.Lc)(E).map(g=>{let D=g.getDepth()+B;return D=Math.max(0,Math.min(D,y)),g.set("depth",D)});return d=d.merge(m),_.merge({blockMap:d,selectionBefore:k,selectionAfter:k})}function o(E,B,y){const k=E.getSelection();let _;k.getIsBackward()?_=k.getFocusKey():_=k.getAnchorKey();const d=E.getCurrentContent(),m=d.getBlockForKey(_),g=m.getType();if(g!=="unordered-list-item"&&g!=="ordered-list-item")return E;const D=d.getBlockBefore(_);if(!D||D.getType()!==g)return E;const Z=m.getDepth();if(B===1&&Z===y)return E;const p=u(E,B,y);return f.yy.push(E,p,"adjust-depth")}},75985:(se,q,i)=>{(function(){var f=i(55983),b=i(97279).utf8,L=i(85884),u=i(97279).bin,o=function(E,B){E.constructor==String?B&&B.encoding==="binary"?E=u.stringToBytes(E):E=b.stringToBytes(E):L(E)?E=Array.prototype.slice.call(E,0):!Array.isArray(E)&&E.constructor!==Uint8Array&&(E=E.toString());for(var y=f.bytesToWords(E),k=E.length*8,_=1732584193,d=-271733879,m=-1732584194,g=271733878,D=0;D<y.length;D++)y[D]=(y[D]<<8|y[D]>>>24)&16711935|(y[D]<<24|y[D]>>>8)&4278255360;y[k>>>5]|=128<<k%32,y[(k+64>>>9<<4)+14]=k;for(var N=o._ff,Z=o._gg,G=o._hh,p=o._ii,D=0;D<y.length;D+=16){var a=_,P=d,O=m,R=g;_=N(_,d,m,g,y[D+0],7,-680876936),g=N(g,_,d,m,y[D+1],12,-389564586),m=N(m,g,_,d,y[D+2],17,606105819),d=N(d,m,g,_,y[D+3],22,-1044525330),_=N(_,d,m,g,y[D+4],7,-176418897),g=N(g,_,d,m,y[D+5],12,1200080426),m=N(m,g,_,d,y[D+6],17,-1473231341),d=N(d,m,g,_,y[D+7],22,-45705983),_=N(_,d,m,g,y[D+8],7,1770035416),g=N(g,_,d,m,y[D+9],12,-1958414417),m=N(m,g,_,d,y[D+10],17,-42063),d=N(d,m,g,_,y[D+11],22,-1990404162),_=N(_,d,m,g,y[D+12],7,1804603682),g=N(g,_,d,m,y[D+13],12,-40341101),m=N(m,g,_,d,y[D+14],17,-1502002290),d=N(d,m,g,_,y[D+15],22,1236535329),_=Z(_,d,m,g,y[D+1],5,-165796510),g=Z(g,_,d,m,y[D+6],9,-1069501632),m=Z(m,g,_,d,y[D+11],14,643717713),d=Z(d,m,g,_,y[D+0],20,-373897302),_=Z(_,d,m,g,y[D+5],5,-701558691),g=Z(g,_,d,m,y[D+10],9,38016083),m=Z(m,g,_,d,y[D+15],14,-660478335),d=Z(d,m,g,_,y[D+4],20,-405537848),_=Z(_,d,m,g,y[D+9],5,568446438),g=Z(g,_,d,m,y[D+14],9,-1019803690),m=Z(m,g,_,d,y[D+3],14,-187363961),d=Z(d,m,g,_,y[D+8],20,1163531501),_=Z(_,d,m,g,y[D+13],5,-1444681467),g=Z(g,_,d,m,y[D+2],9,-51403784),m=Z(m,g,_,d,y[D+7],14,1735328473),d=Z(d,m,g,_,y[D+12],20,-1926607734),_=G(_,d,m,g,y[D+5],4,-378558),g=G(g,_,d,m,y[D+8],11,-2022574463),m=G(m,g,_,d,y[D+11],16,1839030562),d=G(d,m,g,_,y[D+14],23,-35309556),_=G(_,d,m,g,y[D+1],4,-1530992060),g=G(g,_,d,m,y[D+4],11,1272893353),m=G(m,g,_,d,y[D+7],16,-155497632),d=G(d,m,g,_,y[D+10],23,-1094730640),_=G(_,d,m,g,y[D+13],4,681279174),g=G(g,_,d,m,y[D+0],11,-358537222),m=G(m,g,_,d,y[D+3],16,-722521979),d=G(d,m,g,_,y[D+6],23,76029189),_=G(_,d,m,g,y[D+9],4,-640364487),g=G(g,_,d,m,y[D+12],11,-421815835),m=G(m,g,_,d,y[D+15],16,530742520),d=G(d,m,g,_,y[D+2],23,-995338651),_=p(_,d,m,g,y[D+0],6,-198630844),g=p(g,_,d,m,y[D+7],10,1126891415),m=p(m,g,_,d,y[D+14],15,-1416354905),d=p(d,m,g,_,y[D+5],21,-57434055),_=p(_,d,m,g,y[D+12],6,1700485571),g=p(g,_,d,m,y[D+3],10,-1894986606),m=p(m,g,_,d,y[D+10],15,-1051523),d=p(d,m,g,_,y[D+1],21,-2054922799),_=p(_,d,m,g,y[D+8],6,1873313359),g=p(g,_,d,m,y[D+15],10,-30611744),m=p(m,g,_,d,y[D+6],15,-1560198380),d=p(d,m,g,_,y[D+13],21,1309151649),_=p(_,d,m,g,y[D+4],6,-145523070),g=p(g,_,d,m,y[D+11],10,-1120210379),m=p(m,g,_,d,y[D+2],15,718787259),d=p(d,m,g,_,y[D+9],21,-343485551),_=_+a>>>0,d=d+P>>>0,m=m+O>>>0,g=g+R>>>0}return f.endian([_,d,m,g])};o._ff=function(E,B,y,k,_,d,m){var g=E+(B&y|~B&k)+(_>>>0)+m;return(g<<d|g>>>32-d)+B},o._gg=function(E,B,y,k,_,d,m){var g=E+(B&k|y&~k)+(_>>>0)+m;return(g<<d|g>>>32-d)+B},o._hh=function(E,B,y,k,_,d,m){var g=E+(B^y^k)+(_>>>0)+m;return(g<<d|g>>>32-d)+B},o._ii=function(E,B,y,k,_,d,m){var g=E+(y^(B|~k))+(_>>>0)+m;return(g<<d|g>>>32-d)+B},o._blocksize=16,o._digestsize=16,se.exports=function(E,B){if(E==null)throw new Error("Illegal argument "+E);var y=f.wordsToBytes(o(E,B));return B&&B.asBytes?y:B&&B.asString?u.bytesToString(y):f.bytesToHex(y)}})()},46198:(se,q,i)=>{"use strict";function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(b){console.error(b)}}f(),se.exports=i(23801)},93168:(se,q,i)=>{"use strict";i.d(q,{Z:()=>E});var f=i(7485),b=i(79929),L=i(79573),u=i(14207);function o(B){var y=B.store,k=B.context,_=B.children,d=(0,f.useMemo)(function(){var D=(0,L.X)(y);return{store:y,subscription:D}},[y]),m=(0,f.useMemo)(function(){return y.getState()},[y]);(0,u.L)(function(){var D=d.subscription;return D.onStateChange=D.notifyNestedSubs,D.trySubscribe(),m!==y.getState()&&D.notifyNestedSubs(),function(){D.tryUnsubscribe(),D.onStateChange=null}},[d,m]);var g=k||b.E;return f.createElement(g.Provider,{value:d},_)}const E=o},7485:(se,q,i)=>{"use strict";se.exports=i(67887)},84515:se=>{"use strict";se.exports=canvg},29750:se=>{"use strict";se.exports=dompurify},75177:se=>{"use strict";se.exports=html2canvas}},gi={};function st(se){var q=gi[se];if(q!==void 0)return q.exports;var i=gi[se]={id:se,loaded:!1,exports:{}};return mi[se].call(i.exports,i,i.exports,st),i.loaded=!0,i.exports}st.m=mi,st.amdO={},(()=>{var se=[];st.O=(q,i,f,b)=>{if(i){b=b||0;for(var L=se.length;L>0&&se[L-1][2]>b;L--)se[L]=se[L-1];se[L]=[i,f,b];return}for(var u=1/0,L=0;L<se.length;L++){for(var[i,f,b]=se[L],o=!0,E=0;E<i.length;E++)(b&!1||u>=b)&&Object.keys(st.O).every(m=>st.O[m](i[E]))?i.splice(E--,1):(o=!1,b<u&&(u=b));if(o){se.splice(L--,1);var B=f();B!==void 0&&(q=B)}}return q}})(),st.n=se=>{var q=se&&se.__esModule?()=>se.default:()=>se;return st.d(q,{a:q}),q},(()=>{var se=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__,q;st.t=function(i,f){if(f&1&&(i=this(i)),f&8||typeof i=="object"&&i&&(f&4&&i.__esModule||f&16&&typeof i.then=="function"))return i;var b=Object.create(null);st.r(b);var L={};q=q||[null,se({}),se([]),se(se)];for(var u=f&2&&i;typeof u=="object"&&!~q.indexOf(u);u=se(u))Object.getOwnPropertyNames(u).forEach(o=>L[o]=()=>i[o]);return L.default=()=>i,st.d(b,L),b}})(),st.d=(se,q)=>{for(var i in q)st.o(q,i)&&!st.o(se,i)&&Object.defineProperty(se,i,{enumerable:!0,get:q[i]})},st.f={},st.e=se=>Promise.all(Object.keys(st.f).reduce((q,i)=>(st.f[i](se,q),q),[])),st.u=se=>""+{126:"lazy-lib-i18n",147:"lazy-lib-rehype",972:"lazy-lib-dl"}[se]+"-"+{126:"0c4cafd9f422c10efb46",147:"b19e130d71a6816b983e",972:"58e8123e2490e2e9db9a"}[se]+".js",st.miniCssF=se=>{},st.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(se){if(typeof window=="object")return window}}(),st.hmd=se=>(se=Object.create(se),se.children||(se.children=[]),Object.defineProperty(se,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+se.id)}}),se),st.o=(se,q)=>Object.prototype.hasOwnProperty.call(se,q),(()=>{var se={},q="@mb2023/mb-proto:";st.l=(i,f,b,L)=>{if(se[i]){se[i].push(f);return}var u,o;if(b!==void 0)for(var E=document.getElementsByTagName("script"),B=0;B<E.length;B++){var y=E[B];if(y.getAttribute("src")==i||y.getAttribute("data-webpack")==q+b){u=y;break}}u||(o=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,st.nc&&u.setAttribute("nonce",st.nc),u.setAttribute("data-webpack",q+b),u.src=i),se[i]=[f];var k=(d,m)=>{u.onerror=u.onload=null,clearTimeout(_);var g=se[i];if(delete se[i],u.parentNode&&u.parentNode.removeChild(u),g&&g.forEach(D=>D(m)),d)return d(m)},_=setTimeout(k.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=k.bind(null,u.onerror),u.onload=k.bind(null,u.onload),o&&document.head.appendChild(u)}})(),st.r=se=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(se,"__esModule",{value:!0})},st.nmd=se=>(se.paths=[],se.children||(se.children=[]),se),st.j=96,st.p="/mb-proto2/",(()=>{var se={96:0};st.f.j=(f,b)=>{var L=st.o(se,f)?se[f]:void 0;if(L!==0)if(L)b.push(L[2]);else{var u=new Promise((y,k)=>L=se[f]=[y,k]);b.push(L[2]=u);var o=st.p+st.u(f),E=new Error,B=y=>{if(st.o(se,f)&&(L=se[f],L!==0&&(se[f]=void 0),L)){var k=y&&(y.type==="load"?"missing":y.type),_=y&&y.target&&y.target.src;E.message="Loading chunk "+f+" failed.\n("+k+": "+_+")",E.name="ChunkLoadError",E.type=k,E.request=_,L[1](E)}};st.l(o,B,"chunk-"+f,f)}},st.O.j=f=>se[f]===0;var q=(f,b)=>{var[L,u,o]=b,E,B,y=0;if(L.some(_=>se[_]!==0)){for(E in u)st.o(u,E)&&(st.m[E]=u[E]);if(o)var k=o(st)}for(f&&f(b);y<L.length;y++)B=L[y],st.o(se,B)&&se[B]&&se[B][0](),se[B]=0;return st.O(k)},i=self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[];i.forEach(q.bind(null,0)),i.push=q.bind(null,i.push.bind(i))})(),st.nc=void 0,st.O(void 0,[736],()=>st(76557)),st.O(void 0,[736],()=>st(61936));var yi=st.O(void 0,[736],()=>st(27287));yi=st.O(yi)})();

//# sourceMappingURL=preview-html-zip-dd08d37e0281b51010ca.js.map